/*! For license information please see main.js.LICENSE.txt */
!function(){var n={429:function(n,i,e){var r;!function(a){"use strict";var o,t,s,u=9e15,c=1e9,l="0123456789abcdef",g="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",m="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},d=!0,f="[DecimalError] ",p=f+"Invalid argument: ",N=f+"Precision limit exceeded",M=f+"crypto unavailable",A=Math.floor,L=Math.pow,S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,D=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,O=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,T=1e7,y=g.length-1,R=m.length-1,v={name:"[object Decimal]"};function E(n){var i,e,r,a=n.length-1,o="",t=n[0];if(a>0){for(o+=t,i=1;i<a;i++)(e=7-(r=n[i]+"").length)&&(o+=j(e)),o+=r;(e=7-(r=(t=n[i])+"").length)&&(o+=j(e))}else if(0===t)return"0";for(;t%10==0;)t/=10;return o+t}function b(n,i,e){if(n!==~~n||n<i||n>e)throw Error(p+n)}function F(n,i,e,r){var a,o,t,s;for(o=n[0];o>=10;o/=10)--i;return--i<0?(i+=7,a=0):(a=Math.ceil((i+1)/7),i%=7),o=L(10,7-i),s=n[a]%o|0,null==r?i<3?(0==i?s=s/100|0:1==i&&(s=s/10|0),t=e<4&&99999==s||e>3&&49999==s||5e4==s||0==s):t=(e<4&&s+1==o||e>3&&s+1==o/2)&&(n[a+1]/o/100|0)==L(10,i-2)-1||(s==o/2||0==s)&&0==(n[a+1]/o/100|0):i<4?(0==i?s=s/1e3|0:1==i?s=s/100|0:2==i&&(s=s/10|0),t=(r||e<4)&&9999==s||!r&&e>3&&4999==s):t=((r||e<4)&&s+1==o||!r&&e>3&&s+1==o/2)&&(n[a+1]/o/1e3|0)==L(10,i-3)-1,t}function C(n,i,e){for(var r,a,o=[0],t=0,s=n.length;t<s;){for(a=o.length;a--;)o[a]*=i;for(o[0]+=l.indexOf(n.charAt(t++)),r=0;r<o.length;r++)o[r]>e-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/e|0,o[r]%=e)}return o.reverse()}v.absoluteValue=v.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),P(n)},v.ceil=function(){return P(new this.constructor(this),this.e+1,2)},v.comparedTo=v.cmp=function(n){var i,e,r,a,o=this,t=o.d,s=(n=new o.constructor(n)).d,u=o.s,c=n.s;if(!t||!s)return u&&c?u!==c?u:t===s?0:!t^u<0?1:-1:NaN;if(!t[0]||!s[0])return t[0]?u:s[0]?-c:0;if(u!==c)return u;if(o.e!==n.e)return o.e>n.e^u<0?1:-1;for(i=0,e=(r=t.length)<(a=s.length)?r:a;i<e;++i)if(t[i]!==s[i])return t[i]>s[i]^u<0?1:-1;return r===a?0:r>a^u<0?1:-1},v.cosine=v.cos=function(){var n,i,e=this,r=e.constructor;return e.d?e.d[0]?(n=r.precision,i=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(n,i){var e,r,a=i.d.length;a<32?r=(1/X(4,e=Math.ceil(a/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,i=_(n,1,i.times(r),new n(1));for(var o=e;o--;){var t=i.times(i);i=t.times(t).minus(t).times(8).plus(1)}return n.precision-=e,i}(r,I(r,e)),r.precision=n,r.rounding=i,P(2==s||3==s?e.neg():e,n,i,!0)):new r(1):new r(NaN)},v.cubeRoot=v.cbrt=function(){var n,i,e,r,a,o,t,s,u,c,l=this,g=l.constructor;if(!l.isFinite()||l.isZero())return new g(l);for(d=!1,(o=l.s*L(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new g(o.toString()):(e=E(l.d),(o=((n=l.e)-e.length+1)%3)&&(e+=1==o||-2==o?"0":"00"),o=L(e,1/3),n=A((n+1)/3)-(n%3==(n<0?-1:2)),(r=new g(e=o==1/0?"5e"+n:(e=o.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=l.s),t=(n=g.precision)+3;;)if(c=(u=(s=r).times(s).times(s)).plus(l),r=x(c.plus(l).times(s),c.plus(u),t+2,1),E(s.d).slice(0,t)===(e=E(r.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(a||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(P(r,n+1,1),i=!r.times(r).times(r).eq(l));break}if(!a&&(P(s,n+1,0),s.times(s).times(s).eq(l))){r=s;break}t+=4,a=1}return d=!0,P(r,n,g.rounding,i)},v.decimalPlaces=v.dp=function(){var n,i=this.d,e=NaN;if(i){if(e=7*((n=i.length-1)-A(this.e/7)),n=i[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},v.dividedBy=v.div=function(n){return x(this,new this.constructor(n))},v.dividedToIntegerBy=v.divToInt=function(n){var i=this.constructor;return P(x(this,new i(n),0,1,1),i.precision,i.rounding)},v.equals=v.eq=function(n){return 0===this.cmp(n)},v.floor=function(){return P(new this.constructor(this),this.e+1,3)},v.greaterThan=v.gt=function(n){return this.cmp(n)>0},v.greaterThanOrEqualTo=v.gte=function(n){var i=this.cmp(n);return 1==i||0===i},v.hyperbolicCosine=v.cosh=function(){var n,i,e,r,a,o=this,t=o.constructor,s=new t(1);if(!o.isFinite())return new t(o.s?1/0:NaN);if(o.isZero())return s;e=t.precision,r=t.rounding,t.precision=e+Math.max(o.e,o.sd())+4,t.rounding=1,(a=o.d.length)<32?i=(1/X(4,n=Math.ceil(a/3))).toString():(n=16,i="2.3283064365386962890625e-10"),o=_(t,1,o.times(i),new t(1),!0);for(var u,c=n,l=new t(8);c--;)u=o.times(o),o=s.minus(u.times(l.minus(u.times(l))));return P(o,t.precision=e,t.rounding=r,!0)},v.hyperbolicSine=v.sinh=function(){var n,i,e,r,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(i=o.precision,e=o.rounding,o.precision=i+Math.max(a.e,a.sd())+4,o.rounding=1,(r=a.d.length)<3)a=_(o,2,a,a,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,a=_(o,2,a=a.times(1/X(5,n)),a,!0);for(var t,s=new o(5),u=new o(16),c=new o(20);n--;)t=a.times(a),a=a.times(s.plus(t.times(u.times(t).plus(c))))}return o.precision=i,o.rounding=e,P(a,i,e,!0)},v.hyperbolicTangent=v.tanh=function(){var n,i,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,i=r.rounding,r.precision=n+7,r.rounding=1,x(e.sinh(),e.cosh(),r.precision=n,r.rounding=i)):new r(e.s)},v.inverseCosine=v.acos=function(){var n,i=this,e=i.constructor,r=i.abs().cmp(1),a=e.precision,o=e.rounding;return-1!==r?0===r?i.isNeg()?q(e,a,o):new e(0):new e(NaN):i.isZero()?q(e,a+4,o).times(.5):(e.precision=a+6,e.rounding=1,i=i.asin(),n=q(e,a+4,o).times(.5),e.precision=a,e.rounding=o,n.minus(i))},v.inverseHyperbolicCosine=v.acosh=function(){var n,i,e=this,r=e.constructor;return e.lte(1)?new r(e.eq(1)?0:NaN):e.isFinite()?(n=r.precision,i=r.rounding,r.precision=n+Math.max(Math.abs(e.e),e.sd())+4,r.rounding=1,d=!1,e=e.times(e).minus(1).sqrt().plus(e),d=!0,r.precision=n,r.rounding=i,e.ln()):new r(e)},v.inverseHyperbolicSine=v.asinh=function(){var n,i,e=this,r=e.constructor;return!e.isFinite()||e.isZero()?new r(e):(n=r.precision,i=r.rounding,r.precision=n+2*Math.max(Math.abs(e.e),e.sd())+6,r.rounding=1,d=!1,e=e.times(e).plus(1).sqrt().plus(e),d=!0,r.precision=n,r.rounding=i,e.ln())},v.inverseHyperbolicTangent=v.atanh=function(){var n,i,e,r,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(n=o.precision,i=o.rounding,r=a.sd(),Math.max(r,n)<2*-a.e-1?P(new o(a),n,i,!0):(o.precision=e=r-a.e,a=x(a.plus(1),new o(1).minus(a),e+n,1),o.precision=n+4,o.rounding=1,a=a.ln(),o.precision=n,o.rounding=i,a.times(.5))):new o(NaN)},v.inverseSine=v.asin=function(){var n,i,e,r,a=this,o=a.constructor;return a.isZero()?new o(a):(i=a.abs().cmp(1),e=o.precision,r=o.rounding,-1!==i?0===i?((n=q(o,e+4,r).times(.5)).s=a.s,n):new o(NaN):(o.precision=e+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=e,o.rounding=r,a.times(2)))},v.inverseTangent=v.atan=function(){var n,i,e,r,a,o,t,s,u,c=this,l=c.constructor,g=l.precision,m=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&g+4<=R)return(t=q(l,g+4,m).times(.25)).s=c.s,t}else{if(!c.s)return new l(NaN);if(g+4<=R)return(t=q(l,g+4,m).times(.5)).s=c.s,t}for(l.precision=s=g+10,l.rounding=1,n=e=Math.min(28,s/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(d=!1,i=Math.ceil(s/7),r=1,u=c.times(c),t=new l(c),a=c;-1!==n;)if(a=a.times(u),o=t.minus(a.div(r+=2)),a=a.times(u),void 0!==(t=o.plus(a.div(r+=2))).d[i])for(n=i;t.d[n]===o.d[n]&&n--;);return e&&(t=t.times(2<<e-1)),d=!0,P(t,l.precision=g,l.rounding=m,!0)},v.isFinite=function(){return!!this.d},v.isInteger=v.isInt=function(){return!!this.d&&A(this.e/7)>this.d.length-2},v.isNaN=function(){return!this.s},v.isNegative=v.isNeg=function(){return this.s<0},v.isPositive=v.isPos=function(){return this.s>0},v.isZero=function(){return!!this.d&&0===this.d[0]},v.lessThan=v.lt=function(n){return this.cmp(n)<0},v.lessThanOrEqualTo=v.lte=function(n){return this.cmp(n)<1},v.logarithm=v.log=function(n){var i,e,r,a,o,t,s,u,c=this,l=c.constructor,g=l.precision,m=l.rounding;if(null==n)n=new l(10),i=!0;else{if(e=(n=new l(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new l(NaN);i=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new l(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(i)if(e.length>1)o=!0;else{for(a=e[0];a%10==0;)a/=10;o=1!==a}if(d=!1,t=H(c,s=g+5),r=i?W(l,s+10):H(n,s),F((u=x(t,r,s,1)).d,a=g,m))do{if(t=H(c,s+=10),r=i?W(l,s+10):H(n,s),u=x(t,r,s,1),!o){+E(u.d).slice(a+1,a+15)+1==1e14&&(u=P(u,g+1,0));break}}while(F(u.d,a+=10,m));return d=!0,P(u,g,m)},v.minus=v.sub=function(n){var i,e,r,a,o,t,s,u,c,l,g,m,h=this,f=h.constructor;if(n=new f(n),!h.d||!n.d)return h.s&&n.s?h.d?n.s=-n.s:n=new f(n.d||h.s!==n.s?h:NaN):n=new f(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(c=h.d,m=n.d,s=f.precision,u=f.rounding,!c[0]||!m[0]){if(m[0])n.s=-n.s;else{if(!c[0])return new f(3===u?-0:0);n=new f(h)}return d?P(n,s,u):n}if(e=A(n.e/7),l=A(h.e/7),c=c.slice(),o=l-e){for((g=o<0)?(i=c,o=-o,t=m.length):(i=m,e=l,t=c.length),o>(r=Math.max(Math.ceil(s/7),t)+2)&&(o=r,i.length=1),i.reverse(),r=o;r--;)i.push(0);i.reverse()}else{for((g=(r=c.length)<(t=m.length))&&(t=r),r=0;r<t;r++)if(c[r]!=m[r]){g=c[r]<m[r];break}o=0}for(g&&(i=c,c=m,m=i,n.s=-n.s),t=c.length,r=m.length-t;r>0;--r)c[t++]=0;for(r=m.length;r>o;){if(c[--r]<m[r]){for(a=r;a&&0===c[--a];)c[a]=T-1;--c[a],c[r]+=T}c[r]-=m[r]}for(;0===c[--t];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=Y(c,e),d?P(n,s,u):n):new f(3===u?-0:0)},v.modulo=v.mod=function(n){var i,e=this,r=e.constructor;return n=new r(n),!e.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||e.d&&!e.d[0]?P(new r(e),r.precision,r.rounding):(d=!1,9==r.modulo?(i=x(e,n.abs(),0,3,1)).s*=n.s:i=x(e,n,0,r.modulo,1),i=i.times(n),d=!0,e.minus(i))},v.naturalExponential=v.exp=function(){return V(this)},v.naturalLogarithm=v.ln=function(){return H(this)},v.negated=v.neg=function(){var n=new this.constructor(this);return n.s=-n.s,P(n)},v.plus=v.add=function(n){var i,e,r,a,o,t,s,u,c,l,g=this,m=g.constructor;if(n=new m(n),!g.d||!n.d)return g.s&&n.s?g.d||(n=new m(n.d||g.s===n.s?g:NaN)):n=new m(NaN),n;if(g.s!=n.s)return n.s=-n.s,g.minus(n);if(c=g.d,l=n.d,s=m.precision,u=m.rounding,!c[0]||!l[0])return l[0]||(n=new m(g)),d?P(n,s,u):n;if(o=A(g.e/7),r=A(n.e/7),c=c.slice(),a=o-r){for(a<0?(e=c,a=-a,t=l.length):(e=l,r=o,t=c.length),a>(t=(o=Math.ceil(s/7))>t?o+1:t+1)&&(a=t,e.length=1),e.reverse();a--;)e.push(0);e.reverse()}for((t=c.length)-(a=l.length)<0&&(a=t,e=l,l=c,c=e),i=0;a;)i=(c[--a]=c[a]+l[a]+i)/T|0,c[a]%=T;for(i&&(c.unshift(i),++r),t=c.length;0==c[--t];)c.pop();return n.d=c,n.e=Y(c,r),d?P(n,s,u):n},v.precision=v.sd=function(n){var i,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(p+n);return e.d?(i=J(e.d),n&&e.e+1>i&&(i=e.e+1)):i=NaN,i},v.round=function(){var n=this,i=n.constructor;return P(new i(n),n.e+1,i.rounding)},v.sine=v.sin=function(){var n,i,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,i=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(n,i){var e,r=i.d.length;if(r<3)return _(n,2,i,i);e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=_(n,2,i=i.times(1/X(5,e)),i);for(var a,o=new n(5),t=new n(16),s=new n(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(t.times(a).minus(s))));return i}(r,I(r,e)),r.precision=n,r.rounding=i,P(s>2?e.neg():e,n,i,!0)):new r(NaN)},v.squareRoot=v.sqrt=function(){var n,i,e,r,a,o,t=this,s=t.d,u=t.e,c=t.s,l=t.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?t:1/0);for(d=!1,0==(c=Math.sqrt(+t))||c==1/0?(((i=E(s)).length+u)%2==0&&(i+="0"),c=Math.sqrt(i),u=A((u+1)/2)-(u<0||u%2),r=new l(i=c==1/0?"5e"+u:(i=c.toExponential()).slice(0,i.indexOf("e")+1)+u)):r=new l(c.toString()),e=(u=l.precision)+3;;)if(r=(o=r).plus(x(t,o,e+2,1)).times(.5),E(o.d).slice(0,e)===(i=E(r.d)).slice(0,e)){if("9999"!=(i=i.slice(e-3,e+1))&&(a||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(P(r,u+1,1),n=!r.times(r).eq(t));break}if(!a&&(P(o,u+1,0),o.times(o).eq(t))){r=o;break}e+=4,a=1}return d=!0,P(r,u,l.rounding,n)},v.tangent=v.tan=function(){var n,i,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,i=r.rounding,r.precision=n+10,r.rounding=1,(e=e.sin()).s=1,e=x(e,new r(1).minus(e.times(e)).sqrt(),n+10,0),r.precision=n,r.rounding=i,P(2==s||4==s?e.neg():e,n,i,!0)):new r(NaN)},v.times=v.mul=function(n){var i,e,r,a,o,t,s,u,c,l=this,g=l.constructor,m=l.d,h=(n=new g(n)).d;if(n.s*=l.s,!(m&&m[0]&&h&&h[0]))return new g(!n.s||m&&!m[0]&&!h||h&&!h[0]&&!m?NaN:m&&h?0*n.s:n.s/0);for(e=A(l.e/7)+A(n.e/7),(u=m.length)<(c=h.length)&&(o=m,m=h,h=o,t=u,u=c,c=t),o=[],r=t=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(i=0,a=u+r;a>r;)s=o[a]+h[r]*m[a-r-1]+i,o[a--]=s%T|0,i=s/T|0;o[a]=(o[a]+i)%T|0}for(;!o[--t];)o.pop();return i?++e:o.shift(),n.d=o,n.e=Y(o,e),d?P(n,g.precision,g.rounding):n},v.toBinary=function(n,i){return U(this,2,n,i)},v.toDecimalPlaces=v.toDP=function(n,i){var e=this,r=e.constructor;return e=new r(e),void 0===n?e:(b(n,0,c),void 0===i?i=r.rounding:b(i,0,8),P(e,n+e.e+1,i))},v.toExponential=function(n,i){var e,r=this,a=r.constructor;return void 0===n?e=Z(r,!0):(b(n,0,c),void 0===i?i=a.rounding:b(i,0,8),e=Z(r=P(new a(r),n+1,i),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+e:e},v.toFixed=function(n,i){var e,r,a=this,o=a.constructor;return void 0===n?e=Z(a):(b(n,0,c),void 0===i?i=o.rounding:b(i,0,8),e=Z(r=P(new o(a),n+a.e+1,i),!1,n+r.e+1)),a.isNeg()&&!a.isZero()?"-"+e:e},v.toFraction=function(n){var i,e,r,a,o,t,s,u,c,l,g,m,h=this,f=h.d,N=h.constructor;if(!f)return new N(h);if(c=e=new N(1),r=u=new N(0),t=(o=(i=new N(r)).e=J(f)-h.e-1)%7,i.d[0]=L(10,t<0?7+t:t),null==n)n=o>0?i:c;else{if(!(s=new N(n)).isInt()||s.lt(c))throw Error(p+s);n=s.gt(i)?o>0?i:c:s}for(d=!1,s=new N(E(f)),l=N.precision,N.precision=o=7*f.length*2;g=x(s,i,0,1,1),1!=(a=e.plus(g.times(r))).cmp(n);)e=r,r=a,a=c,c=u.plus(g.times(a)),u=a,a=i,i=s.minus(g.times(a)),s=a;return a=x(n.minus(e),r,0,1,1),u=u.plus(a.times(c)),e=e.plus(a.times(r)),u.s=c.s=h.s,m=x(c,r,o,1).minus(h).abs().cmp(x(u,e,o,1).minus(h).abs())<1?[c,r]:[u,e],N.precision=l,d=!0,m},v.toHexadecimal=v.toHex=function(n,i){return U(this,16,n,i)},v.toNearest=function(n,i){var e=this,r=e.constructor;if(e=new r(e),null==n){if(!e.d)return e;n=new r(1),i=r.rounding}else{if(n=new r(n),void 0===i?i=r.rounding:b(i,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(d=!1,e=x(e,n,0,i,1).times(n),d=!0,P(e)):(n.s=e.s,e=n),e},v.toNumber=function(){return+this},v.toOctal=function(n,i){return U(this,8,n,i)},v.toPower=v.pow=function(n){var i,e,r,a,o,t,s=this,u=s.constructor,c=+(n=new u(n));if(!(s.d&&n.d&&s.d[0]&&n.d[0]))return new u(L(+s,c));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,n.eq(1))return P(s,r,o);if((i=A(n.e/7))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return a=B(u,s,e,r),n.s<0?new u(1).div(a):P(a,r,o);if((t=s.s)<0){if(i<n.d.length-1)return new u(NaN);if(0==(1&n.d[i])&&(t=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=t,s}return(i=0!=(e=L(+s,c))&&isFinite(e)?new u(e+"").e:A(c*(Math.log("0."+E(s.d))/Math.LN10+s.e+1)))>u.maxE+1||i<u.minE-1?new u(i>0?t/0:0):(d=!1,u.rounding=s.s=1,e=Math.min(12,(i+"").length),(a=V(n.times(H(s,r+e)),r)).d&&F((a=P(a,r+5,1)).d,r,o)&&(i=r+10,+E((a=P(V(n.times(H(s,i+e)),i),i+5,1)).d).slice(r+1,r+15)+1==1e14&&(a=P(a,r+1,0))),a.s=t,d=!0,u.rounding=o,P(a,r,o))},v.toPrecision=function(n,i){var e,r=this,a=r.constructor;return void 0===n?e=Z(r,r.e<=a.toExpNeg||r.e>=a.toExpPos):(b(n,1,c),void 0===i?i=a.rounding:b(i,0,8),e=Z(r=P(new a(r),n,i),n<=r.e||r.e<=a.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+e:e},v.toSignificantDigits=v.toSD=function(n,i){var e=this.constructor;return void 0===n?(n=e.precision,i=e.rounding):(b(n,1,c),void 0===i?i=e.rounding:b(i,0,8)),P(new e(this),n,i)},v.toString=function(){var n=this,i=n.constructor,e=Z(n,n.e<=i.toExpNeg||n.e>=i.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},v.truncated=v.trunc=function(){return P(new this.constructor(this),this.e+1,1)},v.valueOf=v.toJSON=function(){var n=this,i=n.constructor,e=Z(n,n.e<=i.toExpNeg||n.e>=i.toExpPos);return n.isNeg()?"-"+e:e};var x=function(){function n(n,i,e){var r,a=0,o=n.length;for(n=n.slice();o--;)r=n[o]*i+a,n[o]=r%e|0,a=r/e|0;return a&&n.unshift(a),n}function i(n,i,e,r){var a,o;if(e!=r)o=e>r?1:-1;else for(a=o=0;a<e;a++)if(n[a]!=i[a]){o=n[a]>i[a]?1:-1;break}return o}function e(n,i,e,r){for(var a=0;e--;)n[e]-=a,a=n[e]<i[e]?1:0,n[e]=a*r+n[e]-i[e];for(;!n[0]&&n.length>1;)n.shift()}return function(r,a,o,s,u,c){var l,g,m,h,d,f,p,N,M,L,S,w,D,O,y,R,v,E,b,F,C=r.constructor,x=r.s==a.s?1:-1,Z=r.d,Y=a.d;if(!(Z&&Z[0]&&Y&&Y[0]))return new C(r.s&&a.s&&(Z?!Y||Z[0]!=Y[0]:Y)?Z&&0==Z[0]||!Y?0*x:x/0:NaN);for(c?(d=1,g=r.e-a.e):(c=T,d=7,g=A(r.e/d)-A(a.e/d)),b=Y.length,v=Z.length,L=(M=new C(x)).d=[],m=0;Y[m]==(Z[m]||0);m++);if(Y[m]>(Z[m]||0)&&g--,null==o?(O=o=C.precision,s=C.rounding):O=u?o+(r.e-a.e)+1:o,O<0)L.push(1),f=!0;else{if(O=O/d+2|0,m=0,1==b){for(h=0,Y=Y[0],O++;(m<v||h)&&O--;m++)y=h*c+(Z[m]||0),L[m]=y/Y|0,h=y%Y|0;f=h||m<v}else{for((h=c/(Y[0]+1)|0)>1&&(Y=n(Y,h,c),Z=n(Z,h,c),b=Y.length,v=Z.length),R=b,w=(S=Z.slice(0,b)).length;w<b;)S[w++]=0;(F=Y.slice()).unshift(0),E=Y[0],Y[1]>=c/2&&++E;do{h=0,(l=i(Y,S,b,w))<0?(D=S[0],b!=w&&(D=D*c+(S[1]||0)),(h=D/E|0)>1?(h>=c&&(h=c-1),1==(l=i(p=n(Y,h,c),S,N=p.length,w=S.length))&&(h--,e(p,b<N?F:Y,N,c))):(0==h&&(l=h=1),p=Y.slice()),(N=p.length)<w&&p.unshift(0),e(S,p,w,c),-1==l&&(l=i(Y,S,b,w=S.length))<1&&(h++,e(S,b<w?F:Y,w,c)),w=S.length):0===l&&(h++,S=[0]),L[m++]=h,l&&S[0]?S[w++]=Z[R]||0:(S=[Z[R]],w=1)}while((R++<v||void 0!==S[0])&&O--);f=void 0!==S[0]}L[0]||L.shift()}if(1==d)M.e=g,t=f;else{for(m=1,h=L[0];h>=10;h/=10)m++;M.e=m+g*d-1,P(M,u?o+M.e+1:o,s,f)}return M}}();function P(n,i,e,r){var a,o,t,s,u,c,l,g,m,h=n.constructor;n:if(null!=i){if(!(g=n.d))return n;for(a=1,s=g[0];s>=10;s/=10)a++;if((o=i-a)<0)o+=7,t=i,u=(l=g[m=0])/L(10,a-t-1)%10|0;else if((m=Math.ceil((o+1)/7))>=(s=g.length)){if(!r)break n;for(;s++<=m;)g.push(0);l=u=0,a=1,t=(o%=7)-7+1}else{for(l=s=g[m],a=1;s>=10;s/=10)a++;u=(t=(o%=7)-7+a)<0?0:l/L(10,a-t-1)%10|0}if(r=r||i<0||void 0!==g[m+1]||(t<0?l:l%L(10,a-t-1)),c=e<4?(u||r)&&(0==e||e==(n.s<0?3:2)):u>5||5==u&&(4==e||r||6==e&&(o>0?t>0?l/L(10,a-t):0:g[m-1])%10&1||e==(n.s<0?8:7)),i<1||!g[0])return g.length=0,c?(i-=n.e+1,g[0]=L(10,(7-i%7)%7),n.e=-i||0):g[0]=n.e=0,n;if(0==o?(g.length=m,s=1,m--):(g.length=m+1,s=L(10,7-o),g[m]=t>0?(l/L(10,a-t)%L(10,t)|0)*s:0),c)for(;;){if(0==m){for(o=1,t=g[0];t>=10;t/=10)o++;for(t=g[0]+=s,s=1;t>=10;t/=10)s++;o!=s&&(n.e++,g[0]==T&&(g[0]=1));break}if(g[m]+=s,g[m]!=T)break;g[m--]=0,s=1}for(o=g.length;0===g[--o];)g.pop()}return d&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function Z(n,i,e){if(!n.isFinite())return Q(n);var r,a=n.e,o=E(n.d),t=o.length;return i?(e&&(r=e-t)>0?o=o.charAt(0)+"."+o.slice(1)+j(r):t>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):a<0?(o="0."+j(-a-1)+o,e&&(r=e-t)>0&&(o+=j(r))):a>=t?(o+=j(a+1-t),e&&(r=e-a-1)>0&&(o=o+"."+j(r))):((r=a+1)<t&&(o=o.slice(0,r)+"."+o.slice(r)),e&&(r=e-t)>0&&(a+1===t&&(o+="."),o+=j(r))),o}function Y(n,i){var e=n[0];for(i*=7;e>=10;e/=10)i++;return i}function W(n,i,e){if(i>y)throw d=!0,e&&(n.precision=e),Error(N);return P(new n(g),i,1,!0)}function q(n,i,e){if(i>R)throw Error(N);return P(new n(m),i,e,!0)}function J(n){var i=n.length-1,e=7*i+1;if(i=n[i]){for(;i%10==0;i/=10)e--;for(i=n[0];i>=10;i/=10)e++}return e}function j(n){for(var i="";n--;)i+="0";return i}function B(n,i,e,r){var a,o=new n(1),t=Math.ceil(r/7+4);for(d=!1;;){if(e%2&&K((o=o.times(i)).d,t)&&(a=!0),0===(e=A(e/2))){e=o.d.length-1,a&&0===o.d[e]&&++o.d[e];break}K((i=i.times(i)).d,t)}return d=!0,o}function k(n){return 1&n.d[n.d.length-1]}function $(n,i,e){for(var r,a=new n(i[0]),o=0;++o<i.length;){if(!(r=new n(i[o])).s){a=r;break}a[e](r)&&(a=r)}return a}function V(n,i){var e,r,a,o,t,s,u,c=0,l=0,g=0,m=n.constructor,h=m.rounding,f=m.precision;if(!n.d||!n.d[0]||n.e>17)return new m(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==i?(d=!1,u=f):u=i,s=new m(.03125);n.e>-2;)n=n.times(s),g+=5;for(u+=r=Math.log(L(2,g))/Math.LN10*2+5|0,e=o=t=new m(1),m.precision=u;;){if(o=P(o.times(n),u,1),e=e.times(++l),E((s=t.plus(x(o,e,u,1))).d).slice(0,u)===E(t.d).slice(0,u)){for(a=g;a--;)t=P(t.times(t),u,1);if(null!=i)return m.precision=f,t;if(!(c<3&&F(t.d,u-r,h,c)))return P(t,m.precision=f,h,d=!0);m.precision=u+=10,e=o=s=new m(1),l=0,c++}t=s}}function H(n,i){var e,r,a,o,t,s,u,c,l,g,m,h=1,f=n,p=f.d,N=f.constructor,M=N.rounding,A=N.precision;if(f.s<0||!p||!p[0]||!f.e&&1==p[0]&&1==p.length)return new N(p&&!p[0]?-1/0:1!=f.s?NaN:p?0:f);if(null==i?(d=!1,l=A):l=i,N.precision=l+=10,r=(e=E(p)).charAt(0),!(Math.abs(o=f.e)<15e14))return c=W(N,l+2,A).times(o+""),f=H(new N(r+"."+e.slice(1)),l-10).plus(c),N.precision=A,null==i?P(f,A,M,d=!0):f;for(;r<7&&1!=r||1==r&&e.charAt(1)>3;)r=(e=E((f=f.times(n)).d)).charAt(0),h++;for(o=f.e,r>1?(f=new N("0."+e),o++):f=new N(r+"."+e.slice(1)),g=f,u=t=f=x(f.minus(1),f.plus(1),l,1),m=P(f.times(f),l,1),a=3;;){if(t=P(t.times(m),l,1),E((c=u.plus(x(t,new N(a),l,1))).d).slice(0,l)===E(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(W(N,l+2,A).times(o+""))),u=x(u,new N(h),l,1),null!=i)return N.precision=A,u;if(!F(u.d,l-10,M,s))return P(u,N.precision=A,M,d=!0);N.precision=l+=10,c=t=f=x(g.minus(1),g.plus(1),l,1),m=P(f.times(f),l,1),a=s=1}u=c,a+=2}}function Q(n){return String(n.s*n.s/0)}function z(n,i){var e,r,a;for((e=i.indexOf("."))>-1&&(i=i.replace(".","")),(r=i.search(/e/i))>0?(e<0&&(e=r),e+=+i.slice(r+1),i=i.substring(0,r)):e<0&&(e=i.length),r=0;48===i.charCodeAt(r);r++);for(a=i.length;48===i.charCodeAt(a-1);--a);if(i=i.slice(r,a)){if(a-=r,n.e=e=e-r-1,n.d=[],r=(e+1)%7,e<0&&(r+=7),r<a){for(r&&n.d.push(+i.slice(0,r)),a-=7;r<a;)n.d.push(+i.slice(r,r+=7));r=7-(i=i.slice(r)).length}else r-=a;for(;r--;)i+="0";n.d.push(+i),d&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function G(n,i){var e,r,a,t,s,u,c,l,g;if("Infinity"===i||"NaN"===i)return+i||(n.s=NaN),n.e=NaN,n.d=null,n;if(w.test(i))e=16,i=i.toLowerCase();else if(S.test(i))e=2;else{if(!D.test(i))throw Error(p+i);e=8}for((t=i.search(/p/i))>0?(c=+i.slice(t+1),i=i.substring(2,t)):i=i.slice(2),s=(t=i.indexOf("."))>=0,r=n.constructor,s&&(t=(u=(i=i.replace(".","")).length)-t,a=B(r,new r(e),t,2*t)),t=g=(l=C(i,e,T)).length-1;0===l[t];--t)l.pop();return t<0?new r(0*n.s):(n.e=Y(l,g),n.d=l,d=!1,s&&(n=x(n,a,4*u)),c&&(n=n.times(Math.abs(c)<54?L(2,c):o.pow(2,c))),d=!0,n)}function _(n,i,e,r,a){var o,t,s,u,c=n.precision,l=Math.ceil(c/7);for(d=!1,u=e.times(e),s=new n(r);;){if(t=x(s.times(u),new n(i++*i++),c,1),s=a?r.plus(t):r.minus(t),r=x(t.times(u),new n(i++*i++),c,1),void 0!==(t=s.plus(r)).d[l]){for(o=l;t.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=t,t=o}return d=!0,t.d.length=l+1,t}function X(n,i){for(var e=n;--i;)e*=n;return e}function I(n,i){var e,r=i.s<0,a=q(n,n.precision,1),o=a.times(.5);if((i=i.abs()).lte(o))return s=r?4:1,i;if((e=i.divToInt(a)).isZero())s=r?3:2;else{if((i=i.minus(e.times(a))).lte(o))return s=k(e)?r?2:3:r?4:1,i;s=k(e)?r?1:4:r?3:2}return i.minus(a).abs()}function U(n,i,e,r){var a,o,s,u,g,m,h,d,f,p=n.constructor,N=void 0!==e;if(N?(b(e,1,c),void 0===r?r=p.rounding:b(r,0,8)):(e=p.precision,r=p.rounding),n.isFinite()){for(N?(a=2,16==i?e=4*e-3:8==i&&(e=3*e-2)):a=i,(s=(h=Z(n)).indexOf("."))>=0&&(h=h.replace(".",""),(f=new p(1)).e=h.length-s,f.d=C(Z(f),10,a),f.e=f.d.length),o=g=(d=C(h,10,a)).length;0==d[--g];)d.pop();if(d[0]){if(s<0?o--:((n=new p(n)).d=d,n.e=o,d=(n=x(n,f,e,r,0,a)).d,o=n.e,m=t),s=d[e],u=a/2,m=m||void 0!==d[e+1],m=r<4?(void 0!==s||m)&&(0===r||r===(n.s<0?3:2)):s>u||s===u&&(4===r||m||6===r&&1&d[e-1]||r===(n.s<0?8:7)),d.length=e,m)for(;++d[--e]>a-1;)d[e]=0,e||(++o,d.unshift(1));for(g=d.length;!d[g-1];--g);for(s=0,h="";s<g;s++)h+=l.charAt(d[s]);if(N){if(g>1)if(16==i||8==i){for(s=16==i?4:3,--g;g%s;g++)h+="0";for(g=(d=C(h,a,i)).length;!d[g-1];--g);for(s=1,h="1.";s<g;s++)h+=l.charAt(d[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>g)for(o-=g;o--;)h+="0";else o<g&&(h=h.slice(0,o)+"."+h.slice(o))}else h=N?"0p+0":"0";h=(16==i?"0x":2==i?"0b":8==i?"0o":"")+h}else h=Q(n);return n.s<0?"-"+h:h}function K(n,i){if(n.length>i)return n.length=i,!0}function nn(n){return new this(n).abs()}function en(n){return new this(n).acos()}function rn(n){return new this(n).acosh()}function an(n,i){return new this(n).plus(i)}function on(n){return new this(n).asin()}function tn(n){return new this(n).asinh()}function sn(n){return new this(n).atan()}function un(n){return new this(n).atanh()}function cn(n,i){n=new this(n),i=new this(i);var e,r=this.precision,a=this.rounding,o=r+4;return n.s&&i.s?n.d||i.d?!i.d||n.isZero()?(e=i.s<0?q(this,r,a):new this(0)).s=n.s:!n.d||i.isZero()?(e=q(this,o,1).times(.5)).s=n.s:i.s<0?(this.precision=o,this.rounding=1,e=this.atan(x(n,i,o,1)),i=q(this,o,1),this.precision=r,this.rounding=a,e=n.s<0?e.minus(i):e.plus(i)):e=this.atan(x(n,i,o,1)):(e=q(this,o,1).times(i.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function ln(n){return new this(n).cbrt()}function gn(n){return P(n=new this(n),n.e+1,2)}function mn(n){if(!n||"object"!=typeof n)throw Error(f+"Object expected");var i,e,r,a=!0===n.defaults,o=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(i=0;i<o.length;i+=3)if(e=o[i],a&&(this[e]=h[e]),void 0!==(r=n[e])){if(!(A(r)===r&&r>=o[i+1]&&r<=o[i+2]))throw Error(p+e+": "+r);this[e]=r}if(e="crypto",a&&(this[e]=h[e]),void 0!==(r=n[e])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(p+e+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(M);this[e]=!0}else this[e]=!1}return this}function hn(n){return new this(n).cos()}function dn(n){return new this(n).cosh()}function fn(n,i){return new this(n).div(i)}function pn(n){return new this(n).exp()}function Nn(n){return P(n=new this(n),n.e+1,3)}function Mn(){var n,i,e=new this(0);for(d=!1,n=0;n<arguments.length;)if((i=new this(arguments[n++])).d)e.d&&(e=e.plus(i.times(i)));else{if(i.s)return d=!0,new this(1/0);e=i}return d=!0,e.sqrt()}function An(n){return n instanceof o||n&&"[object Decimal]"===n.name||!1}function Ln(n){return new this(n).ln()}function Sn(n,i){return new this(n).log(i)}function wn(n){return new this(n).log(2)}function Dn(n){return new this(n).log(10)}function On(){return $(this,arguments,"lt")}function Tn(){return $(this,arguments,"gt")}function yn(n,i){return new this(n).mod(i)}function Rn(n,i){return new this(n).mul(i)}function vn(n,i){return new this(n).pow(i)}function En(n){var i,e,r,a,o=0,t=new this(1),s=[];if(void 0===n?n=this.precision:b(n,1,c),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(i=crypto.getRandomValues(new Uint32Array(r));o<r;)(a=i[o])>=429e7?i[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=a%1e7;else{if(!crypto.randomBytes)throw Error(M);for(i=crypto.randomBytes(r*=4);o<r;)(a=i[o]+(i[o+1]<<8)+(i[o+2]<<16)+((127&i[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(i,o):(s.push(a%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(n%=7,(r=s[--o])&&n&&(a=L(10,7-n),s[o]=(r/a|0)*a);0===s[o];o--)s.pop();if(o<0)e=0,s=[0];else{for(e=-1;0===s[0];e-=7)s.shift();for(r=1,a=s[0];a>=10;a/=10)r++;r<7&&(e-=7-r)}return t.e=e,t.d=s,t}function bn(n){return P(n=new this(n),n.e+1,this.rounding)}function Fn(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function Cn(n){return new this(n).sin()}function xn(n){return new this(n).sinh()}function Pn(n){return new this(n).sqrt()}function Zn(n,i){return new this(n).sub(i)}function Yn(n){return new this(n).tan()}function Wn(n){return new this(n).tanh()}function qn(n){return P(n=new this(n),n.e+1,1)}(o=function n(i){var e,r,a;function o(n){var i,e,r,a=this;if(!(a instanceof o))return new o(n);if(a.constructor=o,n instanceof o)return a.s=n.s,void(d?!n.d||n.e>o.maxE?(a.e=NaN,a.d=null):n.e<o.minE?(a.e=0,a.d=[0]):(a.e=n.e,a.d=n.d.slice()):(a.e=n.e,a.d=n.d?n.d.slice():n.d));if("number"==(r=typeof n)){if(0===n)return a.s=1/n<0?-1:1,a.e=0,void(a.d=[0]);if(n<0?(n=-n,a.s=-1):a.s=1,n===~~n&&n<1e7){for(i=0,e=n;e>=10;e/=10)i++;return void(d?i>o.maxE?(a.e=NaN,a.d=null):i<o.minE?(a.e=0,a.d=[0]):(a.e=i,a.d=[n]):(a.e=i,a.d=[n]))}return 0*n!=0?(n||(a.s=NaN),a.e=NaN,void(a.d=null)):z(a,n.toString())}if("string"!==r)throw Error(p+n);return 45===(e=n.charCodeAt(0))?(n=n.slice(1),a.s=-1):(43===e&&(n=n.slice(1)),a.s=1),O.test(n)?z(a,n):G(a,n)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=mn,o.clone=n,o.isDecimal=An,o.abs=nn,o.acos=en,o.acosh=rn,o.add=an,o.asin=on,o.asinh=tn,o.atan=sn,o.atanh=un,o.atan2=cn,o.cbrt=ln,o.ceil=gn,o.cos=hn,o.cosh=dn,o.div=fn,o.exp=pn,o.floor=Nn,o.hypot=Mn,o.ln=Ln,o.log=Sn,o.log10=Dn,o.log2=wn,o.max=On,o.min=Tn,o.mod=yn,o.mul=Rn,o.pow=vn,o.random=En,o.round=bn,o.sign=Fn,o.sin=Cn,o.sinh=xn,o.sqrt=Pn,o.sub=Zn,o.tan=Yn,o.tanh=Wn,o.trunc=qn,void 0===i&&(i={}),i&&!0!==i.defaults)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<a.length;)i.hasOwnProperty(r=a[e++])||(i[r]=this[r]);return o.config(i),o}(h)).default=o.Decimal=o,g=new o(g),m=new o(m),void 0===(r=function(){return o}.call(i,e,i,n))||(n.exports=r)}()},894:function(n,i){var e;!function(r){"use strict";var a={s:1,n:0,d:1};function o(n){function i(){var i=Error.apply(this,arguments);i.name=this.name=n,this.stack=i.stack,this.message=i.message}function e(){}return e.prototype=Error.prototype,i.prototype=new e,i}var t=m.DivisionByZero=o("DivisionByZero"),s=m.InvalidParameter=o("InvalidParameter");function u(n,i){return isNaN(n=parseInt(n,10))&&c(),n*i}function c(){throw new s}var l=function(n,i){var e,r=0,o=1,s=1,l=0,g=0,m=0,h=1,d=1,f=0,p=1,N=1,M=1,A=1e7;if(null==n);else if(void 0!==i)s=(r=n)*(o=i);else switch(typeof n){case"object":"d"in n&&"n"in n?(r=n.n,o=n.d,"s"in n&&(r*=n.s)):0 in n?(r=n[0],1 in n&&(o=n[1])):c(),s=r*o;break;case"number":if(n<0&&(s=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=d=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));p<=A&&M<=A;){if(n===(e=(f+N)/(p+M))){p+M<=A?(r=f+N,o=p+M):M>p?(r=N,o=M):(r=f,o=p);break}n>e?(f+=N,p+=M):(N+=f,M+=p),p>A?(r=N,o=M):(r=f,o=p)}r*=d}else(isNaN(n)||isNaN(i))&&(o=r=NaN);break;case"string":if(null===(p=n.match(/\d+|./g))&&c(),"-"===p[f]?(s=-1,f++):"+"===p[f]&&f++,p.length===f+1?g=u(p[f++],s):"."===p[f+1]||"."===p[f]?("."!==p[f]&&(l=u(p[f++],s)),(1+ ++f===p.length||"("===p[f+1]&&")"===p[f+3]||"'"===p[f+1]&&"'"===p[f+3])&&(g=u(p[f],s),h=Math.pow(10,p[f].length),f++),("("===p[f]&&")"===p[f+2]||"'"===p[f]&&"'"===p[f+2])&&(m=u(p[f+1],s),d=Math.pow(10,p[f+1].length)-1,f+=3)):"/"===p[f+1]||":"===p[f+1]?(g=u(p[f],s),h=u(p[f+2],1),f+=3):"/"===p[f+3]&&" "===p[f+1]&&(l=u(p[f],s),g=u(p[f+2],s),h=u(p[f+4],1),f+=5),p.length<=f){s=r=m+(o=h*d)*l+d*g;break}default:c()}if(0===o)throw new t;a.s=s<0?-1:1,a.n=Math.abs(r),a.d=Math.abs(o)};function g(n,i){if(!n)return i;if(!i)return n;for(;;){if(!(n%=i))return i;if(!(i%=n))return n}}function m(n,i){if(!(this instanceof m))return new m(n,i);l(n,i),n=m.REDUCE?g(a.d,a.n):1,this.s=a.s,this.n=a.n/n,this.d=a.d/n}m.REDUCE=1,m.prototype={s:1,n:0,d:1,abs:function(){return new m(this.n,this.d)},neg:function(){return new m(-this.s*this.n,this.d)},add:function(n,i){return l(n,i),new m(this.s*this.n*a.d+a.s*this.d*a.n,this.d*a.d)},sub:function(n,i){return l(n,i),new m(this.s*this.n*a.d-a.s*this.d*a.n,this.d*a.d)},mul:function(n,i){return l(n,i),new m(this.s*a.s*this.n*a.n,this.d*a.d)},div:function(n,i){return l(n,i),new m(this.s*a.s*this.n*a.d,this.d*a.n)},clone:function(){return new m(this)},mod:function(n,i){return isNaN(this.n)||isNaN(this.d)?new m(NaN):void 0===n?new m(this.s*this.n%this.d,1):(l(n,i),0===a.n&&0===this.d&&m(0,0),new m(this.s*(a.d*this.n)%(a.n*this.d),a.d*this.d))},gcd:function(n,i){return l(n,i),new m(g(a.n,this.n)*g(a.d,this.d),a.d*this.d)},lcm:function(n,i){return l(n,i),0===a.n&&0===this.n?new m:new m(a.n*this.n,g(a.n,this.n)*g(a.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.round(n*this.s*this.n/this.d),n)},inverse:function(){return new m(this.s*this.d,this.n)},pow:function(n){return n<0?new m(Math.pow(this.s*this.d,-n),Math.pow(this.n,-n)):new m(Math.pow(this.s*this.n,n),Math.pow(this.d,n))},equals:function(n,i){return l(n,i),this.s*this.n*a.d==a.s*a.n*this.d},compare:function(n,i){l(n,i);var e=this.s*this.n*a.d-a.s*a.n*this.d;return(0<e)-(e<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;var i=this.abs().toContinued();function e(n){return 1===n.length?new m(n[0]):e(n.slice(1)).inverse().add(n[0])}n=n||.001;for(var r=0;r<i.length;r++){var a=e(i.slice(0,r+1));if(a.sub(this.abs()).abs().valueOf()<n)return a.mul(this.s)}return this},divisible:function(n,i){return l(n,i),!(!(a.n*this.d)||this.n*a.d%(a.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var i,e="",r=this.n,a=this.d;return this.s<0&&(e+="-"),1===a?e+=r:(n&&(i=Math.floor(r/a))>0&&(e+=i,e+=" ",r%=a),e+=r,e+="/",e+=a),e},toLatex:function(n){var i,e="",r=this.n,a=this.d;return this.s<0&&(e+="-"),1===a?e+=r:(n&&(i=Math.floor(r/a))>0&&(e+=i,r%=a),e+="\\frac{",e+=r,e+="}{",e+=a,e+="}"),e},toContinued:function(){var n,i=this.n,e=this.d,r=[];if(isNaN(i)||isNaN(e))return r;do{r.push(Math.floor(i/e)),n=i%e,i=e,e=n}while(1!==i);return r},toString:function(n){var i,e=this.n,r=this.d;if(isNaN(e)||isNaN(r))return"NaN";m.REDUCE||(e/=i=g(e,r),r/=i),n=n||15;var a=function(n,i){for(;i%2==0;i/=2);for(;i%5==0;i/=5);if(1===i)return 0;for(var e=10%i,r=1;1!==e;r++)if(e=10*e%i,r>2e3)return 0;return r}(0,r),o=function(n,i,e){for(var r=1,a=function(n,i,e){for(var r=1;i>0;n=n*n%e,i>>=1)1&i&&(r=r*n%e);return r}(10,e,i),o=0;o<300;o++){if(r===a)return o;r=10*r%i,a=10*a%i}return 0}(0,r,a),t=-1===this.s?"-":"";if(t+=e/r|0,e%=r,(e*=10)&&(t+="."),a){for(var s=o;s--;)t+=e/r|0,e%=r,e*=10;for(t+="(",s=a;s--;)t+=e/r|0,e%=r,e*=10;t+=")"}else for(s=n;e&&s--;)t+=e/r|0,e%=r,e*=10;return t}},void 0===(e=function(){return m}.apply(i,[]))||(n.exports=e)}()},874:function(n,i,e){var r=e(171),a={s:e(485),b:e(770)};n.exports=r(a.s,a.b)},171:function(n,i,e){var r=e(177),a=e(228);n.exports=function(n,i){return{encodeS:function(i,e){return e=a.extend({ww:!0,tenMin:!0},e),r.CL.call(n,i,e)},encodeB:function(n,e){return e=a.extend({ww:!0},e),r.CL.call(i,n,e)},decodeS:function(){return r.unCL.apply(n,arguments)},decodeB:function(){return r.unCL.apply(i,arguments)},toMoney:function(n,e){return e=a.extend({ww:!0},e),r.toMoney.call(i,n,e)}}}},177:function(n,i,e){var r=e(228);function a(n,i){var e=r.getNumbResult(n);if(!e)return n;i=i||{};var a=this.ch,o=this.ch_u,t=this.ch_f||"",s=this.ch_d||".",u=a.charAt(0),c=e.int,l=e.decimal,g="",m="",h=e.minus?t:"";if(l){l=r.clearZero(l,"0","$");for(var d=0;d<l.length;d++)m+=a.charAt(+l.charAt(d));m=m?s+m:""}if(g=function n(e,t,s){e=r.getNumbResult(e).int;var c="",l=arguments.length>1?arguments[1]:i.tenMin,g=e.length;if(1==g)return a.charAt(+e);if(g<=4)for(var m=0,h=g;h--;){var d=+e.charAt(m);c+=l&&2==g&&0==m&&1==d?"":a.charAt(d),c+=d&&h?o.charAt(h):"",m++}else{for(var f=e.length/4>>0,p=e.length%4;0==p||!o.charAt(3+f);)p+=4,f--;var N=e.substr(0,p),M=e.substr(p);c=n(N,l)+o.charAt(3+f)+("0"==M.charAt(0)?u:"")+n(M,l)}return r.clearZero(c,u)}(c),i.ww&&o.length>5){var f=o.charAt(4),p=o.charAt(5),N=g.lastIndexOf(p);~N&&(g=g.substring(0,N).replace(new RegExp(p,"g"),f+f)+g.substring(N))}return h+g+m}n.exports={CL:a,unCL:function(n){for(var i=(n=n.toString()).split(this.ch_d),e=i[0].replace(this.ch_f,""),a=i[1],o=!!~i[0].indexOf(this.ch_f),t=this.ch_u.charAt(1),s=this.ch_u.charAt(4),u=this.ch_u.charAt(5),c=(e=e.replace(new RegExp(s+"{2}","g"),u)).split(""),l=0,g=0,m=[],h=[],d=[],f=0;f<c.length;f++){var p,N=c[f],M=0;if(~(p=this.ch.indexOf(N)))p>0&&d.unshift(p);else if(~(M=this.ch_u.indexOf(N))){var A=r.getDigit(M);l>M?(r.unshiftZero(d,A),r.centerArray(h,d)):M>=g?(0==f&&(d=[1]),r.centerArray(m,h,d),m.length>0&&r.unshiftZero(m,A),g=M):(0==d.length&&t==N&&(d=[1]),r.centerArray(h,d),r.unshiftZero(h,r.getDigit(M)),l=M)}}r.centerArray(m,h,d).reverse(),0==m.length&&m.push(0);var L=0;if(a){for(m.push("."),L="0.",f=0;f<a.length;f++)L+=this.ch.indexOf(a.charAt(f)),m.push(this.ch.indexOf(a.charAt(f)));L=+L}return o&&m.unshift("-"),parseFloat(m.join(""))},toMoney:function(n,i){var e=r.getNumbResult(n),o=this.ch.charAt(0);if(i="object"==typeof i?i:{},!e)return n;i=r.extend({ww:!0,complete:!1,outSymbol:!0},i);var t=e.num,s=e.decimal||"",u=i.outSymbol?this.m_t:"",c=s?"":this.m_z,l="";if(i.complete){for(var g=1;g<this.m_u.length;g++)l+=a.call(this,s.charAt(g-1)||"0")+this.m_u.charAt(g);c=a.call(this,t,i)+this.m_u.charAt(0)}else{var m;if(s=r.clearZero(s,"0","$"))for(g=0;g<this.m_u.length-1;g++)s.charAt(g)&&"0"!=s.charAt(g)&&(l+=a.call(this,s.charAt(g))+this.m_u.charAt(g+1),m=!1),"0"!==s.charAt(g)||m||(0==g&&"0"==t||(l+=o),m=!0);"0"==t&&!c&&l||(c=a.call(this,t,i)+this.m_u.charAt(0)+c)}return u+c+l}}},770:function(n){n.exports={ch:"零壹貳參肆伍陸柒捌玖",ch_u:"個拾佰仟萬億",ch_f:"負",ch_d:"點",m_t:"$",m_z:"整",m_u:"圓角分"}},485:function(n){n.exports={ch:"零一二三四五六七八九",ch_u:"個十百千萬億",ch_f:"負",ch_d:"點"}},228:function(n,i){"use strict";var e=/^([+-])?0*(\d+)(\.(\d+))?$/,r=/^([+-])?0*(\d+)(\.(\d+))?e(([+-])?(\d+))$/i,a=i.e2ten=function(n){var i=r.exec(n.toString());if(!i)return n;var e=i[2],a=i[4]||"",o=i[5]?+i[5]:0;if(o>0){var t=a.substr(0,o);t=t.length<o?t+new Array(o-t.length+1).join("0"):t,a=a.substr(o),e+=t}else{o=-o;var s=e.length-o;s=s<0?0:s;var u=e.substr(s,o);u=u.length<o?new Array(o-u.length+1).join("0")+u:u,e=e.substring(0,s),a=u+a}return e=""==e?"0":e,("-"==i[1]?"-":"")+e+(a?"."+a:"")};i.getNumbResult=function(n){var i=e.exec(n.toString());if(!i&&r.test(n.toString())&&(i=e.exec(a(n.toString()))),i)return{int:i[2],decimal:i[4],minus:"-"==i[1],num:i.slice(1,3).join("")}},i.centerArray=function n(i,e){if(i.splice.apply(i,[0,e.length].concat(e.splice(0,e.length))),arguments.length>2){var r=[].slice.call(arguments,2);r.unshift(i),n.apply(null,r)}return i};var o=i.hasAttr=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)};i.extend=function(n){for(var i,e=arguments[0]||{},r=Array.prototype.slice.call(arguments,1),a=0;a<r.length;a++){var t=r[a];for(i in t)o(t,i)&&(e[i]=t[i])}return e},i.getDigit=function(n){return n>=5?4*(n-4)+4:n},i.unshiftZero=function(n,i){if(null==i&&(i=1),!(i<=0))for(;i--;)n.unshift(0)},i.clearZero=function(n,i,e){if(null==n)return"";var r=~"*.?+$^[](){}|\\/".indexOf(i)?"\\"+i:i,a=new RegExp("^"+r+"+"),o=new RegExp(r+"+$"),t=new RegExp(r+"{2}","g");return n=n.toString(),"^"==e&&(n=n.replace(a,"")),e&&"$"!=e||(n=n.replace(o,"")),e&&"nto1"!=e||(n=n.replace(t,i)),n}}},i={};function e(r){if(i[r])return i[r].exports;var a=i[r]={exports:{}};return n[r].call(a.exports,a,a.exports,e),a.exports}!function(){"use strict";var n=e(429),i=(e(894),e(874));n.config({precision:64,toExpNeg:-17,toExpPos:17,rounding:4});const r={Yin:"殷",XiaDong:"冬至元夏",XiaYu:"雨水元夏",Lu:"魯",LuA:"魯(進餘539)",LuB:"魯(進餘469)",LuC:"魯(進餘403)",LuD:"魯(進餘348)",LuE:"魯(進餘280)",LuF:"魯(進餘213)",LuG:"魯(進餘147)",ZhuanxuA:"顓頊(建寅)",ZhuanxuB:"顓頊(十月首)",ZhuanxuC:"顓頊(進餘3/4)",ZhuanxuD:"顓頊(退餘210)",ZhuanxuE:"顓頊(變閏章)",ZhuanxuF:"顓頊(退餘25)",Zhou:"周",Huangdi:"黃帝",Shiji:"曆術甲子篇(擬)",Taichu:"太初(三統)",Qianzaodu:"乾鑿度",Easthan:"後漢四分",Qianxiang:"乾象",Jingchu:"景初",Liuzhi:"劉智(擬)",Wangshuozhi:"王朔之(擬)",Sanji:"三紀",Xuanshi:"玄始(擬)",Yuanjia:"元嘉",Daming:"大明",Liangwu:"明克讓(擬大同代)",Tsrengguang:"正光",Xinghe:"興和",Tianbao:"天保",Jiayin:"甲寅(擬)",Tianhe:"天和(擬)",Daxiang:"大象(擬)",Kaihuang:"開皇(擬)",Daye:"大業",Zhangmengbin:"張孟賓(擬)",Liuxiaosun:"劉孝孫(擬)",Huangji:"皇極",Wuyin:"戊寅",Shenlong:"神龍(擬)",Linde:"麟德",Dayan:"大衍",Zhide:"至德(擬)",Wuji:"五紀",Tsrengyuan:"正元",Xuanming:"宣明",Chongxuan:"崇玄",Futian:"符天(擬)",Qintian:"欽天",Yingtian:"應天",Qianyuan:"乾元",Yitian:"儀天",Chongtian:"崇天",Mingtian:"明天",Fengyuan:"奉元(擬)",Guantian:"觀天",Zhantian:"占天(擬)",Jiyuan:"紀元",Tongyuan:"統元",Qiandao:"乾道",Chunxi:"淳熙",Huiyuan:"會元",Tongtian:"統天",Kaixi:"開禧",Chunyou:"淳祐(擬)",Huitian:"會天(擬)",Chengtian:"成天",Bentian:"本天(擬)",Yangji:"楊級大明(擬)",NewDaming:"重修大明",Yiwei:"乙未(廢)",Gengwu:"庚午",Shoushi:"授時",Datong:"大統"},a=["癸亥","甲子","乙丑","丙寅","丁卯","戊辰","己巳","庚午","辛未","壬申","癸酉","甲戌","乙亥","丙子","丁丑","戊寅","己卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥","戊子","己丑","庚寅","辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","己亥","庚子","辛丑","壬寅","癸卯","甲辰","乙巳","丙午","丁未","戊申","己酉","庚戌","辛亥","壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","己未","庚申","辛酉","壬戌","癸亥","甲子"],o=" 甲乙丙丁戊己庚辛壬癸",t=" 子丑寅卯辰巳午未申酉戌亥子",s=["","焉逢","旃蒙","遊兆","彊圉","徒維","祝犁","上章","重光","玄黓","昭陽"],u=["","困敦","赤奮若","攝提格","單閼","執徐","大荒落","敦牂","叶洽","涒灘","作鄂","淹茂","大淵獻"],c=["大海水","海中金","爐中火","大林木","路旁土","刀釰金","山頭火","澗下水","城頭土","白蠟金","楊柳木","井泉水","屋上土","霹靂火","松柏木","長流水","沙石金","山下火","平地木","壁上土","金箔金","點燈火","天河水","大驛土","釵釧金","桑柘木","大溪水","沙中土","天上火","石榴木","大海水","爐中火"],l=["小雪","冬至","大寒","雨水","春分","穀雨","小滿","夏至","大暑","處暑","秋分","霜降","小雪"],g=["冬至","小寒","大寒","立春","雨水","驚蟄","春分","清明","穀雨","立夏","小滿","芒種","夏至","小暑","大暑","立秋","處暑","白露","秋分","寒露","霜降","立冬","小雪","大雪"],m=["虎交","芸始生","荔挺生","蚯結","麋角解","水泉動","鴈北","鵲始巢","雉始雊","雞乳","東風","蟄蟲振","魚上","獺祭","鴻鴈來","始雨","桃華","倉庚鳴","鷹化","玄鳥","雷發聲","電見","蟄咸動","蟄啓戶","桐華","田鼠爲鴽","虹始見","萍生","戴勝降桑","螻蟈鳴","蚯出","王瓜生","苦菜秀","蘼草","小暑至","螳螂生","鵙鳴","反舌無聲","鹿角解","蜩鳴","半夏生","菫榮","溫風","蟋蟀居壁","鷹學習","腐草","地潤溽暑","涼風至","露降","寒蟬鳴","鷹祭鳥","天地","暴風至","鴻鴈來","玄鳥歸","羣鳥養羞","雷收聲","蟄附","殺氣盛","陽氣衰","始涸","鴻鴈來賓","雀入爲蛤","菊花","豺祭獸","始冰","地凍","雉入爲蜃","虹藏","冰壯","地坼","鶡鴠鳴"],h=["蚯蚓","麋角解","水泉動","鴈北","鵲始巢","雉始雊","雞乳","鷙鳥疾","冰腹堅","東風","蟄蟲振","魚上冰","獺祭","鴻鴈來","草萌動","桃華","倉庚鳴","鷹化鳩","玄鳥","雷發聲","電始見","桐華","田鼠爲鴽","虹始見","萍生","鳩拂羽","戴勝降桑","螻蟈","蚯蚓出","王瓜生","苦菜","蘼草死","小暑至","螳螂","鵙始鳴","反舌無聲","鹿角","蜩始鳴","半夏生","溫風","蟋蟀居壁","鷹學習","腐草","地潤溽暑","大雨行","涼風","白露降","寒蟬鳴","鷹祭","天地肅","禾乃登","鴻鴈","玄鳥歸","羣鳥養羞","雷收","蟄蟲坯戶","始涸","來賓","雀入爲蛤","菊有黃花","豺祭","草黄落","蟄虫俯","始冰","地始凍","雉入爲蜃","虹藏","天氣地氣","閉塞成冬","鶡鴠","虎始交","荔挺生"],d=["伯坎","公中孚","辟復","侯屯","大夫謙","卿睽","公升","辟臨","侯小過","大夫蒙","卿益","公漸","辟泰","侯需","大夫隨","卿晉","伯震","公解","辟大壯","侯豫","大夫訟","卿蠱","公革","辟夬","侯旅","大夫師","卿比","公小畜","辟乾","侯大有","大夫家人","卿井","伯離","公咸","辟姤","侯鼎","大夫豐","卿渙","公履","辟遯","侯恆","大夫節","卿同人","公損","辟否","侯巽","大夫萃","卿大畜","伯兌","公賁","辟觀","侯歸妹","大夫无妄","卿明夷","公困","辟剝","侯艮","大夫旣濟","卿噬嗑","公大過","辟坤","侯未濟","大夫蹇","卿頤"],f=["䷜","䷼","䷗","䷂","䷎","䷥","䷭","䷒","䷽","䷃","䷩","䷴","䷊","䷄","䷐","䷢","䷲","䷧","䷡","䷏","䷅","䷑","䷰","䷪","䷷","䷆","䷇","䷈","䷀","䷍","䷤","䷯","䷝","䷞","䷫","䷱","䷶","䷺","䷺","䷠","䷟","䷻","䷌","䷨","䷋","䷸","䷬","䷙","䷹","䷕","䷓","䷵","䷘","䷣","䷮","䷖","䷳","䷾","䷔","䷛","䷁","䷿","䷦","䷚"],p=["公中孚","辟復","侯屯內","侯屯內外","大夫謙","卿睽","公升","辟臨","侯小過內","侯小過外","大夫蒙","卿益","公漸","辟泰","侯需內","侯需外","大夫隨","卿晉","公解","辟大壯","侯豫內","侯豫外","大夫訟","卿蠱","公革","辟夬","侯旅內","侯旅外","大夫師","卿比","公小畜","辟乾","侯大有內","侯大有外","大夫家人","卿井","公咸","辟姤","侯鼎內","侯鼎外","大夫豐","卿渙","公履","辟遯","侯恆內","侯恆外","大夫節","卿同人","公損","辟否","侯巽內","侯巽外","大夫萃","卿大畜","公賁","辟觀","侯歸妹內","侯歸妹外","大夫无妄","卿明夷","公困","辟剝","侯艮內","侯艮外","大夫旣濟","卿噬嗑","公大過","辟坤","侯未濟內","侯未濟外","大夫蹇","卿頤"],N=["䷼","䷗","䷂","䷂","䷎","䷥","䷭","䷒","䷽","䷽","䷃","䷩","䷴","䷊","䷄","䷄","䷐","䷢","䷧","䷡","䷏","䷏","䷅","䷑","䷰","䷪","䷷","䷷","䷆","䷇","䷈","䷀","䷍","䷍","䷤","䷯","䷞","䷫","䷱","䷱","䷶","䷺","䷺","䷠","䷟","䷟","䷻","䷌","䷨","䷋","䷸","䷸","䷬","䷙","䷕","䷓","䷵","䷵","䷘","䷣","䷮","䷖","䷳","䷳","䷾","䷔","䷛","䷁","䷿","䷿","䷦","䷚"],M="火土金土水土木土",A=" 角亢氐房心尾箕斗牛女虛危室壁奎婁胃昴畢觜參井鬼柳星張翼軫",L=["","太簇","夾鐘","姑洗","中呂","蕤賓","林鐘","夷則","南呂","無射","應鐘","黃鐘","大呂"],S=["〇","一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","廿","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","卅"],w=["","正","二","三","四","五","六","七","八","九","十","十一","十二"],D=" 白黑碧綠黃白赤白紫",O=["","color-white","color-black","color-cyan","color-green","color-yellow","color-white","color-red","color-white","color-purple"],T=" 乾兌離震巽坎艮坤",y=["甲丙庚壬","艮巽坤乾","癸乙丁辛"],R=["","天道在南，天德在丁，月德在丙，月合在辛，月厭在戌，月煞在丑，月破在申，月刑在巳，月空在壬","天道在西南，天德在坤，月德在甲，月合在巳，月厭在酉，月煞在戌，月破在酉，月刑在子，月空在庚","天道在北，天德在壬，月德在壬，月合在丁，月厭在申，月煞在未，月破在戌，月刑在辰，月空在丙","天道在西，天德在辛，月德在庚，月合在乙，月厭在未，月煞在辰，月破在亥，月刑在申，月空在申","天道在西北，天德在乾，月德在丙，月合在辛，月厭在午，月煞在丑，月破在子，月刑在午，月空在壬","天道在東，天德在申，月德在甲，月合在巳，月厭在巳，月煞在戌，月破在丑，月刑在丑，月空在庚","天道在北，天德在癸，月德在壬，月合在丁，月厭在辰，月煞在未，月破在寅，月刑在寅，月空在丙","天道在東北，天德在艮，月德在庚，月合在乙，月厭在寅，月煞在辰，月破在卯，月刑在酉，月空在申","天道在南，天德在丙，月德在丙，月合在辛，月厭在卯，月煞在丑，月破在辰，月刑在未，月空在壬","天道在東，天德在乙，月德在甲，月合在巳，月厭在寅，月煞在戌，月破在巳，月刑在亥，月空在庚","天道在東南，天德在巽，月德在壬，月合在丁，月厭在子，月煞在未，月破在午，月刑在卯，月空在丙","天道在西，天德在庚，月德在庚，月合在乙，月厭在亥，月煞在辰，月破在未，月刑在戌，月空在申"],v=["","大趾","外踝","股內","腰","口舌","手","內踝","腕","尻","腰背","鼻柱","髮際","齒","胃管","遍身","胸","氣衝","股內","足","內踝","小指","外踝胸","肝足","手陽明","足陽明","胸","膝","陰","膝脛","足趺"],E=["青龍","明堂","天刑","朱雀","金匱","天德","白虎","玉堂","天牢","玄武","司命","句陳"],b=[0,12,9,15,5,5,18,11,26,8,12,10,17,16,9,16,12,14,11,16,2,9,33,4,15,7,18,18,17],F=[0,12,9,15,5,5,18,11,26,8,12,10,17,16,9,16,12,14,11,17,1,10,33,3,15,7,18,18,17],C=[0,12,9.25,16,5.75,6.25,19.25,10.5,25,7.25,11.25,9,15.5,17,8.75,16.5,12,15,11.25,17.25,.5,10.5,33.25,2.5,13.75,6.75,17.25,18.75,17],x=[0,12.1,9.2,16.3,5.6,6.5,19.1,10.4,25.2,7.2,11.35,8.7,15.4,17.1,8.6,16.6,11.8,15.6,11.3,17.4,.05,11.1,33.3,2.2,13.3,6.3,17.25,18.75,17.3],P=[0,13,10,16,5,5,18,10,24,7,11,10,16,18,10,17,12,15,12,16,3,8,30,4,14,7,17,19,18],Z=[0,13,10,16,5,5,17,10.5,24,7,11.5,10,17,17,10,17,13,15,11,15.5,2,9,30,4,14.5,7,17,19,18],Y=[0,13,10,16,5,5,18,10,24,7,11,10,16,18,10,17,13,15,11,16,2,9,30,4,14,7,17,19,18],W=[0,13,9.5,15.75,5,4.75,17,10.25,23.5,7.5,11.25,10,17.75,17.25,9.75,17.5,12.5,14.75,11,16.25,1,9.25,30,2.75,14.25,6.75,18.75,19.25,18.75],q=[0,13,9.5,15.25,5,5,17.25,10.25,23.5,7.5,11.75,10,17.25,16.75,10.25,17.5,12.75,14.25,11,16.5,1,9.25,30,2.75,14.5,7,18.25,19.25,18.75],J=[0,13,9.5,15.5,5,4.75,17,10,23.5,7.5,11.5,10,17.75,17.25,9.75,17.75,12.75,14.5,10.75,16,1,9.25,30,2.75,14.25,7,18.75,19.5,18.75],j=[0,12.75,9.75,16.25,5.75,6,18.25,9.5,23,7,11,9,16,18,9.5,18,12.75,15.5,11,16.5,.5,9.75,30.5,2.5,13.25,6.75,17.75,20,18.5],B=[0,12.75,9.75,16.25,5.75,6,18.25,9.5,23,7,11,9,16,18.25,9.5,17.75,12.75,15.5,11,16.5,.5,9.75,30.5,2.5,13.25,6.75,17.75,20,18.5],k=[0,12.87,9.56,16.4,5.48,6.27,17.95,9.59,23.47,6.9,11.12,8.75,15.95,18.32,9.34,17.87,12.36,15.81,11.08,16.5,.05,10.28,31.03,2.11,13,6.31,17.79,20.09,18.75],$=(n,i,e)=>{const{AutoPara:r}=Yn(n),{Solar:a,SolarRaw:o,MansionRaw:t,MansionFractPosition:s}=r[n];let{Sidereal:u}=r[n],c=[];c=e?i>=1281?k:"NewDaming"===n?B:i>=1106?j:i>=1065?J:i>=964?q:i>=729?W:i>=665?Y:"Huangji"===n?Z:P:i>=1260?x:i>=1100?C:i>=724?F:b,u=u||a||o;let l=[],g=[];if(t){l=c.slice(),l[s]+=u-~~u,g=l.slice();for(let n=1;n<=28;n++)g[n]+=g[n-1],g[n]=parseFloat(g[n].toPrecision(13));g=g.slice(-1).concat(g.slice(0,-1)),g[0]=0,g[29]=u}return g};var V={Yin:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2760366,JdWinsols:1721052,OriginYearSc:51,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},Zhou:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2760423,JdWinsols:1721051.25,OriginYearSc:54,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},Huangdi:{Denom:940,Lunar:27759/940,Solar:365.25,JdWinsols:1721052.75,OriginAd:-2760149,OriginYearSc:28,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},Lu:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:1,OriginMonNum:1,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},LuA:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:539/940},LuB:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:469/940},LuC:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:403/940},LuD:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:348/940},LuE:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:280/940},LuF:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:213/940},LuG:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2763680,JdWinsols:1721052.054255319,OriginYearSc:37,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:147/940},XiaDong:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2759875,JdWinsols:1721054.25,OriginYearSc:2,ZhengNum:2,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},XiaYu:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-60.875,WinsolsOriginMon:-(2+7/114),OriginAd:-2759875,JdWinsols:1721053.375,OriginYearSc:2,ZhengNum:2,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},ZhuanxuA:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:2,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},ZhuanxuB:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:-1,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},ZhuanxuC:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:-1,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:3/4},ZhuanxuD:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:-1,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0,OriginCorr:3/4-210/940},ZhuanxuE:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:-1,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:1,OriginCorr:3/4-210/940},ZhuanxuF:{Denom:940,Lunar:27759/940,Solar:365.25,WinsolsWinsolsDif:-45.65625,WinsolsOriginMon:-(1+83/152),OriginAd:-2760305,JdWinsols:1721051+3/32,OriginYearSc:52,OriginDayCorr:5,ZhengNum:-1,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:1,OriginCorr:.5},Shiji:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-1566,JdWinsols:1721051.25,Ecli:135/23,EcliRange:513,Node:27.212729649262943,OriginYearSc:0,ZhengNum:2,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:1,OriginCorr:-.75},Taichu:{Denom:81,Lunar:2392/81,Solar:365+385/1539,OriginAd:-143230,OriginCloseAd:-103,JdWinsols:1721051.25,OriginYearSc:13,ZhengNum:2,OriginMonNum:2,YuanRange:4617,TongRange:1539,isTermLeap:1,MansionRaw:[9,0],MansionFractPosition:8,Ecli:135/23,EcliRange:513,Node:27.212741751990897},Qianzaodu:{Denom:81,Lunar:2392/81,Solar:365+385/1539,OriginAd:-2760366,JdWinsols:1721052,OriginYearSc:51,ZhengNum:0,OriginMonNum:0,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:0},Easthan:{Denom:940,Lunar:27759/940,Solar:365.25,OriginAd:-2760480,OriginCloseAd:-160,JdWinsols:1721050.5,OriginYearSc:17,ZhengNum:2,OriginMonNum:2,YuanRange:4560,JiRange:1520,BuRange:76,isTermLeap:1,Ecli:135/23,EcliRange:513,Node:27.212729649262943,MansionRaw:[8,21.25],MansionFractPosition:8,NightList:[27.5,27.375,26.875,25.90625,24.875,23.453125,22.375,20.953125,19.921875,18.9375,18.359375,17.859375,17.5,17.890625,18.375,18.953125,19.96875,21.375,22.46875,23.90625,24.953125,25.96875,26.890625,27.421875,27.5],DialList:[13,12.3,11,9.6,7.95,6.5,5.25,4.15,3.2,2.52,1.98,1.68,1.5,1.7,2,2.55,3.33,4.35,5.5,6.85,8.4,10,11.4,12.56,13],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12]},Qianxiang:{Solar:365+145/589,SolarNumer:215130,SolarDenom:589,LunarNumer:43026,Denom:1457,Lunar:29+773/1457,Ecli:11045/1882,EcliNumer:11045,EcliDenom:1882,Node:27.212150734997284,Anoma:27+3303/5969,AnomaNumer:164466,AnomaDenom:5969,MoonAcrVRaw:[276,275,273,270,266,262,258,254,250,246,243,239,236,234,233,234,236,239,243,246,250,254,258,262,266,270,273,275.68574023614894,276],MoonDifAccumList:[0,22,43,62,78,90,98,102,102,98,90,79,64,46,26,5,-15,-33,-48,-59,-67,-71,-71,-67,-59,-47,-31,-12,9.68574023615],MoonLatiDifList:[17,16,15,12,8,4,1,-2,-6,-10,-13,-15,-16,-(16+306/473)],MoonLatiAccumList:[0,1.4166666666666667,2.75,4,5,5.666666666666667,6,6.083333333333333,5.916666666666667,5.416666666666667,4.583333333333333,3.5,2.25,.916666666666667,-.4705778717406],OriginAd:-7171,OriginYearSc:26,OriginMonNum:0,ZhengNum:2,YuanRange:1178,JiRange:589,ZhangRange:19,ZhangLeap:7,MansionRaw:[8,22],MansionFractPosition:8},Huangchu:{Solar:365+1205/4883,SolarNumer:1783500,SolarDenom:4883,Lunar:29+6409/12079,LunarNumer:356700,Denom:12079,Anoma:27+6698/12079,AnomaNumer:332831,OriginAd:-31358,OriginYearSc:19,OriginMonNum:0,ZhengNum:2,YuanRange:9766,JiRange:4883,ZhangRange:19,ZhangLeap:7,AnomaOrigin:22e4,MansionRaw:[8,22],MansionFractPosition:8},Jingchu:{Solar:365+455/1843,SolarNumer:673150,SolarDenom:1843,LunarNumer:134630,Denom:4559,Lunar:29+2419/4559,Anoma:27+2528/4559,AnomaNumer:125621,AnomaOrigin:103947,Ecli:5+116960/134630,EcliNumer:790110,EcliOrigin:412919/790110,Node:27.2122009856701,YinyangOrigin:-1,MoonAcrVRaw:[280,277,274,271,267,261,254,248,244,241,239,236,233,231,233,235,237,240,243,246,250,254,259,265,271,277,278,279+626/86621,280],MoonDifAccumList:[0,26,49,69,86,99,106,106,100,90,77,62,44,23,0,-21,-40,-57,-71,-82,-90,-94,-94,-89,-78,-61,-38,-14,11.0072268849],OriginAd:-3808,OriginYearSc:29,OriginMonNum:0,ZhengNum:2,YuanRange:11058,JiRange:1843,ZhangRange:19,ZhangLeap:7,MansionRaw:[8,21.25],MansionFractPosition:8},Liuzhi:{Solar:365+37/150,SolarNumer:54787,SolarDenom:150,Lunar:29+18703/35250,LunarNumer:1040953,Denom:35250,Anoma:27+19547/35250,AnomaNumer:971297,AnomaOrigin:62e4,OriginAd:-98960,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:17100,JiRange:2850,ZhangRange:19,ZhangLeap:7,MansionRaw:[8,21],MansionFractPosition:8},Wangshuozhi:{Solar:365+1205/4883,SolarNumer:1783500,SolarDenom:4883,Lunar:29+6409/12079,LunarNumer:356700,Denom:12079,Anoma:27+36197/65278,AnomaNumer:1798703,AnomaOrigin:811e3,OriginAd:-95784,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:4883,JiRange:4883,ZhangRange:19,ZhangLeap:7,MansionRaw:[8,19],MansionFractPosition:8},Sanji:{Solar:365+605/2451,SolarNumer:895220,SolarDenom:2451,Lunar:29+3217/6063,LunarNumer:179044,Denom:6063,Anoma:27+3362/6063,AnomaNumer:167063,AnomaOrigin:86178,Ecli:11045/1882,EcliOrigin:12700/11045,Node:27.212199762772332,OriginAd:-83456,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:7353,JiRange:2451,ZhangRange:19,ZhangLeap:7,MansionRaw:[8,17],MansionFractPosition:8},Xuanshi:{Solar:365+1759/7200,SolarNumer:2629759,SolarDenom:7200,Lunar:29+47251/89052,LunarNumer:2629759,Denom:89052,Anoma:27+49380/89052,AnomaNumer:2453784,AnomaOrigin:6e5,Ecli:15433715/2629759,EcliOrigin:-23e5/15433715,Node:27.212245523296843,OriginAd:-61026,OriginYearSc:51,OriginMonNum:0,ZhengNum:2,YuanRange:432e3,JiRange:72e3,BuRange:7200,ZhangRange:600,ZhangLeap:221,MansionRaw:[8,16],MansionFractPosition:8},Tsrengguang:{Solar:365+1477/6060,SolarNumer:2213377,SolarDenom:6060,Lunar:29+39769/74952,LunarNumer:2213377,Denom:74952,Anoma:27+41562/74952,AnomaNumer:2065266,AnomaOrigin:1862416,Ecli:5.868816744729886,YinyangOrigin:1,Node:27.212219336007635,MoonAcrVRaw:[14+361/505,14+300/505,14+236/505,14+171/505,14+99/505,13+471/505,13+266/505,13+61/505,12+439/505,12+338/505,12+237/505,12+136/505,12+35/505,11+464/505,12+36/505,12+109/505,12+189/505,12+290/505,12+392/505,12+496/505,13+118/505,13+243/505,13+388/505,14+29/505,14+174/505,14+287/505,14+312/505,14.671748517424284,14+361/505],MoonDifAccumList:[0,680,1299,1854,2344,2762,3047,3127,3002,2750,2397,1943,1388,732,0,-655,-1237,-1739,-2140,-2439,-2634,-2702,-2645,-2443,-2095,-1602,-996,-365,293],OriginAd:-167228,OriginYearSc:49,OriginMonNum:0,ZhengNum:2,YuanRange:363600,JiRange:60600,TongRange:121200,BuRange:6060,ZhangRange:505,ZhangLeap:186,MansionRaw:[8,15],MansionFractPosition:8},Xinghe:{Solar:365+4117/16860,SolarNumer:6158017,SolarDenom:16860,Lunar:29+110647/208530,LunarNumer:6158017,Denom:208530,Anoma:27+115631/208530,AnomaNumer:5745941,Ecli:36142807/6158017,YinyangOrigin:1,Node:27.21237997247385,MoonAcrVRaw:[14+402/562,14+334/562,14+261/562,14+190/562,14+111/562,13+522/562,13+296/562,13+68/562,12+486/562,12+379/562,12+267/562,12+151/562,12+40/562,11+515/562,12+38/562,12+123/562,12+211/562,12+324/562,12+435/562,12+555/562,13+128/562,13+270/562,13+432/562,14+33/562,14+194/562,14+319/562,14+346/562,14+379/562,14+402/562],MoonDifAccumList:[0,757,1446,2062,2607,3073,3388,3477,3338,3055,2665,2163,1545,816,0,-731,-1377,-1935,-2380,-2714,-2928,-3007,-2944,-2719,-2331,-1782,-1108,-407,327],OriginAd:-293456,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:1011600,JiRange:168600,TongRange:337200,BuRange:16860,ZhangRange:562,ZhangLeap:207,MansionRaw:[8,15],MansionFractPosition:8},Tianbao:{Solar:365+5787/23660,SolarNumer:8641687,SolarDenom:23660,Lunar:29+155272/292635,LunarNumer:8641687,Denom:292635,Anoma:27+162261/292635,AnomaNumer:8063406,Ecli:50716913/8641687,Node:27.212243804560554,MoonAcrVRaw:[14+483/676,14+401/676,14+314/676,14+228/676,14+133/676,13+630/676,13+356/676,13+82/676,12+587/676,12+454/676,12+320/676,12+182/676,12+47/676,11+621/676,12+46/676,12+146/676,12+253/676,12+389/676,12+524/676,12+665/676,13+155/676,13+324/676,13+519/676,14+39/676,14+233/676,14+384/676,14+417/676,14.688941156932897,14+483/676],MoonDifAccumList:[0,910,1738,2479,3134,3694,4075,4182,4015,3677,3206,2601,1858,980,0,-879,-1658,-2330,-2866,-3267,-3527,-3621,-3546,-3276,-2810,-2150,-1339,-495,398],OriginAd:-109976,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:1419600,JiRange:236600,BuRange:23660,ZhangRange:676,ZhangLeap:249,MansionRaw:[8,15],MansionFractPosition:8},Jiayin:{Solar:365+5461/22338,SolarNumer:8158831,SolarDenom:22338,Lunar:29+146595/276284,Denom:22338,Anoma:27+153195/276284,AnomaOrigin:85e3,OriginAd:-122826,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:1340280,JiRange:223380,BuRange:22338,ZhangRange:657,ZhangLeap:242,MansionRaw:[8,15],MansionFractPosition:8},Tianhe:{Solar:365+5731/23460,SolarNumer:8568631,SolarDenom:23460,Lunar:29+153991/290160,LunarNumer:8568631,Denom:290160,Anoma:27+160830/290160,AnomaNumer:7995150,Ecli:50291196/8568631,Node:27.21247526807761,OriginAd:-875226,OriginYearSc:51,OriginMonNum:0,ZhengNum:2,YuanRange:1407600,JiRange:234600,BuRange:23460,ZhangRange:391,ZhangLeap:144,MansionRaw:[8,15],MansionFractPosition:8},Daxiang:{Solar:365+3167/12992,SolarNumer:4745247,SolarDenom:12992,Lunar:29+28422/53563,LunarNumer:1581748,Denom:53563,Anoma:27+29693/53563,AnomaNumer:1475894,Ecli:9283018/1581749,Node:27.21225648359655,OriginAd:-40974,OriginYearSc:3,OriginMonNum:0,ZhengNum:2,YuanRange:259840,JiRange:129920,BuRange:12992,ZhangRange:448,ZhangLeap:165,MansionRaw:[8,12],MansionFractPosition:8},Kaihuang:{Solar:365+25063/102960,SolarNumer:37605463,SolarDenom:102960,Lunar:29+96529/181920,LunarNumer:5372209,Denom:181920,Node:27.212223251959365,NodeNumer:512104800,NodeSmallFract:2815,Anoma:27+100859/181920,AnomaFract:100859,AnomaNumer:5012699,Ecli:1297/221,YinyangOrigin:-1,OriginAd:-4128416,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,YuanRange:6177600,JiRange:1029600,BuRange:102960,ZhangRange:429,ZhangLeap:158,MansionRaw:[8,12],MansionFractPosition:8},Yuanjia:{Solar:365+75/304,SolarNumer:111035,SolarDenom:304,Lunar:29+399/752,LunarNumer:22207,Denom:752,Anoma:27+417/752,AnomaNumer:20721,AnomaOrigin:625,Ecli:5.86875,EcliOrigin:877/939,Node:27.21218784582298,MoonAcrVRaw:[279,277,274,270,265,260,254,249,245,242,239,236,234,232,230,232,234,237,242,248,254,259,263,267,271,274,277,278+103/417,279],MoonDifAccumList:[0,25,48,68,84,95,101,101,96,87,75,60,42,22,0,-24,-46,-66,-83,-95,-101,-101,-96,-87,-74,-57,-37,-14,10.2470023981],MoonLatiDifList:[17,16,15,12,8,4,1,-2,-6,-10,-13,-15,-16,-(16+3472/5371)],MoonLatiAccumList:[0,1.4166666666666667,2.75,4,5,5.666666666666667,6,6.083333333333333,5.916666666666667,5.416666666666667,4.583333333333333,3.5,2.25,.916666666666667,-.4705362129957],OriginAd:-5260,OriginYearSc:17,OriginMonNum:2,ZhengNum:2,YuanRange:3648,JiRange:608,ZhangRange:19,ZhangLeap:7,MansionRaw:[13,1+5/6],MansionFractPosition:13,NightList:[27.5,27.2,26.65,25.8,24.75,23.55,22.25,21,19.85,18.85,18.05,17.6,17.5,17.6,18.05,18.85,19.85,21,22.25,23.55,24.75,25.8,26.65,27.2,27.5],DialList:[13,12.48,11.34,9.91,8.22,6.72,5.39,4.25,3.25,2.5,1.97,1.69,1.5,1.69,1.97,2.5,3.25,4.25,5.39,6.72,8.22,9.91,11.34,12.48,13],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12]},Daming:{YuanRange:592365,JiRange:39491,ZhangRange:391,ZhangLeap:144,Solar:365+9589/39491,SolarNumer:14423804,SolarDenom:39491,Sidereal:365+10449/39491,SiderealNumer:14424664,Lunar:29+2090/3939,LunarNumer:116321,Denom:3939,Anoma:27+14631/26377,AnomaNumer:726810,MoonAcrVRaw:[14+13/23,14+11/23,14+8/23,14+4/23,13+22/23,13+17/23,13+11/23,13+5/23,12+22/23,12+16/23,12+11/23,12+8/23,12+6/23,12+4/23,12+5/23,12+7/23,12+10/23,12+14/23,12+19/23,13+1/23,13+7/23,13+13/23,13+19/23,14+1/23,14+6/23,14+10/23,14+12/23,14.634271099744245,14+13/23],MoonDifAccumList:[0,467.71165998000015,901.42331996,1284.13497994,1598.84663992,1828.5582999,1973.26995988,2015.98161986,1956.69327984,1795.40493982,1532.1165998,1183.82825978,784.53991976,351.25157974,-116.03676028,-566.3251003,-982.61344032,-1347.90178034,-1645.19012036,-1857.47846038,-1984.7668004,-2010.05514042,-1933.34348044,-1754.63182046,-1490.92016048,-1142.2085005,-725.49684052,-274.78518054,219.92647944],Node:27+5598/26377,MoonLatiDifList:[16,15,14,12,9,5,1,-2,-6,-10,-13,-15,-16,-(16+3188/6395)],MoonLatiAccumList:[0,1.3333333333333333,2.583333333333333,3.75,4.75,5.5,5.916666666666667,6,5.833333333333333,5.333333333333333,4.5,3.416666666666667,2.166666666666667,.833333333333333,-.5415428720354],OriginAd:-51476,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,0],MansionFractPosition:10,NightList:[27.5,27.2,26.65,25.8,24.75,23.55,22.25,20.95,19.8,18.8,18.05,17.6,17.5,17.6,18.05,18.8,19.8,20.95,22.25,23.55,24.75,25.8,26.65,27.2,27.5],DialList:[13,12.43,11.2,9.8,8.17,6.67,5.37,4.25,3.26,2.53,1.99,1.69,1.5,1.69,1.99,2.53,3.26,4.25,5.37,6.67,8.17,9.8,11.2,12.43,13,12.43],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12]},Liangwu:{YuanRange:2376960,JiRange:39616,ZhangRange:619,ZhangLeap:228,Solar:365+9681/39616,SolarNumer:14469521,SolarDenom:39616,Sidereal:365+10402/39616,Lunar:29+815/1536,LunarNumer:45359,Denom:1536,Anoma:27.5546875,AnomaNumer:42324,AnomaOrigin:72500,OriginAd:-1025156,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,0],MansionFractPosition:8},Daye:{ZhangRange:410,ZhangLeap:151,Solar:365+10363/42640,SolarNumer:15573963,SolarDenom:42640,Sidereal:365+10866/42640,SiderealNumer:15574466,Lunar:29+607/1144,LunarNumer:33783,Denom:1144,Anoma:27+1413/2548,AnomaNumer:70209,AnomaDenom:2548,Node:10646729/391248,NodeDenom:391248,MoonAcrVRaw:[6010,5950,5880,5800,5710,5620,5530,5430,5330,5240,5160,5090,5020,4960,4980,5040,5110,5190,5270,5360,5450,5550,5640,5730,5810,5890,5950,6e3,6010],MoonDifAccumList:[0,528.9851399899999,997.97027998,1396.95541997,1715.94055996,1944.92569995,2083.91083994,2132.89597993,2081.88111992,1930.86625991,1689.8513999,1368.83653989,977.82167988,516.80681987,-4.20804014,-505.22290015,-946.23776016,-1317.25262017,-1608.26748018,-1819.28234019,-1940.2972002,-1971.31206021,-1902.32692022,-1743.34178023,-1494.35664024,-1165.37150025,-756.38636026,-287.40122027,231.58391972],SunTcorrDifList:[70,35,35,20,30,35,-55,-45,-40,-30,-55,-65,-55,-40,-25,-5,-30,-40,60,55,50,45,40,10],SunTcorrList:[0,70,105,140,160,190,225,170,125,85,55,0,-65,-120,-160,-185,-190,-220,-260,-200,-145,-95,-50,-10,0],OriginAd:-1427036,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:8,NightList:[29.98014705882353,29.715441176470588,29.13235294117647,28.323529411764707,27.279411764705884,26.044117647058822,24.720588235294116,23.455882352941178,22.323529411764707,21.323529411764707,20.563970588235293,20.10808823529412,20.01985294117647,20.10808823529412,20.563970588235293,21.323529411764707,22.323529411764707,23.455882352941178,24.720588235294116,26.044117647058822,27.279411764705884,28.323529411764707,29.13235294117647,29.715441176470588,29.98014705882353],DialList:[13,12.43,11.2,9.8,8.17,6.67,5.37,4.25,3.26,2.53,1.99,1.69,1.5,1.69,1.99,2.53,3.26,4.25,5.37,6.67,8.17,9.8,11.2,12.43,13,12.43],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12]},Wuyin:{ZhangRange:676,ZhangLeap:249,Solar:365+2315/9464,SolarNumer:3456675,SolarDenom:9464,Sidereal:365+2485.5/9464,SiderealNumer:3456845.5,Lunar:29+6901/13006,LunarNumer:384075,MoonAvgVDeg:13.37,Denom:13006,TermDenom:1183,Anoma:27+16064/28968,AnomaNumer:798200,AnomaDenom:28968,Node:27+99373.8/468216,NodeDenom:468216,MoonAcrVRaw:[9909,9810,9695,9563,9414,9266,9118,8953,8788,8640,8508,8392,8277,8178,8211,8310,8425,8557,8689,8837,8986,9151,9299,9447,9578,9710,9809,9891,9909],MoonDifAccumList:[0,872,1645,2303,2829,3206,3435,3516,3432,3183,2786,2257,1612,852,-7,-833,-1560,-2172,-2652,-3e3,-3200,-3251,-3137,-2875,-2465,-1924,-1251,-479,375],SunTcorrDifList:[896,398,400,228,341,450,-500,-455,-355,-555,-848,-739,-626,-456,-288,-40,-342,-455,682,625,570,513,456,100],SunTcorrList:[0,896,1294,1694,1922,2263,2713,2213,1758,1403,848,0,-739,-1365,-1821,-2109,-2149,-2491,-2946,-2264,-1639,-1069,-556,-100,0],OriginAd:-163722,OriginYearSc:15,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,6],MansionFractPosition:8,NightList:[27.5,27.208333333333332,26.625,25.791666666666668,24.75,23.541666666666668,22.25,20.125,19.791666666666668,18.791666666666668,18.041666666666668,17.583333333333332,17.5,17.583333333333332,18.041666666666668,18.791666666666668,19.791666666666668,20.125,22.25,23.541666666666668,24.75,25.791666666666668,26.625,27.208333333333332,27.5],DialList:[13,12.43,11.2,9.8,8.17,6.67,5.37,4.25,3.26,2.53,1.99,1.69,1.5,1.69,1.99,2.53,3.26,4.25,5.37,6.67,8.17,9.8,11.2,12.43,13,12.43],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12]}};const H=n.acos(-1),Q=i=>n(i).mul(H).div(180),z=i=>{i=Number(i);const e=n.sub(i,2e3).div(100),r=n(84381.448).sub(e.mul(46.84024)).sub(e.pow(2).mul(n(10).pow(-5).mul(59))).add(e.pow(3).mul(n(10).pow(-6).mul(1813))).div(3600),a=n(i-1900).div(100),o=n(281).add(13/60).add(15/3600).add(a.mul(1.719175)).add(n.div(1.63,3600).mul(a).pow(2)).add(n.div(.012,3600).mul(a).pow(3)).toNumber(),t=n(.01675104).sub(n(418e-7).mul(a)).sub(n(1.26e-9).mul(a).pow(2)),s=i-2e3,u=n(365.24218968).sub(n(6.16e-8).mul(s)).toNumber(),c=n(365.25636042).add(n(1e-9).mul(s)).toNumber(),l=n(29.530588853).add(n(2.162e-9).mul(s)).toNumber(),g=n(27.554549878).sub(n(1.039e-8).mul(s)).toNumber();return{Print:"朔望月 "+l+" 日\n近點月 "+g+" 日\n交點月 "+n(27.21222082).add(n(3.8e-9).mul(s)).toNumber()+" 日\n回歸年 "+u+" 日\n恆星年 "+c+" 日\n黃赤交角 "+r.toNumber()+"°\n黃道離心率 "+t.toNumber()+"\n近日點平黃經 "+o+"°",obliquity:r.toString(),perihelion:o,eccentricity:t.toString(),Anoma:g,Solar:u,Sidereal:c,Lunar:l}},G=(i,e)=>{const r=z(e),a=r.Anoma,o=r.Sidereal,t=r.Lunar,s=n(o).div(t).add(1);let u=Q(360*i/a);i=(i=Q(360*i/a)).mul(28.01241785825).div(a),u=u.mul(28.01241785825).div(a);const c=n(-.623).add(n(.623).mul(n.cos(i))).add(n(5).mul(n.sin(i))),l=n(-.623).add(n(.623).mul(n.cos(u))).add(n(5).mul(n.sin(u))),g=c.sub(l).add(s);return{MoonDifAccum:c.toNumber(),MoonAcrV:g.toNumber()}},_=(i,e)=>{const r=z(e),a=r.eccentricity,o=r.perihelion,t=360/r.Solar,s=Q((i=(i-(o-270)/t+360)%360)*t),u=Q((i-1)*t);let c=n(a).mul(2).mul(s.sin()).add(n(1.25).mul(n(a).pow(2)).mul(n.sin(s.mul(2))));c=c.mul(3437.747/60).div(t);let l=n(a).mul(2).mul(u.sin()).add(n(1.25).mul(n(a).pow(2)).mul(n.sin(u.mul(2))));l=l.mul(3437.747/60).div(t);const g=c.sub(l).add(1),m=c.add(i).toNumber();return c=c.toNumber(),{SunDifAccum:c,SunAcrV:g.toNumber(),Longi:m}},X=(n,i)=>{n=parseInt(n),i=parseInt(i);let e=1;for(let r=n;r<=n+i-1;r++)e*=r;let r=1;for(let n=1;n<=i;n++)r*=n;return e/r},I=(n,i)=>{let e=1;for(let r=0;r<=i;r++)e*=(n+r)*(1/(r+1));return e},U=(n,i)=>{const e=(i=i.split(/;|,|，|。|；|｜| /)).length-1;let r=0,a=0,o=[];for(let t=0;t<=e;t++){o[t]=i[t];for(let n=0;n<t;n++)o[t]-=o[n]*X(t-n+1,n);a+=I(n-1-t,t)*o[t],r+=I(n-t,t)*o[t]}return r-a},K=(n,i,e)=>{const r=(e=e.split(/;|,|，|。|；|｜| /)).length,a=[];a[0]=n;let o=0;for(let i=1;i<r;i++)a[i]=a[i-1]*(n-i)/(i+1);for(let n=0;n<r;n++)o+=e[n]*a[n];return o+i},nn=(n,i)=>{i=i.split(/;|,|，|。|；|｜| /);const e=[],r=[];for(let n=0;n<i.length/2;n++)e[n]=i[2*n],r[n]=i[2*n+1];const a=e.length-1,o=[];let t=1,s=0;for(let i=0;i<=a;i++){t=1;for(let r=0;r<i;r++)t*=(n-e[r])/(e[i]-e[r]);for(let r=i+1;r<=a;r++)t*=(n-e[r])/(e[i]-e[r]);o[i]=t,s+=r[i]*o[i]}return s},en=n=>{const{AutoPara:i,Type:e}=Yn(n),{Sidereal:r}=i[n];let{Solar:a,Lunar:o}=i[n];"Tongtian"===n&&(a=365.243,o=29.530592);let t=0,s=0;return"Daye"===n?s=-.00036322096:"Huangji"===n?s=-.00295858:"Xuanming"===n&&(s=.000301739405),t="Wuyin"===n?parseFloat((a/o+1).toPrecision(14)):"Chongxuan"===n?13+7/19:"Mingtian"===n?13.36875:"Guantian"!==n&&9!==e&&10!==e||"Tongyuan"===n?11===e?13.3687:parseFloat(((r||a)/o+1+s).toPrecision(14)):13.37,t},rn=(n,i)=>{const{AutoPara:e,Type:r}=Yn(i),{SolarRaw:a,SunTcorrList:o,AcrTermList:t,TermRangeA:s,TermRangeS:u}=e[i];let{Denom:c,Solar:l}=e[i];l||(l=a);let g=l/24;const m=~~(n/g);let h=0,d=0;if(7===r){let i=0;for(let e=0;e<=23;e++)if(n>=t[e]&&n<t[e+1]){i=e;break}const e=t[i]+","+o[i]+";"+t[i+1]+","+o[i+1]+";"+t[i+2]+","+o[i+2];d=nn(n,e);const r=t[i+1]-t[i];h=o[i]+(o[i+1]-o[i])*(n-t[i])/r}else{let e=g;["Huangji","Linde"].includes(i)&&(e=n<6*g||n>=18*g?s:u),"Wuiyn"===i&&(c=11830);const a=(n-m*g)/e;if(r>=5){const n=o[m]+","+o[m+1]+","+o[m+2];d=U(a+1,n)}h=o[m]+a*(o[m+1]-o[m])}return h/=c,d/=c,{SunTcorr1:h,SunTcorr2:d}},an=(n,i)=>{const{AutoPara:e,Type:r}=Yn(i),{Denom:a,SolarRaw:o,ExpanDing:t,ExpanPing:s,ExpanLi:u,ContracDing:c,ContracPing:l,ContracLi:g}=e[i];let{Solar:m}=e[i];m||(m=o);const h=+(m/2).toFixed(6);let d=0,f=1,p=0,N=0;if(11===r)if(n<=88.909225)d=(t*n-s*n**2-u*n**3)/1e4;else if(n<=h){const i=h-n;d=(c*i-l*i**2-g*i**3)/1e4}else if(n<=h+93.712025){const i=n-h;d=-(c*i-l*i**2-g*i**3)/1e4}else{const i=m-n;d=-(t*i-s*i**2-u*i**3)/1e4}else if("Yitian"===i){const i=897699.5,e=946785.5;n<=i/a?(p=i,N=n):n<=h?(p=e,N=h-n):n<=h+e/a?(f=-1,p=e,N=n-h):(f=-1,p=i,N=m-n);const r=24543*a*2/p,o=r*a/p;d=f*(N*(r-o/2)-N*(N-1)*o/2)/a}else if(["Fengyuan","Guantian","Zhantian"].includes(i)){let i=0;const e=88+10958/12030,r=93+8552/12030,a=3294,o=3659;n<=e?(p=e,i=a,N=n):n<=h?(p=r,i=o,N=h-n):n<=h+r?(p=r,i=o,f=-1,N=n-h):(p=e,i=a,f=-1,N=m-n),d=f*(N/i)*(2*p-N)}else"Mingtian"===i?(n<=m/4?N=n:n<=h?N=h-n:n<=.75*m?(f=-1,N=n-h):(f=-1,N=m-n),d=f*N*(200-N)/4135):"Futian"===i&&(n>h&&(n-=h,f=-1),d=f*n*(h-n)/3300);return d},on=(n,i)=>{const{AutoPara:e}=Yn(i),{MoonAcrVRaw:r,MoonDifAccumList:a,Anoma:o,ZhangRange:t}=e[i];n%=o;const s=r.slice();if(["Tsrengguang","Xinghe","Tianbao","Daming"].includes(i))for(let n=0;n<=27;n++)s[n]=Math.round(s[n]*t);const u=~~n,c=en(i),l=parseFloat((c*t).toPrecision(12)),g=n-u;let m=a[u]+g*(a[u+1]-a[u]);const h=t;let d=0;if(["Qianxiang","Jingchu","Daming","Daye","Wuyin"].includes(i))d=-m/(s[~~n]-h);else if(["Yuanjia"].includes(i)){const n=[];for(let i=0;i<=27;i++)n[i]=s[i+1]-s[i];d=-m/(s[u]+g*n[u]-h)}else["Tsrengguang","Xinghe","Tianbao"].includes(i)&&(d=-m/l);return m/=t,{MoonDifAccum1:m,MoonTcorr1:d}},tn=(n,i)=>{const{AutoPara:e}=Yn(i),{MoonTcorrList:r,MoonTcorrListA:a,MoonTcorrListB:o,Anoma:t,Denom:s}=e[i],u=t/2,c=(n%=t)%u,l=~~c,g=n-~~n;let m="",h=0,d=0;if(a){const i=~~c;n<u?(l<=11?(m=a[i]+","+a[i+1]+","+a[i+2],d=U(g+1,m)):(m=a[i-2]+","+a[i-1]+","+a[i],d=U(g+3,m)),h=i<=12?a[i]+g*(a[i+1]-a[i]):a[i]-g/(t-27)*a[i]):(l<=11?(m=o[i]+","+o[i+1]+","+o[i+2],d=U(g+1,m)):(m=o[i-2]+","+o[i-1]+","+o[i],d=U(g+3,m)),h=i<=12?o[i]+g*(o[i+1]-o[i]):o[i]-g/(t-27)*o[i])}else{const i=~~n;i<=25?(m=r[i]+","+r[i+1]+","+r[i+2],d=U(g+1,m)):(m=r[i-2]+","+r[i-1]+","+r[i],d=U(g+3,m)),h=i<=26?r[i]+g*(r[i+1]-r[i]):r[i]-g/(t-27)*r[i]}return h/=s,d/=s,{MoonTcorr2:d,MoonTcorr1:h}},sn=(n,i)=>{const{AutoPara:e,Type:r}=Yn(i),{Anoma:a,MoonAcrV:o,MoonAcrVA:t,MoonAcrVB:s,Denom:u}=e[i],c=a/2,l=(n%=a)%c,g=~~l,m=n-~~n,h=en(i),d=[],f=[],p=[];let N=[],M=[],A=[],L=u;if(r>=8&&"Chongxuan"!==i&&(L=100,["Yingtian","Qianyuan","Yitian"].includes(i)&&(L=u/100)),t){const n=[];for(let i=0;i<=13;i++)n[i]=t[i]/L;const i=[];for(let n=0;n<=13;n++)i[n]=s[n]/L;for(let i=0;i<=13;i++)f[i]=parseFloat((n[i]-h).toPrecision(7));M=f.slice();for(let n=1;n<=13;n++)M[n]+=M[n-1],M[n]=parseFloat(M[n].toPrecision(7));M=M.slice(-1).concat(M.slice(0,-1)),M[0]=0;for(let n=0;n<=13;n++)p[n]=parseFloat((i[n]-h).toPrecision(7));A=p.slice();for(let n=1;n<=13;n++)A[n]+=A[n-1],A[n]=parseFloat(A[n].toPrecision(7));A=A.slice(-1).concat(A.slice(0,-1)),A[0]=0}else{const n=[];for(let i=0;i<=27;i++)n[i]=o[i]/L;for(let i=0;i<=27;i++)d[i]=parseFloat((n[i]-h).toPrecision(7));N=d.slice();for(let n=1;n<=27;n++)N[n]+=N[n-1],N[n]=parseFloat(N[n].toPrecision(7));N=N.slice(-1).concat(N.slice(0,-1)),N[0]=0}let S="",w=0;if(t){const i=~~l;n<c?(g<=11?(S=M[i]+","+M[i+1]+","+M[i+2],w=U(m+1,S)):(S=M[i-2]+","+M[i-1]+","+M[i],w=U(m+3,S)),w=i<=12?M[i]+m*(M[i+1]-M[i]):M[i]-m/(a-27)*M[i]):g<=11?(S=A[i]+","+A[i+1]+","+A[i+2],w=U(m+1,S)):(S=A[i-2]+","+A[i-1]+","+A[i],w=U(m+3,S))}else{const i=~~n;i<=25?(S=N[i]+","+N[i+1]+","+N[i+2],w=U(m+1,S)):(S=N[i-2]+","+N[i-1]+","+N[i],w=U(m+3,S))}return w},un=(n,i)=>{const{AutoPara:e,Type:r}=Yn(i),{Anoma:a,FaslowDing:o,FaslowPing:t,FaslowLi:s,XianConst:u}=e[i],c=+(a/2).toFixed(6);let l=0,g=0,m=1;if(11===r){let i=1,e=0;n<=a/4?(e=n/u,i=-1):n<=a/2?(e=(c-n)/u,i=-1):n<=3*a/4?(e=(n-c)/u,i=1):(e=(a-n)/u,i=1),l=i*(o*e-t*e**2-s*e**3)/100;let r=1,m=0;n<=6.642?(m=n/u,r=1):n<=7.052?(m=n/u,r=0):n<=20.4193?(m=Math.abs(c-n)/u,r=-1):n<=20.8293?(m=Math.abs(c-n)/u,r=0):(m=(a-n)/u,r=1),g=1.0962+r*(.11081575-5815e-7*m-975e-8*m*(m-1))}else if("Mingtian"===i){let i=0;(n*=13.36875)<=92.0927?i=n:n<=184.1854?i=184.1854-n:n<=276.2781?(m=-1,i=n-184.1854):(m=-1,i=368.3708-n),l=m*(i*(210.09-i))/1976}else"Futian"===i&&(n>a/2&&(n-=a/2,m=-1),l=m*n*(a/2-n)/9.4);return{MoonDifAccum:l,MoonAcrV:g}},cn=(n,i,e,r,a)=>{const{AutoPara:o,Type:t}=Yn(e),{SolarRaw:s,XianConst:u,Anoma:c,NodeDenom:l}=o[e];let{Solar:g}=o[e];g=g||s;const m=i%g;n%=c;let h={},d={},f={},p=0,N=0,M=0,A=0,L=0,S=0,w=0,D=0,O=0;if(["Huangchu","Liuzhi","Wangshuozhi","Sanji","Xuanshi","Jiayin","Tianhe","Daxiang","Kaihuang","Liangwu","Zhangmengbin","Liuxiaosun","Shenlong","Zhide","Qintian","Fengyuan","Zhantian","Yangji","Chunyou","Huitian","Bentian","Yiwei","Gengwu"].includes(e))"Huangchu"===e?S=cn(n,0,"Qianxiang").Tcorr1:["Liuzhi","Wangshuozhi","Sanji"].includes(e)?S=cn(n,0,"Jingchu").Tcorr1:"Xuanshi"===e?S=cn(n,0,"Tsrengguang").Tcorr1:["Jiayin","Tianhe","Daxiang"].includes(e)?S=cn(n,0,"Tianbao").Tcorr1:"Kaihuang"===e?S=cn(n,0,"Yuanjia").Tcorr1:"Liangwu"===e?S=cn(n,0,"Liangwu").Tcorr1:(["Zhangmengbin","Liuxiaosun"].includes(e)?f=cn(n,m,"Huangji"):"Shenlong"===e?f=cn(n,m,"Linde"):"Zhide"===e?f=cn(n,m,"Dayan"):"Qintian"===e?f=cn(n,m,"Tsrengyuan"):["Fengyuan","Zhantian"].includes(e)?f=cn(n,m,"Guantian"):"Yangji"===e?f=cn(n,m,"Jiyuan"):["Chunyou","Huitian","Bentian"].includes(e)?f=cn(n,m,"Chengtian"):["Yiwei","Gengwu"].includes(e)&&(f=cn(n,m,"NewDaming")),S=f.Tcorr1,L=f.Tcorr2,p=f.SunTcorr2,N=f.SunTcorr1,M=f.MoonTcorr2,A=f.MoonTcorr1);else{const i=en(e);if(["Daye","Wuyin"].includes(e)){N=rn(m,e).SunTcorr1,A=on(n,e).MoonTcorr1,S=N+A;const i=g/24,a=~~(m/i);"Daye"===e?w=a<=4?1380*Math.abs(m-i)/l:a<=8?63600/l:a<=11?1380*Math.abs(m-11*i)/l:a<=16?900*-Math.abs(m-13*i)/l:a<=20?-55e3/l:1770*-Math.abs(m-23*i)/l:(a>=2&&a<=3?w=1650*Math.abs(m-i)/l:a<=7?w=76100/l:a<=10?w=76100/l-1650*Math.abs(m-8*i)/l:a<=12||(w=a<=16?1200*-Math.abs(m-13*i)/l:a<=20?-95825/l:-63300/l+2110*Math.abs(m-21*i)/l),(a>=2&&a<=3||9===a)&&(r<=1/6?w/=2:w=0))}else if(t<=4)A=on(n,e).MoonTcorr1,S=A;else if(["Yitian","Guantian"].includes(e)){D=an(m,e);const r=tn(n,e);M=-r.MoonTcorr2,A=-r.MoonTcorr1,p=D/i,L=p+M,S=p+A}else["Futian","Mingtian"].includes(e)?(D=an(m,e),O=un(n,e).MoonDifAccum,p=D/i,M=-O/i,L=p+M):t<11?(h=rn(m,e),d=tn(n,e),p=h.SunTcorr2,N=h.SunTcorr1,M=-d.MoonTcorr2,A=-d.MoonTcorr1,L=p+M,S=N+A):11===t?(D=an(m,e),d=un(n,e),O=d.MoonDifAccum,p=D*u/d.MoonAcrV,M=O*u/d.MoonAcrV,L=p+M,w=L):20===t&&(h=_(m,a),d=G(n,a),D=h.SunDifAccum,O=d.MoonDifAccum,p=D/(d.MoonAcrV-h.SunAcrV),M=-O/(d.MoonAcrV-h.SunAcrV),L=p+M);t>=5&&t<=10&&(w=p+.0785077*M)}let T=0,y=0;return p?T=p:N&&(T=N),M?y=M:A&&(y=A),{SunTcorr:T,MoonTcorr:y,SunTcorr2:p,SunTcorr1:N,MoonTcorr2:M,MoonTcorr1:A,Tcorr2:L,Tcorr1:S,NodeAccumCorr:w}},ln=(n,i,e,r)=>{const{AutoPara:a,Type:o}=Yn(e),{SolarRaw:t,Anoma:s}=a[e];let{Solar:u}=a[e];u=u||t,i%=u,n%=s;let c={},l=0,g=0;return["Huangchu","Liuzhi","Wangshuozhi","Sanji","Xuanshi","Jiayin","Tianhe","Daxiang","Kaihuang","Liangwu","Zhangmengbin","Liuxiaosun","Shenlong","Zhide","Qintian","Fengyuan","Zhantian","Yangji","Chunyou","Huitian","Bentian","Yiwei","Gengwu"].includes(e)?"Huangchu"===e?g=ln(n,0,"Qianxiang").MoonDifAccum:["Liuzhi","Wangshuozhi","Sanji"].includes(e)?g=ln(n,0,"Jingchu").MoonDifAccum:"Xuanshi"===e?g=ln(n,0,"Tsrengguang").MoonDifAccum:["Jiayin","Tianhe","Daxiang"].includes(e)?g=ln(n,0,"Tianbao").MoonDifAccum:"Kaihuang"===e?g=ln(n,0,"Yuanjia").MoonDifAccum:"Liangwu"===e?g=ln(n,0,"Liangwu").MoonDifAccum:(["Zhangmengbin","Liuxiaosun"].includes(e)?c=ln(n,i,"Huangji"):"Shenlong"===e?c=ln(n,i,"Linde"):"Zhide"===e?c=ln(n,i,"Dayan"):"Qintian"===e?c=ln(n,i,"Tsrengyuan"):["Fengyuan","Zhantian"].includes(e)?c=ln(n,i,"Guantian"):"Yangji"===e?c=ln(n,i,"Jiyuan"):["Chunyou","Huitian","Bentian"].includes(e)?c=ln(n,i,"Chengtian"):["Yiwei","Gengwu"].includes(e)&&(c=ln(n,i,"NewDaming")),l=c.SunDifAccum,g=c.MoonDifAccum):["Daye","Wuyin"].includes(e)?(l=cn(n,i,e).SunTcorr1*en(e),g=on(n,e).MoonDifAccum1):o<=4?g=on(n,e).MoonDifAccum1:["Yitian","Guantian"].includes(e)?(l=an(i,e),g=sn(n,e)):["Futian","Mingtian"].includes(e)||11===o?(l=an(i,e),g=un(n,e).MoonDifAccum,11===o&&(g=-g)):o<11?(l=((n,i)=>{const{Type:e,AutoPara:r}=Yn(i),{SunAcrAvgDifList:a,AcrTermList:o,TermRangeA:t,TermRangeS:s,SolarRaw:u}=r[i];let{Denom:c,Solar:l}=r[i];l||(l=u),e>=8&&"Qianyuan"!==i&&(c=1e4);const g=l/24,m=[];for(let n=0;n<=23;n++)m[n]=a[n]/c;let h=m.slice();for(let n=1;n<=23;n++)h[n]+=h[n-1],h[n]=+h[n].toFixed(6);h=h.slice(-1).concat(h.slice(0,-1)),h[0]=0,h[24]=0,h[25]=h[1];let d=0;if(7===e){let i=0;for(let e=0;e<=23;e++)if(n>=o[e]&&n<o[e+1]){i=e;break}const e=o[i]+","+h[i]+";"+o[i+1]+","+h[i+1]+";"+o[i+2]+","+h[i+2];d=nn(n,e)}else{let e=0;const r=~~(n/g),a=(r+1)%24,o=n-r*g;e=["Linde","Huangji","Shenlong"].includes(i)?n<6*g||n>=18*g?t:s:g-m[r]/c;const u=m[r],l=m[a];d=h[r]+o/e*.5*(u+l)+o/e*(u-l)-.5*(o/e)**2*(u-l)}return d})(i,e),g=sn(n,e)):20===o&&(l=_(i,r).SunDifAccum,g=G(n,r).MoonDifAccum),{SunDifAccum:l,MoonDifAccum:g}},gn=(n,i)=>{const{AutoPara:e}=Yn(i),{Solar:r,NightList:a,DialList:o,SunLatiList:t}=e[i];let s=0;"Daye"!==i&&(s=2.5);const u=r/24,c=n%r,l=~~(c/u),g=c-l*u,m=s+a[l]+g/u*(a[l+1]-a[l]),h=o[l]+g/u*(o[l+1]-o[l]),d=t[l]+g/u*(t[l+1]-t[l]);return{Sunrise:m,Dial:h,Lati1:d,Lati:r/4-d}},mn=(n,i)=>{const{Type:e,AutoPara:r}=Yn(i),{Solar:a,Sidereal:o,NightList:t,DialList:s,SunLatiList:u,AcrTermList:c,TermRangeA:l,TermRangeS:g}=r[i],m=n%a;let h=2.5;["Linde","NewDaming"].includes(i)&&(h=0);const d=a/24;let f=0,p=0,N=0,M=0;if(7===e||["Yingtian","Qianyuan"].includes(i)){let n=0;for(let i=0;i<=23;i++)if(m>=c[i]&&m<c[i+1]){n=i;break}const i=[];for(let n=0;n<=23;n++){const e=c[n],r=e-~~e;i[n]=r-.5}const e=c[n]-i[n],r=c[n+1]-i[n],a=c[n+2]-i[n],o=e+","+t[n]+";"+r+","+t[n+1]+";"+a+","+t[n+2],s=e+","+u[n]+";"+r+","+u[n+1]+";"+a+","+u[n+2];M=h+nn(m,o),N=nn(m,s),p=91.31-N}else{const i=~~(m/d),r=m-i*d;let a=0;a=6===e?n<6*d||n>=18*d?l:g:d;const c=[];for(let n=0;n<=23;n++){const i=n*d,e=i-~~i;c[n]=e-.5}const A=1+(r+c[i])/a,L=t[i]+","+t[i+1]+","+t[i+2];if(M=h+U(A,L),6===e){const n=s[i]+","+s[i+1]+","+s[i+2];f=U(A,n)}if(10===e)p=-(M-25)/(10896/52300),N=o/4-p;else{const n=u[i]+","+u[i+1]+","+u[i+2];N=U(A,n),p=91.31-N}}if(e>6){const n=N-(91.3-34.475);f=n<=27?K(n-1,1379,"1380,2,1"):n<=42?K(n-28,42267,"1788,32,2"):n<=46?K(n-43,73361,"2490,74,6"):n<=50?K(n-47,83581,"3212,-118,272"):n<=57?K(n-51,96539,"3562,165,7"):n<=61?K(n-58,125195,"4900,250,19"):n<=67?K(n-60,146371,"6155,481,33"):n<=72?K(n-68,191179,"9545,688,36"):K(n-73,246147,"13354,1098,440,620,180"),f/=1e4}return{Lati:p,Lati1:N,Dial:f,Sunrise:M}},hn=(n,i,e)=>{const{AutoPara:r}=Yn(e),{Node:a,Solar:o}=r[e];let{Sidereal:t}=r[e];const s=90.94335,u=i,c=en(e)*u;let l=c%s;(c>=s&&c<181.8867||c>=3*s)&&(l=s-l),t=t||o;const g=n-u,m=g%(o/2),h=(g+0+c)%t;let d=0,f=[];"Huangji"===e?f=[0,4,4,4,4,4,4,4,4,4,4,4,2.94,4,4,4,4,4,4,4,4,4,4,4]:["Dayan","Qintian","Yingtian"].includes(e)&&(f=[0,5,5,5,5,5,5,5,5,5,.94,5,5,5,5,5,5,5,5,5]);let p=0,N=0,M=0;"Huangji"===e?(p=11/45,N=-1/45):"Dayan"===e?(p=.5,N=-1/24):"Qintian"===e?(p=40/72,N=-5/72):"Yingtian"===e&&(p=12/20.2,N=-1.5/20.2);const A=f.length-2;let L=f.slice();for(let n=1;n<=A+1;n++)L[n]+=L[n-1];let S=[];S[1]=p;for(let n=2;n<=A/2;n++)S[n]=S[n-1]+N;S[A/2+1]=0,S[A/2+2]=S[A/2];for(let n=A/2+3;n<=A+1;n++)S[n]=S[n-1]-N;let w=[];w[0]=0;for(let n=1;n<=A/2+1;n++)w[n]=w[n-1]+S[n],w[n]=parseFloat(w[n].toPrecision(14));for(let n=A/2+2;n<=A+1;n++)w[n]=w[n-1]-S[n],w[n]=parseFloat(w[n].toPrecision(14));w[A+1]=0;let D=0;for(let n=1;n<=f.length-2;n++)L[n]<=l&&l<L[n+1]&&(D=n);M=w[D]+(w[D+1]-w[D])*(l-L[D])/(L[D+1]-L[D]),"Huangji"!==e&&(M/=2);let O=0;if("Dayan"===e)O=m/(o/72)/18;else if("Qintian"===e){const n=Math.abs(m-o/4)/5.07;O=(l-L[D])*(5.07/8)*(1-n/324)}else if("Yingtian"===e){const n=~~(m/(o/72))/18;O=(l-L[D])*(.5-5*n/3636)}let T=0,y=1;return(c>=s&&c<181.8867||c>=3*s)&&(y=-1),M*=y,O*=y,d=h+M,T=O?d+O:0,{EclpLongi:h,WhiteLongi:d,EquaLongi:T,EclpWhiteDif:M,EquaWhiteDif:O}},dn=(n,i)=>{const{Type:e,AutoPara:r}=Yn(i),{MoonLatiDifList:a}=r[i];let{Node:o,MoonLatiAccumList:t}=r[i],s=10;e<=4?s=12:7===e&&(s=120);const u=[];for(let n=0;n<=13;n++)u[n]=a[n]/s;const c=n%(o/2),l=~~c;let g=-1;n>o/2&&(g=1);let m=0;if(e<6)m=g*(t[l]+(c-l)*u[l]);else if(6===e){let n=t[l]+","+t[l+1]+","+t[l+2],i=1+c-l;c>=12&&(n=t[l-2]+","+t[l-1]+","+t[l],i=3+c-l),m=g*U(i,n)/s}else if(7===e){const n=en(i),e=c*n/(o*n/24),r=~~e,a=t[r]+","+t[r+1]+","+t[r+2]+","+t[r+3];m=g*U(1+e-r,a)/s}return{Lati:m,Lati1:91.31-m}},fn=(n,i)=>{let e=0;"Chongxuan"===i?e=365.2548:"Chongtian"===i?e=365.26:"Mingtian"===i?e=365.24:["Guantian","Fengyuan","Zhantian","Jiyuan"].includes(i)&&(e=365.2436);const r=e/4,a=e/2,o=e/8;let t=0,s=0,u=n%o;(n>o&&n<=r||n>3*o&&n<=a||n>5*o&&n<=3*r||n>7*o)&&(u=o-u);let c=0,l=0,g=0;"Chongxuan"===i?(g=((1315-14.4*u)*u-u*(4566-u)/1696)/1e4,c=Math.sqrt((694+57742/122107)*u+91003.78245495739)-(301+81608/122107)):"Chongtian"===i?(g=u*(125-u)/1200,c=Math.sqrt(288906.25+1200*u)-537.5):"Mingtian"===i?(g=u*(111.37-u)/1e3,c=Math.sqrt(197415.819225+1e3*u)-444.315):["Guantian","Fengyuan","Zhantian"].includes(i)?(g=u*(400-3*u)/4e3,c=Math.sqrt(36e4+4e3/3*u)-600):"Jiyuan"===i&&(g=u*(101-u)/1e3,c=Math.sqrt(202050.25+1e3*u)-449.5),l=Math.abs(u-c);let m=1,h=1;return n<r||n>=a&&n<.75*e?m=-1:h=-1,g*=m,l*=h,t=n+g,s=n+l,{Equa2Eclp:t,Equa2EclpDif:g,Eclp2Equa:s,Eclp2EquaDif:l}},pn=(i,e)=>{let r=0;"Chongxuan"===e?r=365.2548:"Yitian"===e?r=365.24455:"Chongtian"===e?r=365.26:"Mingtian"===e?r=365.24:["Guantian","Jiyuan"].includes(e)&&(r=365.2436);const a=r/4,o=r/2;let t=i%o,s=i%o;t>a&&(t=o-t);let u=0,c=0;"Chongxuan"===e?(c=n(184).div(50025).mul(n(t).pow(2)).sub(n(16).div(n.mul(50025,3335)).mul(n(t).pow(4))).toNumber(),u=i>=a&&i<3*a?23.9141-c:-23.8859+c):"Yitian"===e?(i>=a&&i<3*a?(s>93.7412&&(s=o-s),c=n.div(1261875,20126347).mul(n(s).pow(2)).sub(n(625e4).div(n.mul(20126347,522009)).mul(n(s).pow(4)))):(s>88.8811&&(s=o-s),c=n.div(167750,2229099).mul(n(s).pow(2)).sub(n(125e3).div(n.mul(2229099,39107)).mul(n(s).pow(4)))),u=i>=a&&i<3*a?n(23.9296).sub(c.mul(n.div(50,1052))).toNumber():n(-23.9296).add(c.mul(n.div(50,1062))).toNumber()):"Chongtian"===e?(c=n(460720).div(130620943).mul(n(t).pow(2)).sub(n(8e4).div(n.mul(130620943,7873)).mul(n(t).pow(4))).toNumber(),u=i>=a&&i<3*a?24.0041-c:c-23.9959):"Mingtian"===e?(c=n(84800).div(24039561).mul(n(t).pow(2)).sub(n(2e4).div(n.mul(24039561,10689)).mul(n(t).pow(4))).toNumber(),u=i>=a&&i<3*a?24.0041-c:c-23.9959):"Guantian"===e?(c=n(1221360).div(346290367).mul(n(t).pow(2)).sub(n(784e3).div(n.mul(346290367,29109)).mul(n(t).pow(4))).toNumber(),u=i>=a&&i<3*a?24.0041-c:c-23.9959):"Jiyuan"===e&&(u=i>=a&&i<3*a?n(23.9).sub(n(n(491.3109).pow(2).mul(n(t).pow(2)).sub(n(982.6218).mul(n(t).pow(3))).add(n(t).pow(4))).div(n.mul(16e4,348.856))).toNumber():n(-23.9).add(n(n(608.3109).pow(2).mul(n(t).pow(2)).sub(n(1216.6218).mul(n(t).pow(3))).add(n(t).pow(4))).div(n.mul(267289,348.856))).toNumber());let l=0;return l="Yitian"===e?i<a?22.53-u/4.76:i<o?22.49-u/4.8:i<3*a?22.51+u/4.8:22.47-u/4.76:22.5-u/4.8,{Lati:u,Lati1:a-u,Sunrise:l+2.5}},Nn=(i,e)=>{let r=0;"Chongxuan"===e?r=365.2445:"Yitian"===e?r=365.24455:"Chongtian"===e||"Mingtian"===e?r=365.24:["Guantian","Jiyuan"].includes(e)&&(r=365.2436);const a=r/4,o=r/2;let t=parseFloat((i%o).toPrecision(14)),s=0;"Chongxuan"===e?((i>=o&&t>123.62225||i<o&&t>59)&&(t=parseFloat((o-t).toPrecision(14))),s=i<=59||i>=123.62225+o?12.715-1e-6*(2195-15*t)*t**2:1.478+1e-7*(4880-4*t)*t**2):"Yitian"===e?((i>=o&&t>123.62225||i<o&&t>59)&&(t=parseFloat((o-t).toPrecision(14))),s=i<=59||i>=123.622275+o?12.715-1e-6*(2130-14*t)*t**2:1.478+1e-7*(4812-3.5*t)*t**2):"Chongtian"===e?((i>=o&&t>120.62||i<o&&t>62)&&(t=parseFloat((o-t).toPrecision(14))),s=i<=62||i>=120.62+o?12.715-1e-6*(2197.14-15.05*t)*t**2:1.478+1e-7*(4881.67-4.01*t)*t**2):"Mingtian"===e||"Guantian"===e?((i>=o&&t>137||i<o&&t>45.62)&&(t=parseFloat((o-t).toPrecision(14))),t=n(t),s=i<=45.62||i>=137+o?n(12.85).sub(n(1e-6).mul(n(1937.5).mul(t.pow(2)).sub(t.pow(3)).sub(n(200/827).mul(t.pow(4))).add(n(1/827).mul(t.pow(5))))):i>a&&i<3*a?n(1.57).add(n(1e-6).mul(n(545.25).mul(t.pow(2)).sub(n(3827/2481).mul(t.pow(2))).add(n(5/827).mul(t.pow(4))))):n(1.57).add(n(1e-6).mul(n(510.09274).mul(t.pow(2)).sub(n(1.213548).mul(t.pow(3))).add(n(.01034059).mul(t.pow(4))).sub(n(403063e-10).mul(t.pow(5))))),s=s.toNumber()):"Jiyuan"===e&&((i>=o&&t>120.42||i<o&&t>62.2)&&(t=parseFloat((o-t).toPrecision(14))),t=n(t),s=i<=62.2||i>=120.42+o?n(12.83).sub(n(200).mul(t.mul(t)).div(n(100617).add(t.mul(100)).add(n(400/29).mul(t.mul(t))))):i>a&&i<3*a?n(1.56).add(t.mul(t).mul(4).div(n(7923).add(t.mul(9)))):n(1.56).add(t.mul(t).mul(7700).div(n(13584271.78).add(t.mul(44718).sub(t.mul(t).mul(100))))),s=s.toNumber());const u="距冬至 "+i+" 日，晷長 "+s.toFixed(6)+" 尺";return{Dial:s,Print:u}},Mn=(n,i,e)=>{const{AutoPara:r}=Yn(e),{Node:a,Sidereal:o}=r[e];let t=90.94;"Mingtian"===e?t=90.92:"Jiyuan"===e&&(t=90.9486);const s=en(e)*i;let u=s%t;u>t/2&&(u=t-u);let c=0;["Chongtian","Mingtian"].includes(e)?c=365.24:["Guantian","Jiyuan"].includes(e)&&(c=365.2436);const l=c/4,g=c/2,m=a/2,h=n-i,d=(h+s)%o;let f=h%g;f>l&&(f=g-f);let p=0,N=0,M=0,A=0,L=0,S=0;"Chongtian"===e?(N=u*(125-u)/2400,M=u*f*(125-u)/216e3):"Mingtian"===e?(N=u*(111.37-u)/2e3,M=u*f*(111.37-u)/18e4):"Guantian"===e?(N=u*(400-3*u)/8e3,M=u*f*(400-3*u)/72e4):"Jiyuan"===e&&(N=u*(101-u)/2e3,i<=m&&(h<l||h>=.75*c)||i>m&&h>=l&&h<.75*c?(M=1.125*N*Math.abs(h-.75*c)/t,p=M-N):(M=.875*N*Math.abs(h-l)/t,p=M+N));let w=1;return(s>=t&&s<2*t||s>=3*t)&&(w=-1),N*=w,M*=w,A=d+N,"Jiyuan"===e?(p*=w,L=d+p):L=A+M,S=fn(d,e).Eclp2Equa,{EclpLongi:d,EclpEquaDif:p,EclpWhiteDif:N,EquaWhiteDif:M,EquaLongi:L,EquaLongiB:S,WhiteLongi:A}},An=(i,e)=>{let r=363.8,a=en(e);"Qintian"===e?a=1:["Guantian","Jiyuan"].includes(e)&&(r=363.7944);const o=r/2,t=r/4,s=i*a;let u=s%o,c=0,l=0;if("Chongxuan"===e)c=s%t,u>t&&(c=t-c),l=u<=30||u>t+61?(81305*c-386*c**2)/7e5:(1656200-314440*c+1733*c**2)/21e5;else if("Qintian"===e){const n=i%o;l=(245*n-18*n*n)/139}else"Chongtian"===e?(c=u,u>t&&(c=o-c),l=(91451*c-290*c**2)/84e4):"Guantian"===e?(c=u,u>t&&(c=o-c),l=2239/17250*c-c**2/1380):"Jiyuan"===e&&(c=u,u>t&&(c=o-c),l=n(372026500).mul(c).sub(n(763324).mul(n(c).pow(2))).sub(n(8181).mul(n(c).pow(3))).sub(n(10).mul(n(c).pow(4))).div(34375e5).toNumber());return l=-Math.abs(l),s>o&&(l=-l),{Lati:l,Lati1:91.311-l}},Ln=(n.acos(-1),n=>{const i=121.75,e=e=>e**4/i**2+(1-2*n/i)*e**2-i*e+n**2;let r=0,a=0,o=60.875;for(;o-a>1e-10;)r=(a+o)/2,e(r)*e(a)<0?o=r:a=r;return o}),Sn=(n,i,e,r)=>{const a=60.875,o=121.75;r=r||i;const t=91.3125,s=182.625;let u=n%t;(n>t&&n<=s||n>=273.9375&&n<365.25)&&(u=t-u);const c=a-Ln(u),l=Math.sqrt(a**2-c**2),g=i*c/a,m=r*c/a,h=l*a/Math.sqrt(a**2-g**2);let d=(h+(a-Math.sqrt(a**2-h**2))**2/o-u)%91.3125;const f=c*e/a,p=Math.sqrt(l**2+f**2);let N=m+(a-p)**2/o,M=1;(n<t||n>273.9375)&&(N=-N,M=-1);const A=a-Ln(u),L=i*A/e;let S=u-(n=>{const i=60.875,e=i-Math.sqrt(i**2-n**2),r=2*n+e**2/i;return{h:e,l:r,Halfl:r/2}})(Math.sqrt(a**2-A**2)*(L*a/Math.sqrt(a**2+L**2))/(i*A/e)).Halfl,w=1,D=1,O=0,T=0;return n>=0&&n<t||n>=s&&n<273.9375?D=-1:w=-1,d*=w,S*=D,O=n+d,T=n+S,{Eclp2EquaDif:d,Equa2EclpDif:S,Eclp2Equa:O,Equa2Eclp:T,Lati:N,ON:p,p2Another:m,sign:M}},wn=n=>{const{Eclp2EquaDif:i,Equa2EclpDif:e,Eclp2Equa:r,Equa2Eclp:a,Lati:o,ON:t,p2Another:s,sign:u}=Sn(n,23.807,56.0268,23.71);return{Eclp2Equa:r,Eclp2EquaDif:i,Equa2Eclp:a,Equa2EclpDif:e,Lati:o,Lati1:91.3125-o,Sunrise:25-u*(19.9614*s/23.71)*100/(6*t+1)}},Dn=(n,i,e)=>{let r=n;return n>i&&(r=e-n),r},On=n=>{const i=n%.25;let e=i;return i>=1/8&&(e=1/4-i),e},Tn=n=>{let i=0;return n<0?n=0:n<15?i=2:(n=15,i=1),{Magni:n,status:i}},yn=(n,i,e,r,a,o,t,s)=>{const{Type:u,AutoPara:c}=Yn(o),{Solar:l}=c[o];let g={};return u<=3||["Yuanjia","Daming","Liangwu"].includes(o)?g=((n,i)=>{const{AutoPara:e}=Yn(i),{Node:r,Lunar:a,Sidereal:o,Solar:t}=e[i];let{MoonAvgVDeg:s}=e[i];s||(s=parseFloat(((o||t)/a+1).toPrecision(14)));const u=r/2,c=Dn(n%u,r/4,u);let l=0,g=a/2;["Daming","Kaihuang"].includes(i)&&(g=s*(a-r)/2),c*s<g&&(l=3);let m=15-c*s;return m<0?(m=0,l=0):l=m<5?3:m<12.417?2:1,{Magni:m,status:l,Node:r}})(n,o):(n+=cn(i,r%l,o,n).NodeAccumCorr,u<=6?g=((n,i,e,r,a,o,t,s)=>{const{AutoPara:u,Type:c}=Yn(o),{Node:l,Lunar:g,Anoma:m,Sidereal:h,Solar:d,Denom:f,NodeDenom:p}=u[o],N=(g-l)/2,M=l/2,A=l/4,L=parseFloat(((h||d)/g+1).toPrecision(13)),S=d/2,w=d/4,D=r%d,O=d/24;let T=N;const y=n%M;let R=Dn(y,A,M);const v=Math.abs(e-.5),E=Math.abs(D-S);let b=0,F=0,C=0,x=0;if(["Daye","Wuyin"].includes(o)&&a){if("Daye"===o)t<=3&&R>=7/12?C=24/f:t>=7&&t<=9&&(R>=8/12&&R<1?C=24/f:R>=1&&(C=48/f));else if("Wuyin"===o&&(i<7||i>=21&&i<27?C=-(a?300:280)/f:i>=7&&i<13||i>=14&&i<21?C=(a?300:280)/f:i>=13&&i<14?C=550/f:i>=27&&(C=-550/f),a&&n>=M)){let n=1;i>.25*m&&i<=.75*m&&(n=-1),t<=3&&R>=1/3||t<=6?x=280*n/f:t<=9&&R>=11/12&&n>1?x=550/f:(t<=9&&R<11/12&&n>1||t<=12&&R<=5/12&&n>1)&&(x=280/f)}const r=On(e+=C+x);let s=R;R<=1/4?s=1/4+R:R<=.5?s=1/6+R:R<=3/4?s=1/12+R:R<=1||(s=1-R),F=-s*r/(14/12),(e<=1/4||e>.5&&e<=3/4)&&(F=-F),e+=F}else if(6===c&&a){const i=On(e);let r=-1;if((e>.25&&e<.5||e>.75)&&(r=1),n>M){let n=i*(10+12*R)/42;F=n;let a=-1;e>=.5&&(a=1),D<5*O||D<7*O||(D<17*O?F=a*(2*~~(E/O)+4*R)/100+n:D<19*O||(F=-a*(2*~~(D%d/O)+4*R)/100+n)),e+=r*F}else F=i*R*2/7,e-=-r*F}a&&(["Daye","Wuyin"].includes(o)?n>=M?(v<=.125&&(5===t||6===t)||D>=4*O&&D<=8*O&&e>7/12||D>=16*O&&D<=20*O&&e<5/12)&&(T=13/12):(T=1/12,Math.abs(12*O-D)<=1||Math.abs(6*O-D)<=1||Math.abs(18*O-D)<=1?T=.5:(t>=4&&t<=6&&v<=.125||Math.abs(6*O-D)<=3||Math.abs(18*O-D)<=3||y>A||y<A&&i>.25*m&&i<=.75*m||y>A&&i<.25*m&&i>=.75*m)&&(T=1/6)):"Huangji"===o?n>=M?Math.abs(12*O-D)<=10&&v<.125&&v>=1/12?T=12.25/12:Math.abs(12*O-D)<=20&&v<.125&&v>=1/12?T=12.5/12:Math.abs(12*O-D)<=20&&v<1/6&&v>=.125?T=13/12:Math.abs(12*O-D)<=g&&v<.125&&v>=1/12?T=1.0625:(6===t||4===s&&t===s)&&v<.125&&v>=1/12?T=13/12:((6===t||4===s&&t===s)&&v>=.125&&v<1/6||D>=8*O&&D<=16*O&&v<.125&&v>=1/12||D>=7*O&&D<=17*O&&v<1/12&&v>=1/24||D>=6*O&&D<=18*O&&v<1/24)&&(T=1.125):Math.abs(12*O-D)<=g&&v>=1/24&&v<1/12?T=1/6:Math.abs(12*O-D)<=g&&v>=1/12&&v<.125||Math.abs(12*O-D)<=46&&v>=1/24&&v<1/12?T=.125:Math.abs(12*O-D)<=46&&v>=1/12&&v<.125?T=1/12:(D>=8*O&&D<=16*O&&v<1.25/12&&v>=1/12||D>=7*O&&D<=17*O&&v<1/12&&v>=1/24||D>=6*O&&D<=18*O&&v<1/24)&&(T=.5/12):"Linde"===o&&(n>=M&&D>=d/4&&D<=.75*d?v>.18-.137*E/w&&(T=1373/f+137/f*E/w):n<M&&(D>=d/4&&D<=.75*d?v<=.07?T=248/f-182.6/f*E/w:v<.1744-.1014*E/w?T=60/f:v<.1044-.1014*E/w&&(T=60/f+1644/f*E/w):v<=.12&&(T=60/f)))),a?R<=T&&(b=2):R<=N&&(b=2);let P=0,Z=0,Y=0;if(["Daye","Wuyin"].includes(o)){if(a){let i=184e3;"Daye"===o?D<4*O||(D<S?i=184e3*(S-D)*1500:D<.75*d&&(i=184e3*(D-S)*2e3)):"Wuyin"===o&&(i=220800,D<4*O||(D<S?i=220800*(S-D)*1810:D<.75*d&&(i=2400*(D-S)))),i/=p;let e=0;D>=2*O&&D<10*O&&R>5/12&&(n>M&&n<.75*l||n<A)&&(e=-1),P=15-(Math.abs(R+e/12-i)+F)*L}else P="Daye"===o?t>=1&&t<=3&&y<A||t>=7&&t<=9&&y>A||t>=10&&y<A?15-(R-1/12)*L:15-R*L:t>=1&&t<=3&&y>A||t>=7&&t<=9&&y<A?15-(R-1/24)*L:t>=1&&t<=3&&y<A||t>=7&&t<=9&&y>A||t>=10?15-(R-1/6)*L:15-R*L;R<0&&(P=15,b=1),P>15&&(P=15,b=1);const i=[0,3,4,5,6,8,9,10,11,13,14,15,16,18,19,22];P>0&&P<15?Z=i[~~P]+(P-~~P)*(i[1+~~P]-i[~~P]):15===P&&(Z=i[P])}else if("Huangji"===o){if(a){let n=0;E<2*O?v>=1/24&&v<1/12?n=1.75*f/12:v>=1/12&&v<.125?n=1.25*f/12:v>=.125&&v<1/6&&(n=.75*f/12):E<3*O?v>=1/24&&v<1/12?n=1.25*f/12:v>=1/12&&v<.125?n=.75*f/12:v>=.125&&v<1/6&&(n=.25*f/12):E<4*O?v>=1/24&&v<1/12?n=.75*f/12:v>=1/12&&v<.125&&(n=.25*f/12):E<5*O?v>=1/24&&v<1/12?n=.25*f/12:v>=1/12&&v<.125||v>=.125&&v<1/6&&(n=-10.1):E<6*O?v>=1/24&&v<1/12||(v>=1/12&&v<.125?n=-10.1:v>=.125&&v<1/6&&(n=-15.2)):E<7*O?v>=1/24&&v<1/12?n=-10.1:v>=1/12&&v<.125?n=-15.2:v>=.125&&v<1/6&&(n=-53.3):E<8*O?v>=1/24&&v<1/12?n=-15.2:v>=1/12&&v<.125?n=-53.3:v>=.125&&v<1/6&&(n=-60.9):E<9*O?v>=1/24&&v<1/12?n=-53.3:v>=1/12&&v<.125?n=-60.9:v>=.125&&v<1/6&&(n=-65.9):E<10*O?v>=1/24&&v<1/12?n=-60.9:v>=1/12&&v<.125?n=-65.9:v>=.125&&v<1/6&&(n=-71):E<11*O?v>=1/24&&v<1/12?n=-65.9:v>=1/12&&v<.125?n=-71:v>=.125&&v<1/6&&(n=-76.1):v>=1/24&&v<1/12?n=-71:v>=1/12&&v<.125?n=-76.1:v>=.125&&v<1/6&&(n=-81.2),Y=n/96,P=15*(N-R)/N-Y}else Y=D>w&&D<S||D>.75*d?15*(3*~~(E/O)+2*(10+12*R))/N:15*(3*~~(E/O)+2*(10+12*R)+2*~~(w-D%S))/N,P=15*(N-R)/N+Y/f;R<0&&(P=15,b=1),P>15&&(P=15,b=1);const n=[0,1,2,3,6,8,9,10,11,13,14,15,16,18,19,20];P>0&&P<15?Z=n[~~P]+(P-~~P)*(n[1+~~P]-n[~~P]):15===P&&(Z=n[P])}else if("Linde"===o){if(a){Y=n>M?D<w?552:D<=S?552*(S-D)/w:D<=S+w?552*(D-S)/w:552:D<w?552*D/w:D<=S+w?552:552*(d-D)/w,Y/=f;const i=n>M?-1:1;P=15-Math.abs(R+i*Y)/(104/f-Y/15)}else t>=1&&t<=3?Y=y>A?200:100:t>=4&&t<=6?Y=54:t>=7&&t<=9?Y=y>A?100:200:t>=10&&t<=12&&(Y=224),Y/=f,R-=Y,P=(N-R)/(104/f);R<0&&(P=15,b=1);const e=[0,1,2,3,6,8,9,10,11,13,14,15,16,18,19,20];P>0&&P<15?Z=e[~~P]+(P-~~P)*(e[1+~~P]-e[~~P]):15===P&&(Z=e[P]),Z-=Z*(cn(i,0,o).MoonTcorr2-cn((i-1+m)%m,0,o).MoonTcorr2)}return P<0&&(P=0,b=0,Z=0),{Magni:P,status:b,Decimal:e,StartDecimal:Z?e-.6*Z/200:0,Last:Z}})(n,i,e,r,a,o,t,s):["Dayan","Zhide","Wuji","Tsrengyuan"].includes(o)?g=((n,i,e,r,a,o)=>{const{AutoPara:t}=Yn(o),{Node:s,Anoma:u,Lunar:c,Solar:l,Denom:g,AcrTermList:m,MoonTcorrList:h}=t[o];let{SunLimit1:d,SunLimit2:f,MoonLimit1:p}=t[o];d&&(d/=g,f/=g),p&&(p/=g);const N=(c-s)/2,M=s/2,A=s/4,L=n%M,S=en(o),w=l/2,D=l/4,O=r%l;let T=0,y=0,R=0,v=0,E=0,b=0,F=0;const C=Dn(L,A,M);let x=0;if(a){if("Dayan"===o){let i=0;const e=[0,10,25,45,70,100,135,175,220,270,325,385,450,385,325,270,220,175,135,100,70,45,25,10,0,10];for(let n=0;n<=23;n++)if(O>=m[n]&&O<m[n+1]){i=n%24;break}const r=m[i]+","+e[i]+";"+m[i+1]+","+e[i+1]+";"+m[i+2]+","+e[i+2];T=nn(O,r),O>w&&(T=-T),x=(1275+T)/g,n>M?(F=f,C<x&&(F=d)):F=d,F+=T/g}if(C>F)return{status:0,Magni:0,Last:0,Decimal:e}}["Dayan","Zhide"].includes(o)&&(y=.0785*C/20,O>D&&O<.75*l?n<M&&(y=-y):n>M&&(y=-y));let P=1;if(["Dayan","Zhide"].includes(o))if(a){let e=C+x;n>M&&(e=C-x),n>M?(v=15-(e-104/g)/(143/g),C<x&&(P=2,v=(F+C)/(90/g))):(P=3,v=C/(90/g));const r=Tn(v);v=r.Magni,E=r.status,v&&(b=v+2),1===P?e<35/g?b=20.5:e<70/g&&(b=20):2===P&&(e<4/g?b=21.25:e<20/g&&(b=20)),b-=b*(h[(1+~~i)%u]-h[~~i])/g}else C<=779/g?(v=15,E=1):v=(N-C)/(183/g),v&&(b=v<11?v+4:v+5),C<260/g?b=21:C<520/g&&(b=20.5),b-=b*(h[(1+~~i)%u]-h[~~i])/g;else["Wuji","Tsrengyuan"].includes(o)&&("Wuji"===o?(R=n>s/2?O>.75*l||O<l/4?457:O>=l/4&&O<l/2?457-5.00486*(O-l/4):5.00486*(O-l/2):O>l/4&&O<.75*l?457:O>=.75*l?457-5.00486*(O-.75*l):5.00486*O,R/=g):(R=n>s/2?O>.75*l||O<l/4?373:O>=l/4&&O<l/2?373-4.084934*(O-l/4):4.084934*(O-l/2):O>l/4&&O<.75*l?373:O>=.75*l?373-4.084934*(O-.75*l):4.084934*O,R/=g));C*S>13&&(E=3);const Z=(e+=y)-b/200,Y=Tn(v);return v=Y.Magni,E=Y.status,{status:E,Last:b,Magni:v,StartDecimal:Z,Decimal:e}})(n,i,e,r,a,o):u<=11&&(g=((n,i,e,r,a,o)=>{const{Type:t,AutoPara:s}=Yn(o),{Solar:u,Lunar:c,Node:l,Denom:g,XianConst:m}=s[o];let{SunLimit1:h,SunLimit2:d,MoonLimit1:f,MoonEcliDenom:p}=s[o];h/=g,d/=g,f&&(f/=g,p/=g);const N=(c-l)/2,M=l/2,A=l/4,L=u/2,S=u/4,w=u/24;let D=r%u;const O=cn(i,D,o);let T=n%M;T>A&&(T=M-T);let y=0,R=0,v=i+O.Tcorr2;9===t&&(R=O.MoonTcorr2,y=O.Tcorr2*R),D+=O.Tcorr2+y;let E=pn(D,o).Sunrise,b=(50-E)/100,F=e+=y;e>.5&&(F=1-e);let C=0;if(a)"Xuanming"===o?(C=-(.5-F)*b/1.47,e>.5&&(C*=-2)):["Chongxuan","Chongtian","Guantian"].includes(o)?(C=-(.5-F)*F/3,e>.5&&(C*=-2)):9===t?(C=-(.5-F)*F/1.5,e>.5&&(C*=-1.5)):10===t?(C=(1-F)*(F-.5)/2,e<.5&&(C=-C)):11===t&&(C=(1-F)*(F-.5)/1.92,e<.5&&(C=-C));else{let n=e%.5;n>.25&&(n=.5-n),9===t?C=e>.5?-(n**2)/3:e<2/3*E?(4/3*E-e)*e/1.5:2*(4/3*E-2*(E-e))*(E-e)/1.5:10===t?C=n**2/5:"Shoushi"===o&&(C=n**2/4.78,e>.5&&(C=-C))}let x=D+C;9===t&&(x+=cn(v,x,o).SunDifAccum);let P=(e+=C)-.5;E=pn(x-P,o).Sunrise,b=(50-E)/100;let Z=0,Y=0,W=0,q=0;const J=D%L;let j=1;D>=S&&D<.75*u?n<M&&(j=-1):n>M&&(j=-1);let B=1;D<S||D>.75*u?P<0?n>M&&(B=-1):n<M&&(B=-1):P<0?n<M&&(B=-1):n>M&&(B=-1);let k=1;P>0?n>M&&(k=-1):n<M&&(k=-1);let $=J;$>S&&($=L-$);let V=x%L;if(V>S&&(V=L-V),"Xuanming"===o)Z=(2350-25.73618*$)*(1-Math.abs(P)/b),Y=J<3*w?2.1*~~$:J<9*w?94.5:94.5-2.1*(~~$-9*w),Y*=Math.abs(P),D<3*w?W=51-17*D/w:D>21*w&&(W=17*(D-21*w)/w);else if("Yingtian"===o)Z=(364-4*~~$)*(1-Math.abs(P)/b),J>45&&J<137?Y=15.08*Math.abs(P):(J<45?J=45-J:J-=137,Y=(15.08-.335*~~J)*Math.abs(P));else if("Qianyuan"===o)Z=(819-9*~~$)*(1-Math.abs(P)/b),J>45&&J<137?Y=33.3*Math.abs(P):(J<45?J=45-J:J-=137,Y=(33.3-.74*~~J)*Math.abs(P));else if("Yitian"===o)Z=(2826-30.9491267*$)*(1-Math.abs(P)/b),Y=D<3*w?2.525*~~J*g/442384:D<9*w?113.625:D<13*w?(113.625-2.525*(~~J-9*w))*g/279858:D<16*w?2.525*~~J*g/279858:D<21*w?113.625:(113.625-2.525*(~~J-21*w))*g/442384,Y*=Math.abs(P),D<3*w?W=61.32-20.44*J/w:D>21*w&&(W=20.44*(D-21*w)/w);else if("Mingtian"===o){let n=D;D<L?D>u/6&&(n=L-n):D>L&&D>u/3&&(n=L-n),Z=508-106/3093*(243.5-n)*n,Z*=Math.abs(P)/9750,Y=106/3093*(243.5-n)*n,Y*=Math.abs(P)/9750}else if("Guantian"===o){let n=D;D<L?D>88.91&&(n=L-n):D>L&&D>L+93.71&&(n=L-n),Z=D<88.91||D>L+93.71?(4010-100/197*n**2)*(1-Math.abs(P)/b):(4010-100/219*n**2)*(1-Math.abs(P)/b),Y=100/209*(L-n)*n,Y*=Math.abs(P)/3700.5}else"Chongtian"===o?(Z=(3533-100/236*$**2)*(1-Math.abs(P)/b),Y=100/236*(L-$)*$,Y*=4*Math.abs(P)/g):9===t?(Z=(2430-100/343*V**2)*(1-Math.abs(P)/b),Y=100/343*(L-V)*V,Y*=4*Math.abs(P)):10===t?(Z=(1744-100/478*$**2)*(1-Math.abs(P)/b),Y=100/478*(L-$)*$,Y*=Math.abs(P)/1307.5):11===t&&(Z=(4.46-$**2/1870)*(1-Math.abs(P)/b),Y=(L-$)*$/1870,Y*=Math.abs(P)/2500);let H=0;9===t&&(H=n>A&&n<.75*l?-3e3:3100),q=(j*Z+B*Y+k*W+H)/g,n+=q;let Q=n%=M;Q>A&&(Q=M-Q);let z=0,G=0,_=0;if(a){let i=10;"Xuanming"===o&&(i=20/3),9===t?(n<M&&Q<h?(z=2,G=i*(1-Q/h)):n>M&&Q<d&&(z=2,G=i*(1-Q/d)),G>15&&(G=15,z=1,_=8),_=583*(20*G-G**2)*(1-R)/g):n<M?z=0:Q<h?G=i*Q/h:Q<h+d?G="Xuanming"===o?15-i*(Q-h)/d:i*(h+d-Q)/d:z=Q<N?3:0}else"Xuanming"===o&&(T<f?(z=1,G=15):T<N?(z=2,G=(N-T)/p):z=0);if(11===t){let i=0;a?e>E-m&&e<1-E+m&&(n<=.6||n>=25.6||n>=13.1&&n<=15.2)&&(i=1):e<E+m&&e>1-E-m&&(n<=1.2||n>=26.05||n>=12.4&&n<=14.8)&&(i=1)}let X=0;return 9===t&&(X=e-_/100),_*=2,{Magni:G,status:z,Last:_,StartDecimal:X,Decimal:e}})(n,i,e,r,a,o))),g},Rn=(n,i)=>{const{Type:e,AutoPara:r}=Yn(i),{Sidereal:a,Solar:o,SolarRaw:t}=r[i];n%=a||o||t;let s=0,u=0,c=0,l=0,g=0;if(e<=7||["Yingtian","Qianyuan","Yitian"].includes(i)){const e=((n,i)=>{const{AutoPara:e,Type:r}=Yn(i);let{Sidereal:a,Solar:o}=e[i];a||(a=o);let t=n%(a/4);(n>a/4&&n<=a/2||n>=.75*a&&n<a)&&(t=a/4-t);let s=0,u=[];r<=4?u=[0,4,4,3,4,4,4,3,4,4,4,3,4,5+a/4-~~(a/4),4,3,4,4,4,3,4,4,4,3,4]:["Huangji","Linde"].includes(i)?u=[0,4,4,4,4,4,4,4,4,4,4,4,3.31,4,4,4,4,4,4,4,4,4,4,4]:["Dayan","Zhide","Tsrengyuan","Wuji","Qintian","Yingtian","Qianyuan","Yitian"].includes(i)&&(u=[0,5,5,5,5,5,5,5,5,5,1+a/4-~~(a/4),5,5,5,5,5,5,5,5,5]);let c=0,l=0;["Huangji","Linde"].includes(i)?(c=97/450,l=1/450):["Dayan","Zhide","Tsrengyuan","Wuji"].includes(i)?(c=.5,l=-1/24):"Qintian"===i?(c=40/72,l=-5/72):"Yingtian"===i?(c=12/20.2,l=-1.5/20.2):"Qianyuan"===i?(c=9/16.8,l=-1/16.8):"Yitian"===i&&(c=107/202,l=-10/202);const g=u.length-2;let m=u.slice();for(let n=1;n<=g+1;n++)m[n]+=m[n-1];let h=[];h[1]=c;for(let n=2;n<=g/2;n++)h[n]=h[n-1]+l;h[g/2+1]=0,h[g/2+2]=h[g/2];for(let n=g/2+3;n<=g+1;n++)h[n]=h[n-1]-l;let d=[];if(d[0]=0,r<=4){for(let n=1;n<=12;n++)d[n]=d[n-1]+1/4;for(let n=13;n<=24;n++)d[n]=d[n-1]-1/4}else{for(let n=1;n<=g/2+1;n++)d[n]=d[n-1]+h[n],d[n]=parseFloat(d[n].toPrecision(14));for(let n=g/2+2;n<=g+1;n++)d[n]=d[n-1]-h[n],d[n]=parseFloat(d[n].toPrecision(14));d[g+1]=0}let f=0;for(let n=1;n<=u.length-2;n++)m[n]<=t&&t<m[n+1]&&(f=n);let p=d[f]+(d[f+1]-d[f])*(t-m[f])/(m[f+1]-m[f]),N=1;return(n>=0&&n<a/4||n>=a/2&&n<.75*a)&&(N=-1),p*=N,s=n+p,{Equa2Eclp:s,Equa2EclpDif:p}})(n,i);s=e.Equa2Eclp,c=e.Equa2EclpDif}else if(8===e){const e=fn(n,i);s=e.Equa2Eclp,u=e.Eclp2Equa,c=e.Equa2EclpDif,l=e.Eclp2EquaDif}else if(9===e||10===e){const i=fn(n,"Jiyuan");s=i.Equa2Eclp,u=i.Eclp2Equa,c=i.Equa2EclpDif,l=i.Eclp2EquaDif}else if(11===e){const i=wn(n);s=i.Equa2Eclp,u=i.Eclp2Equa,c=i.Equa2EclpDif,l=i.Eclp2EquaDif,g=i.Lati}return l=u?l||u-n:0,{Equa2Eclp:s,Equa2EclpDif:c,Eclp2Equa:u,Eclp2EquaDif:l,Eclp2EquaLati:g}},vn=(n,i,e,r)=>{const{Type:a,AutoPara:o}=Yn(e),{Solar:t,SolarRaw:s}=o[e];n%=t||s,n+=i-.5;let u={},c={},l={},g=0;r||["Chongxuan","Chongtian","Mingtian","Guantian","Jiyuan","Shoushi"].includes(e)&&(n+=ln(0,n,e).SunDifAccum),a<=3?u=gn(n,"Easthan"):4===a?u=gn(n,e):6===a?u=mn(n,e):["Dayan","Zhide","Wuji","Tsrengyuan"].includes(e)?u=mn(n,"Dayan"):["Xuanming","Qintian"].includes(e)?u=mn(n,"Xuanming"):["Yingtian","Qianyuan"].includes(e)?u=mn(n,e):["NewDaming","Gengwu"].includes(e)?u=mn(n,"NewDaming"):8===a?(c=pn(n,e),l=Nn(n,e),g=1):a<=10?(c=pn(n,"Jiyuan"),l=Nn(n,"Jiyuan"),g=1):11===a&&(u=wn(n));let m=0,h=0,d=0,f=0;return g?(m=c.Lati,h=c.Lati1,d=c.Sunrise,f=l.Dial):(m=u.Lati,h=u.Lati1,d=u.Sunrise,f=u.Dial||0),{Lati:m,Lati1:h,Sunrise:d,Dial:f}},En=(n,i,e)=>{const{Type:r,AutoPara:a}=Yn(e);let{Solar:o,SolarRaw:t,Sidereal:s}=a[e];o=o||t;const u=(n%=o)+ln(0,n,e).SunDifAccum;let c=0;c=11===r?u:Rn(u,e).Equa2Eclp;let l={},g={};r<=3?g=dn(i,"Qianxiang"):"Yuanjia"===e?g=dn(i,e):4===r?g=dn(i,"Daming"):6===r?(l=hn(c,i,"Huangji"),g=dn(i,"Huangji")):"Qintian"===e?(l=hn(c,i,"Qintian"),g=dn(i,"Dayan")):7===r?(l=hn(c,i,"Dayan"),g=dn(i,"Dayan")):"Chongxuan"===e?(l=hn(c,i,"Dayan"),g=An(i,"Chongxuan")):["Yingtian","Qianyuan","Yitian"].includes(e)?(l=hn(c,i,"Yingtian"),g=An(i,"Chongxuan")):["Chongtian","Guantian"].includes(e)?(l=Mn(c,i,e),g=An(i,e)):"Mingtian"===e?(l=Mn(c,i,e),g=An(i,"Guantian")):9===r||10===r?(l=Mn(c,i,"Jiyuan"),g=An(i,"Jiyuan")):11===r&&(l=((n,i)=>{const e=60.87625,r=182.62875,a=91.314375,o=273.943125,t=n-i,s=13.3687*i,u=wn(t).Eclp2Equa%r,c=u%r,l=a-Math.abs(u-a),g=14.66*l/a;let m=a;n>=r&&(m=o);const h=t+s,d=wn(h).Eclp2Equa,f=23.9+6*(a-l)/a;let p=n%a;(n>a&&n<=r||n>=o&&n<365.2575)&&(p=a-p);let N=-1;n>=r&&(N=1);let M=-1;c>=a&&(M=1);let A=1,L=d%r;return L>a&&(L=r-L),L>45.6571875&&(A=-1),{a0:g,u:f,WhiteLongi:d+A*(M*(98+24*N*(a-l)/a-l)*l/1e3),EquaLati:f*(e-Ln(p))/e,ElcpLongi:h,EquaLongi:d}})(c,i),g=l);let m=l.EclpLongi||0;m||(m=n-i+en(e)*i);const h=l.EquaLongi||0,d=l.WhiteLongi||0,f=l.EclpWhiteDif||0,p=l.EclpEquaDif||h-m,N=l.EquaWhiteDif||h-d,M=l.EquaLongiB||0,A=M-m||0,L=g.EquaLati||0,S=g.Lati||L-vn(c,.5,e).Lati;return{EclpLongi:m,EquaLongi:h,EquaLongiB:M,WhiteLongi:d,EclpWhiteDif:f,EclpEquaDif:p,EclpEquaDifB:A,EquaWhiteDif:N,MoonEclpLati:S,MoonEclpLati1:g.Lati1||s/4-S,MoonEquaLati:L}},bn=(n,i,e,r,a)=>{const{AutoPara:o}=Yn(e),{SolarRaw:t,WinsolsConst:s,MansionConst:u,MansionRaw:c}=o[e];let{Sidereal:l,Solar:g}=o[e];l=l||g||t;let m=0,h=0;const d=((i[c[0]]+c[1]+(u||0)+(n-=s||0))%l+l+1e-10)%l;for(let n=1;n<=28;n++)if(i[n]<=d&&d<i[n+1]){m=n;break}const f=A[m]+(d-i[m]).toFixed(3);let p=0,N=.025;if("Huangji"===e?N=.02365:"Linde"===e&&(N=.0228),a>=0){const n=vn(r,a,e).Sunrise/100;let o=0;o="Dayan"===e?(d+(.5-n+N)*l)%l:(d+(.5+N-n)*l-n+1)%l;for(let n=1;n<=28;n++)if(i[n]<o&&o<i[n+1]){h=n;break}p=A[h]+(o-i[h]).toFixed(3)}return{MansionOrder:m,MansionResult:f,MidstarResult:p}},Fn=(n,i)=>{const{Type:e}=Yn(i);let r=0,a="";return(e>=7||"Linde"===i)&&e<=10&&n>=.75&&(r=1,a="<span class='NewmPlus'>+</span>"),{NewmPlus:r,Print:a}},Cn=(n,i,e)=>{const{Type:r,AutoPara:a}=Yn(e),{SolarRaw:o,Node:t,LunarRaw:s}=a[e];let{Solar:u,Lunar:c}=a[e];c=c||s,u=u||o;const l=t/2,g=(c-t)/2,m=u/24;let h="";return r<=6?h=n>l-g&&n<l||n<g||n>l&&n<l+g||n>t-g?"<span class='lati-yellow'>黃</span>":n<l?"<span class='lati-yang'>陽</span>":"<span class='lati-yin'>陰</span>":r>=7&&r<=10&&(h=i<3*m||i>=21*m?n<l?"<span class='lati-white'>白</span><span class='lati-yang'>陽</span>":"<span class='lati-green'>靑</span><span class='lati-yin'>陰</span>":i>=3*m&&i<9*m?n<l?"<span class='lati-red'>朱</span><span class='lati-yang'>陽</span>":"<span class='lati-black'>黑</span><span class='lati-yin'>陰</span>":i>=9*m&&i<15*m?n<l?"<span class='lati-green'>靑</span><span class='lati-yang'>陽</span>":"<span class='lati-white'>白</span><span class='lati-yin'>陰</span>":n<l?"<span class='lati-black'>黑</span><span class='lati-yang'>陽</span>":"<span class='lati-red'>朱</span><span class='lati-yin'>陰</span>",n>l-g&&n<l||n<g?h="<span class='lati-yellow'>黃</span><span class='lati-yang'>陽</span>":(n>l&&n<l+g||n>t-g)&&(h="<span class='lati-yellow'>黃</span><span class='lati-yin'>陰</span>")),h};function xn(n,i){const{Lunar:e,Solar:r,WinsolsWinsolsDif:o,WinsolsOriginMon:t,OriginAd:s,OriginYearSc:u,OriginDayCorr:c,OriginCorr:g,ZhengNum:m,OriginMonNum:h,YuanRange:d,TongRange:f,isTermLeap:p,Ecli:N,EcliRange:M,MansionRaw:A}=V[n];let{JiRange:L,BuRange:S}=V[n];"Taichu"===n&&(L=d,S=f);const w=r/12,D=m-h;let O=i-s,T="";"Taichu"===n&&(T=a[(~~(O%1728*145/144)+u)%60]);const y=~~(O%d/L),R=O%d%L%S+1,v=(1+~~(O%d%L/S)*("Qianzaodu"===n?365.25*S%60:r*S%60)+(c||0))%60,E=(R-1)*r+(o||0)+(g||0),b=(E%60+60)%60,F=E-(o||0),C=E-~~E,x=parseFloat((((7*(R-1)/19-~~(7*(R-1)/19)+(t||0))%1+1)%1).toPrecision(11)),P=parseFloat((((7*(R-2)/19-~~(7*(R-2)/19)+(t||0))%1+1)%1).toPrecision(11)),Z=parseFloat((((7*R/19-~~(7*R/19)+(t||0))%1+1)%1).toPrecision(11));let Y=x>=parseFloat((12/19).toPrecision(11))?1:0,W=P>=parseFloat((12/19).toPrecision(11))?1:0,q=Z>=parseFloat((12/19).toPrecision(11))?1:0,J=Y?~~parseFloat((228*(1-x)/7).toPrecision(12)):0,j=W?~~parseFloat((228*(1-P)/7).toPrecision(12)):0,B=q?~~parseFloat((228*(1-Z)/7).toPrecision(12)):0,k=0,H=0;p||(k=m>0?Z:x,H=m>0?q:Y);let Q=0,z=0;B?(B-=m,B<=0&&(J=B+12,Y=1,q=0,Q=1)):J?(J-=m,J<=0?(J=0,Y=0,W=1,Q=1):J>=13&&(J=0,Y=0,q=1,z=1)):j&&(j-=m,j>=13&&(J=j+12,Y=1,W=0,z=1));let G=0;J&&(G=Math.round(((J+D+12)%12+12)%12.1));const _=A?$(n,i):[],X=[],I=[],U=[],K=[],nn=[],en=[],rn=[],an=[],on=[],tn=[],sn=[],un=[];let cn=[];const ln=[];for(let i=0;i<=14;i++)X[i]=parseFloat(((~~(235*(R-1)/19+(t||0))+m+i-1)*e+(g||0)).toPrecision(14)),I[i]=X[i]+v,U[i]=(I[i]%60+60)%60,K[i]=~~I[i],nn[i]=~~U[i],en[i]=a[nn[i]],an[i]=(I[i]-K[i]).toFixed(4).slice(2,6),rn[i]=X[i]-E,A&&(on[i]=bn(X[i],_,n).MansionResult),tn[i]=parseFloat(((~~(235*(R-1)/19+(t||0))+m+i-.5)*e+(g||0)).toPrecision(14))+v,sn[i]=(tn[i]%60+60)%60,un[i]=~~sn[i],cn[i]=a[un[i]],ln[i]=(sn[i]-un[i]).toFixed(4).slice(2,6);let gn=0;if(N){gn=N*(O%M*(r/e)/N-~~(O%M*(r/e)/N));for(let n=1;n<=3;n++)cn[~~(N*n-gn)]+="<span class='eclipse-symbol'>◐</span>"}let mn=J;const hn=[],dn=[],fn=[],pn=[],Nn=[],Mn=[],An=[],Ln=[],Sn=[];if(p&&!mn||!p&&(!Y&&!q||!Y&&!Q||!Y&&Q)){for(let i=1;i<=13;i++)if(hn[i]=E+(i+m-1)*w,dn[i]=hn[i]+v,fn[i]=(dn[i]%60+60)%60,pn[i]=~~fn[i],Mn[i]=l[(i+m+12)%12],Nn[i]=a[pn[i]],An[i]=(fn[i]-pn[i]).toFixed(4).slice(2,6),A){const e=hn[i]-E,r=bn(hn[i],_,n,e,C);Ln[i]=r.MansionResult,Sn[i]=r.MidstarResult}}else{for(let i=1;i<=12;i++)if(hn[i]=E+(i+m-1)*w,dn[i]=hn[i]+v,fn[i]=parseFloat(((dn[i]%60+60)%60).toPrecision(12)),pn[i]=~~fn[i],Mn[i]=l[(i+m+12)%12],Nn[i]=a[pn[i]],An[i]=(fn[i]-pn[i]).toFixed(4).slice(2,6),A){const e=hn[i]-E,r=bn(hn[i],_,n,e,C);Ln[i]=r.MansionResult,Sn[i]=r.MidstarResult}for(;mn>=1&&dn[mn]>=K[mn+1]&&dn[mn]<K[mn+1]+2;)mn-=1;for(;mn<=11&&dn[mn+1]<K[mn+2]&&dn[mn+1]>=K[mn+2]-2;)mn+=1;Mn[mn+1]="无",Nn[mn+1]="",An[mn+1]="",A&&(Ln[mn+1]="",Sn[mn+1]="");for(let i=mn+2;i<=13;i++)if(hn[i]=E+(i+m-2)*w,dn[i]=hn[i]+v,fn[i]=(dn[i]%60+60)%60,pn[i]=~~fn[i],Mn[i]=l[(i-1+m+12)%12],Nn[i]=a[pn[i]],An[i]=(fn[i]-pn[i]).toFixed(4).slice(2,6),A){const e=hn[i]-E,r=bn(hn[i],_,n,e,C);Ln[i]=r.MansionResult,Sn[i]=r.MidstarResult}}let wn=0,Dn=0;(Q&&W||!p&&m>0&&!Q&&Y)&&(wn=1),Dn=p&&Y||H?1:wn;let On=wn,Tn=Dn;return Q&&W&&(On=0),wn&&wn&&!On&&(Tn=0),{OriginYear:O,JiOrder:y,BuYear:R,BuScOrder:v,JupiterSc:T,WinsolsAccumMod:b,OriginAccum:F,NewmAvgBare:X,NewmAvgRaw:I,NewmOrderRaw:K,NewmOrderMod:nn,NewmAvgSc:en,NewmAvgDecimal:an,NewmWinsolsDifRaw:rn,SyzygySc:cn,SyzygyDecimal:ln,TermAvgBare:hn,TermAvgRaw:dn,TermName:Mn,TermSc:Nn,TermDecimal:An,LeapSurAvgFix:k,LeapSurAvgThis:x,LeapNumOriginLeapSur:G,LeapNumTerm:mn,isAdvance:Q,isPost:z,isLeapAvgFix:H,isLeapAvgThis:Y,isLeapAvgNext:q,NewmSyzygyStart:wn,NewmSyzygyEnd:Dn,TermStart:On,TermEnd:Tn,NewmEqua:on,TermEqua:Ln,TermMidstar:Sn}}var Pn=(n,i)=>{const{Type:e,AutoPara:r}=Yn(n),{Sidereal:o,SolarNumer:t,LunarNumer:s,Denom:u,Anoma:c,AnomaOrigin:l,Node:g,YinyangOrigin:m,EcliOrigin:h,OriginAd:d,CloseOriginAd:f,OriginMonNum:p,ZhengNum:N,YuanRange:M,JiRange:A,ZhangRange:L,ZhangLeap:S,FirstCorr:w,AnomaCorr:D,OriginCorr:O,WinsolsConst:T,LeapConst:y,AnomaConst:R,NodeConst:v,NightList:E,AcrTermList:b}=r[n];let{Solar:F,SolarRaw:C,Lunar:x,LunarRaw:P,OriginDaySc:Z}=r[n];Z=Z||0,C=C||F,P=P||x;const Y=Math.round(L*(12+S/L)),W=N-p,q=i-d,J=i-f;let j=0,B=0,k=1;if("Tongtian"===n)i<1194&&(k=-1),j=k*J**2*.0127*.5/u,F=365.2424989147-21167e-10*J,x=J?(C-j/J-10.5/u)/(C/P):P,B=10.5*J/u;else if(["West","Shoushi"].includes(n))if(q<0&&(k=-1),"West"===n){const n=z(i);F=n.Solar,x=n.Lunar,j=k*(i-2e3)**2*3e-9,B=-k*(i-2e3)**2*1e-9}else F=C-q/1e6,j=k*q**2/2e6;const V=F/12,H=F/24,Q=parseFloat((V-x).toPrecision(14));let G=0;h&&(G="Yuanjia"===n?g*h:g/2*h);const _=x-c,X=(x-g)/2;let I=0,U=0,K=0,nn=0;A&&(I=Math.round(F*A%60),U=~~(q%M/A),K=q%M%A+1,nn=(1+U*I)%60);let en=0;e<11&&(en=q*C+(O||0)-j);let rn=0,an=0,on=0,tn=0;if(L)rn=q*Y%L,an=(q-1)*Y%L,on=(q+1)*Y%L;else if(6===e||7===e)rn=q*t%s,an=(q-1)*t%s,on=(q+1)*t%s;else if(e<11)rn=((en+(w||0))%P+P)%P,an=(((q-1)*C+(O||0)-j+(w||0))%P+P)%P,on=(((q+1)*C+(O||0)-j+(w||0))%P+P)%P;else if(11===e){tn=q*C,en=tn+T-j;const n=(q-1)*C+y,i=(q+1)*C+y;rn=parseFloat((((tn+y)%x+x)%x).toPrecision(14)),an=parseFloat(((n%x+x)%x).toPrecision(14)),on=parseFloat(((i%x+x)%x).toPrecision(14))}let sn=0;L?sn=Math.floor(q*Y/L)*x:6===e||7===e?sn=en-rn/u-B:e>=8&&(sn=en-rn-B);let un=0;"Qianxiang"===n?un=Math.floor((q+1)*Y/L)*x%c:e<11?un=(sn+(l||0)/u+("Shenlong"===n?c/2:0)+(D||0)+c)%c:11===e&&(un=((tn-rn+R)%c+c)%c);let ln=0;g&&e<11?ln=(sn+G+(-1===m?g/2:0))%g:e>=11&&(ln=((tn-rn+v)%g+g)%g);const gn="轉"+(en%c).toFixed(4)+(g?"交"+(en%g).toFixed(4):"")+(o?"週"+(en%o).toFixed(4):"");let mn=0;mn=L?L-S:e<=7?parseFloat((13*s-t).toPrecision(14)):parseFloat((13*x-F).toPrecision(14));let hn=rn>=mn?1:0,dn=an>=mn?1:0,fn=on>=mn?1:0,pn=0,Nn=0;L?(pn=hn?Math.ceil(parseFloat((12*(L-rn)/S).toPrecision(14))):0,Nn=fn?Math.ceil(parseFloat((12*(L-on)/S).toPrecision(14))):0):e<=7?(pn=hn?Math.ceil((x-rn/u)/Q):0,Nn=hn?Math.ceil((x-on/u)/Q):0):(pn=hn?Math.ceil((x-rn)/Q):0,Nn=hn?Math.ceil((x-on)/Q):0);let Mn=0;Nn?(Nn-=W,Nn<=0&&(pn=Nn+12,hn=1,fn=0,Mn=1)):pn&&(pn-=W,pn<=0&&(pn=0,hn=0,dn=1,Mn=1));const An=$(n,i),Ln=i=>{const r=[],o=[],t=[],s=[],u=[],l=[],m=[],h=[],d=[],f=[],p=[],N=[],M=[],A=[],L=[],S=[],w=[],D=[],O=[],T=[],y=[],R=[],v=[];for(let C=0;C<=14;C++){r[C]=sn+(W+C-(i?1:.5))*x,t[C]=(r[C]%60+60)%60,o[C]=Math.floor(r[C]),s[C]=a[(Math.floor(t[C])+1+Z)%60],u[C]=(r[C]-Math.floor(r[C])).toFixed(4).slice(2,6),R[C]=+(((W+C-(i?1:.5))*x+sn-en+F)%F).toFixed(5),f[C]=+((un+(W+C-1)*_+(i?0:x/2))%c).toFixed(5);const P=cn(f[C],R[C],n);let Y=0;if(e<=4?A[C]=P.Tcorr1:e<11?(A[C]=P.Tcorr2,Y=P.Tcorr1):11===e&&(A[C]=P.Tcorr2),L[C]=r[C]+A[C],S[C]=(L[C]%60+60)%60,M[C]=Math.floor(r[C]+A[C]),e<=4?(y[C]=L[C]-M[C],D[C]=y[C].toFixed(4).slice(2,6)):e<11?(y[C]=L[C]-M[C],O[C]=y[C].toFixed(4).slice(2,6),Y&&(D[C]=(r[C]+Y-Math.floor(r[C]+Y)).toFixed(4).slice(2,6))):11===e&&(y[C]=L[C]-M[C],T[C]=y[C].toFixed(4).slice(2,6)),N[C]=Math.floor(S[C]),w[C]=a[(N[C]+1+Z)%60],i){const{NewmPlus:i,NewmPlusPrint:r}=Fn(y[C],n);N[C]+=i,M[C]+=i,w[C]+=r||"";let a=0;11===e&&(a=Rn(R[C],n).Eclp2EquaDif),v[C]=bn(L[C]+a,An,n).MansionResult,d[C]=(C+W-1)*V,l[C]=en+d[C];const o=2*(C+W-1);e>=5&&(h[C]=b[o%24]+(o>=24?F:0),m[C]=en+h[C])}if(4===e){const n=~~(R[C]/H),e=R[C]-n*H,r=(E[n]+e*(E[n+1]-E[n]))/100;i&&L[C]-M[C]<r&&(w[C]=a[N[C]]+"<span class='NewmPlus'>-</span>")}g&&(p[C]=+((ln+(W+C-1)*x+(i?0:X))%g).toFixed(5))}return{TermAvgRaw:l,TermAcrRaw:m,Tcorr:A,AvgOrderRaw:o,AcrOrderRaw:M,OrderMod:N,AcrRaw:L,AcrMod:S,AvgSc:s,AvgDecimal:u,Sc:w,Decimal:y,Decimal1:D,Decimal2:O,Decimal3:T,Equa:v,TermAcrWinsolsDif:h,TermAvgWinsolsDif:d,NodeAccum:p,AnomaAccum:f,WinsolsDifRaw:R}},Sn=Ln(1),wn=Ln(0),{TermAvgRaw:Dn,TermAcrRaw:On,Tcorr:Tn,AvgSc:yn,AvgDecimal:vn,AcrRaw:En,AcrMod:Cn,AvgOrderRaw:xn,AcrOrderRaw:Pn,OrderMod:Zn,Sc:Wn,Decimal:qn,Decimal1:Jn,Decimal2:jn,Decimal3:Bn,Equa:kn,TermAcrWinsolsDif:$n,TermAvgWinsolsDif:Vn}=Sn,{Sc:Hn,Decimal:Qn}=wn;let zn=0;zn=L?(rn-Tn[1]*L/x+L)%L:rn-Tn[1];let Gn=0;pn&&(Gn=pn);let _n=0,Xn=0;if(hn){for(;Gn>=1&&Dn[Gn]>=xn[Gn+1]&&Dn[Gn]<xn[Gn+1]+2.5;)Gn-=1;for(;Gn<=12&&Dn[Gn+1]<xn[Gn+2]&&Dn[Gn+1]>=xn[Gn+2]-2.5;)Gn+=1;Gn<1?(_n=1,dn=1):Gn>12&&(Xn=1,fn=1)}let In=0,Un=0;Mn&&dn&&(In=1),Un=hn?1:In;let Kn=In,ni=Un;return Mn&&dn&&(Kn=0),In&&!Kn&&(ni=0),{LeapLimit:mn,OriginYear:q,FirstAccum:sn,FirstNodeAccum:ln,JiYear:K,JiScOrder:nn,OriginAccum:en,NewmAvgSc:yn,NewmAvgDecimal:vn,NewmAcrMod:Cn,NewmSc:Wn,NewmOrderRaw:xn,NewmAcrOrderRaw:Pn,NewmOrderMod:Zn,NewmDecimal1:Jn,NewmDecimal2:jn,NewmDecimal3:Bn,NewmAcrRaw:En,SyzygySc:Hn,SyzygyDecimal:Qn,TermAvgRaw:Dn,TermAcrRaw:On,LeapSurAvgThis:rn,LeapSurAcrThis:zn,LeapNumTerm:Gn,isAdvance:Mn,isLeapAdvan:_n,isLeapPost:Xn,isLeapThis:hn,isLeapPrev:dn,isLeapNext:fn,NewmSyzygyStart:In,NewmSyzygyEnd:Un,TermStart:Kn,TermEnd:ni,AccumPrint:gn,NewmEqua:kn,TermAvgWinsolsDif:Vn,TermAcrWinsolsDif:$n,EquaDegAccumList:An,NewmNodeAccum:Sn.NodeAccum,NewmAnomaAccum:Sn.AnomaAccum,NewmDecimal:qn,NewmWinsolsDifRaw:Sn.WinsolsDifRaw,SyzygyNodeAccum:wn.NodeAccum,SyzygyAnomaAccum:wn.AnomaAccum,SyzygyDecimal:Qn,SyzygyWinsolsDifRaw:wn.WinsolsDifRaw}},Zn={Zhangmengbin:{JiRange:48901,ZhangRange:619,ZhangLeap:228,Solar:365+11945/48901,SolarNumer:17860810,Lunar:29+503/948,LunarNumer:27995,Denom:948,Anoma:27+19033/34320,AnomaNumer:945673,AnomaDenom:34320,TermRangeA:170/11,TermRangeS:160/11,AcrTermList:[0,14.68005,29.437022,44.270918,59.104814,73.861787,88.541836,104.298809,119.978859,135.581986,151.185112,166.865162,182.622135,198.379107,214.059157,229.662284,245.26541,260.94546,276.702433,291.382482,306.139455,320.973351,335.807247,350.564219,365.244269],OriginAd:-875996,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,OriginCorr:-.379,MansionRaw:[8,13],MansionFractPosition:8},Liuxiaosun:{YuanRange:160940,JiRange:8047,ZhangRange:619,ZhangLeap:228,Solar:365+1966/8047,SolarNumer:2939121,Sidereal:365+6407/24141,SiderealNumer:8817872,Lunar:29+17603/33176,LunarNumer:979707,Denom:33176,Ecli:2013/341,Anoma:27+19033/34320,AnomaNumer:945673,AnomaDenom:34320,TermRangeA:170/11,TermRangeS:160/11,AcrTermList:[0,14.680052,29.437026,44.270924,59.104822,73.861796,88.541848,104.298823,119.978874,135.582003,151.185131,166.865183,182.622157,198.379132,214.059184,229.662312,245.265441,260.945492,276.702467,291.382518,306.139493,320.973391,335.807288,350.564263,365.244315],OriginAd:-434516,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,1],MansionFractPosition:11},Huangji:{ClockCorr:7/24,ZhangRange:676,ZhangLeap:249,DayDivi:52,Solar:365+11406.5/46644,SolarNumer:17036466.5,SolarDenom:46644,SolarDenomDivi:897,Lunar:29+659/1242,LunarNumer:36677,Denom:1242,Anoma:27+1255/2263,AnomaFract:1255,AnomaNumer:62356,AnomaDenom:2263,Node:27.21222217600375,SunLimit1:20,SunLimit2:1460,TermRangeA:170/11,TermRangeS:160/11,OriginAd:-1008236,OriginYearSc:1,OriginMonNum:0,WeekCorr:2,MansionCorr:-12,ZhengNum:2,MansionRaw:[11,1],MansionFractPosition:10,SunAcrAvgDifList:[668.7692307692307,573.2307692307693,477.6923076923077,477.6923076923077,573.2307692307693,668.7692307692307,-668.7692307692307,-573.2307692307693,-477.6923076923077,-477.6923076923077,-573.2307692307693,-668.7692307692307,-668.7692307692307,-573.2307692307693,-477.6923076923077,-477.6923076923077,-573.2307692307693,-668.7692307692307,668.7692307692307,573.2307692307693,477.6923076923077,477.6923076923077,573.2307692307693,668.7692307692307],SunTcorrList:[0,50,93,129,165,208,258,208,165,129,93,50,0,-50,-93,-129,-165,-208,-258,-208,-165,-129,-93,-50,0,50],AcrTermList:[0,14.680061,29.437045,44.270953,59.10486,73.861844,88.541905,104.298889,119.97895,135.582089,151.185227,166.865288,182.622272,198.379256,214.059317,229.662455,245.265593,260.945654,276.702639,291.3827,306.139684,320.973591,335.807498,350.564483,365.244544,379.92460477840666],MoonAcrV:[18247.846153846152,18080.653846153848,17889.576923076922,17626.846153846152,17340.23076923077,17029.73076923077,16719.23076923077,16432.615384615383,16098.23076923077,15763.846153846154,15477.23076923077,15262.26923076923,15095.076923076924,14951.76923076923,14999.538461538461,15166.73076923077,15381.692307692309,15644.423076923076,15907.153846153846,16217.653846153846,16552.03846153846,16838.653846153848,17173.03846153846,17483.53846153846,17770.153846153848,18009,18176.19230769231,18295.721893491125,18247.846153846152],MoonTcorrList:[0,123,234,331,408,464,496,505,492,454,391,307,207,94,-28,-148,-256,-347,-419,-471,-500,-505,-487,-446,-380,-293,-188,-70],NightList:[27.43,27.26,26.76,25.985,24.965,23.775,22.5,21.225,20.035,19.015,18.23,17.69,17.57,17.69,18.23,19.015,20.035,21.225,22.5,23.775,24.965,25.985,26.76,27.26,27.43,27.26],DialList:[13,12.43,11.2,9.8,8.17,6.67,5.37,4.25,3.26,2.53,1.99,1.69,1.5,1.69,1.99,2.53,3.26,4.25,5.37,6.67,8.17,9.8,11.2,12.43,13,12.43],SunLatiList:[115,113+1/12,110+8/12,106+2/12,101+1/12,95+1/12,89+1/12,83+2/12,77+10/12,73+2/12,69+8/12,67+2/12,67+1/12,67+10/12,70,73+7/12,78+7/12,84+4/12,90+7/12,96+10/12,102+4/12,107+4/12,110+11/12,113+10/12,115,113+1/12],MoonLatiDifList:[14,13,11.5,9.5,7,4,1.5,-2,-5,-8,-10.5,-12.5,-13.5,-14.2],MoonLatiAccumList:[0,14,27,38.5,48,55,59,60,58,53,45,34.5,22,8.5]},Linde:{Solar:365+328/1340,SolarNumer:489428,Lunar:29+711/1340,LunarNumer:39571,Denom:1340,Anoma:27.554539800995023,AnomaNumer:443077,Node:27.606110696517412,TermRangeA:176/12,TermRangeS:187/12,OriginAd:-269216,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:1,MansionCorr:-20,MansionRaw:[8,12],MansionFractPosition:8,MoonAcrV:[19700,19480,19240,18960,18660,18360,18040,17720,17400,17080,16780,16520,16300,16160,16200,16380,16640,16920,17220,17540,17860,18180,18500,18820,19100,19360,19580,19700],MoonTcorrList:[0,134,251,350,428,484,517,526,512,474,412,327,223,102,-29,-157,-272,-367,-441,-493,-521,-525,-505,-461,-393,-304,-196,-71],SunAcrAvgDifList:[722,618,514,514,618,722,-722,-618,-514,-514,-618,-722,-722,-618,-514,-514,-618,-722,722,618,514,514,618,722],SunTcorrList:[0,54,100,138,176,222,276,222,176,138,100,54,0,-54,-100,-138,-176,-222,-276,-222,-176,-138,-100,-54,0,54],AcrTermList:[0,14.679726,29.437065,44.272015,59.106965,73.864303,88.54403,104.301368,119.981095,135.583209,151.185323,166.86505,182.622388,198.379726,214.059453,229.661567,245.263682,260.943408,276.700746,291.380473,306.137811,320.972761,335.807711,350.56505,365.244776,379.924502119403],MoonLatiDifList:[14,13,11.5,9.5,7,4,.05,-2,-5,-8,-10.5,-12.5,-13.5,-14.25],MoonLatiAccumList:[0,14,27,38.5,48,55,59,60,58,53,45,34.5,22,8.5],NightList:[30,29.75,29.25,28.458333333333332,27.416666666666668,26.25,25,23.75,22.583333333333332,21.541666666666668,20.75,20.25,20,20.25,20.75,21.541666666666668,22.583333333333332,23.75,25,26.25,27.416666666666668,28.458333333333332,29.25,29.75,30,29.75],DialList:[12.75,12.28,11.15,9.62,8.07,6.54,5.33,4.24,3.3,2.49,1.98,1.64,1.49,1.64,1.98,2.49,3.3,4.24,5.33,6.54,8.07,9.62,11.15,12.28,12.75,12.28],SunLatiList:[115.3,114.1,111.7,107.9,102.9,97.3,91.3,85.3,79.7,74.7,70.9,68.5,67.3,68.5,70.9,74.7,79.7,85.3,91.3,97.3,102.9,107.9,111.7,114.1,115.3,114.1]},Shenlong:{Solar:365.2448,Sidereal:365.257171,Lunar:29.5306,Denom:1e4,Anoma:27.554559,Node:27.2122167,TermRangeA:176/12,TermRangeS:187/12,AcrTermList:[0,14.679727,29.437067,44.272018,59.106969,73.864308,88.544036,104.301375,119.981102,135.583218,151.185333,166.865061,182.6224,198.379739,214.059467,229.661582,245.263698,260.943425,276.700764,291.380492,306.137831,320.972782,335.807733,350.565073,365.2448],OriginAd:-413655,CloseOriginAd:705,OriginYearSc:42,OriginMonNum:0,ZhengNum:2},Dayan:{Solar:365+743/3040,SolarNumer:1110343,Sidereal:365+779.75/3040,SiderealNumer:1110379.75,Lunar:29+1613/3040,LunarNumer:89773,Denom:3040,Anoma:27.55460115131579,AnomaNumer:83765.9875,Node:27+645.1322/3040,SunLimit1:136,SunLimit2:3524,OriginAd:-96961016,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:-1,MansionCorr:-8,MansionRaw:[11,9],MansionFractPosition:11,SunAcrT:[0,173.3,175.3,177.1,178.8,180.3,181.8,183.5,184.9,186.5,188.1,189.9,191.9,191.9,189.9,188.1,186.5,184.9,183.5,181.8,180.3,178.8,177.1,175.3,173.3],SunAcrAvgDifList:[2353,1845,1390,976,588,214,-214,-588,-976,-1390,-1845,-2353,-2353,-1845,-1390,-976,-588,-214,214,588,976,1390,1845,2353,2353],SunTcorrList:[0,176,314,418,491,535,551,535,491,418,314,176,0,-176,-314,-418,-491,-535,-551,-535,-491,-418,-314,-176,0,176],AcrTermList:[0,14.444504,29.056113,43.817393,58.714857,73.739953,88.888076,104.176987,119.588925,135.128495,150.804249,166.629674,182.622204,198.614734,214.440159,230.115913,245.655482,261.067421,276.356332,291.504454,306.52955,321.427015,336.188295,350.799904,365.244408,379.688912,394.30052089473685],MoonAcrV:[36680,37200,37720,38240,38800,39360,4e4,40720,41480,42040,42600,43160,43680,44200,44480,43960,43440,42920,42360,41800,41120,40400,39680,39120,38560,38e3,37480,36960],MoonTcorrList:[0,-297,-556,-776,-956,-1095,-1192,-1234,-1170,-1064,-916,-727,-498,-231,66,355,605,816,987,1117,1204,1222,1149,1033,876,678,441,165],NightList:[27.479166666666668,27.302083333333332,26.791666666666668,25.989583333333332,24.979166666666668,23.75,22.5,21.25,20.020833333333332,19.010416666666668,18.208333333333332,17.697916666666668,17.520833333333332,17.697916666666668,18.208333333333332,19.010416666666668,20.020833333333332,21.25,22.5,23.75,24.979166666666668,25.989583333333332,26.791666666666668,27.302083333333332,27.479166666666668,27.302083333333332],SunLatiList:[115.2,114.35,111.9,108.05,103.2,97.3,91.3,85.3,79.4,74.55,70.7,68.25,67.4,68.25,70.7,74.55,79.4,85.3,91.3,97.3,103.2,108.05,111.9,114.35,115.2,114.35],MoonLatiDifList:[187,171,147,115,75,27,-27,-75,-115,-147,-171,-187],MoonLatiAccumList:[0,187,358,505,620,695,722,695,620,505,358,187,0,-187,-358]},Zhide:{Solar:365+743/3040,SolarNumer:1110343,Sidereal:365+779.75/3040,SiderealNumer:1110379.75,Lunar:29+1613/3040,LunarNumer:89773,Denom:3040,Anoma:27.55460115131579,AnomaNumer:83765.9875,Node:27+645.1322/3040,AcrTermList:[0,14.444504,29.056113,43.817393,58.714857,73.739953,88.888076,104.176987,119.588925,135.128495,150.804249,166.629674,182.622204,198.614734,214.440159,230.115913,245.655482,261.067421,276.356332,291.504454,306.52955,321.427015,336.188295,350.799904,365.244408],OriginAd:-96961016,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,TermCorr:2,WeekCorr:-1,MansionCorr:-8,MansionRaw:[11,9],MansionFractPosition:11},Wuji:{Solar:365+328/1340,SolarNumer:489428,Sidereal:365+342.7/1340,SiderealNumer:489442.7,Lunar:29+711/1340,LunarNumer:39571,Denom:1340,Anoma:27.55457845905607,AnomaNumer:1366156/37,Node:27+284.3767/1340,OriginAd:-269216,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:1,MansionCorr:-20,MansionRaw:[11,4],MansionFractPosition:11,MoonAcrV:[19720,19480,19240,18960,18660,18360,18040,17720,17400,17100,16820,16560,16340,16200,16160,16380,16640,16920,17220,17540,17860,18180,18480,18780,19080,19360,19580,19700,19720],MoonTcorrList:[0,135,252,351,429,485,518,525,511,473,411,326,223,105,-30,-158,-273,-368,-442,-494,-522,-525,-505,-463,-398,-309,-200,-75],SunAcrAvgDifList:[1037,813,613,430,259,94,-94,-259,-430,-613,-813,-1037,-1037,-813,-613,-430,-259,-94,94,259,430,613,813,1037,1037],SunTcorrList:[0,78,139,185,217,236,243,236,217,185,139,78,0,-78,-139,-185,-217,-236,-243,-236,-217,-185,-139,-78,0,78],AcrTermList:[0,14.444652,29.056468,43.817537,58.715174,73.740423,88.888806,104.177488,119.589303,135.128731,150.804726,166.629975,182.622388,198.614801,214.44005,230.116045,245.655473,261.067289,276.35597,291.504353,306.529602,321.427239,336.188308,350.800124,365.244776,379.689428,394.30124411940295],MoonLatiAccumList:[0,24,41,52,60,71,88,100,83,72,64,53,36,12]},Tsrengyuan:{Solar:365+268/1095,SolarNumer:399943,Sidereal:365+280.02/1095,SiderealNumer:399955.02,Lunar:29+581/1095,LunarNumer:32336,Denom:1095,Anoma:27.5543499543379,Node:27+232.3815/1095,OriginAd:-402116,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:-2,MansionCorr:-16,MansionRaw:[11,4],MansionFractPosition:11,MoonAcrV:[16110,15920,15720,15495,15250,15005,14740,14480,14220,13975,13730,13500,13350,13240,13205,13385,13600,13825,14070,14335,14595,14855,15100,15345,15590,15820,16e3,16100,16110],SunAcrAvgDifList:[848,664,501,351,212,77,-77,-212,-351,-501,-664,-848,-848,-664,-501,-351,-212,-77,77,212,351,501,664,848,848],SunTcorrList:[0,63,113,150,176,192,198,192,176,150,113,63,0,-63,-113,-150,-176,-192,-198,-192,-176,-150,-113,-63,0,63],AcrTermList:[0,14.444102,29.05624,43.817237,58.715221,73.740145,88.888356,104.177207,119.589346,135.128425,150.80449,166.629414,182.622374,198.615335,214.440259,230.116324,245.655403,261.067542,276.356393,291.504604,306.529528,321.427511,336.188508,350.800647,365.244749,379.688851,394.3009888584475],MoonTcorrList:[0,110,206,287,351,397,424,430,418,387,336,268,183,87,-25,-132,-226,-304,-365,-407,-430,-433,-417,-382,-329,-258,-170,-68],MoonLatiAccumList:[0,78,134,170,196,232,288,327,271,235,209,173,117,39]},Xuanming:{Solar:365+2055/8400,SolarNumer:3068055,Sidereal:365.2564281746032,Lunar:29+4457/8400,LunarNumer:248057,Denom:8400,Anoma:27+4658.19/8400,AnomaNumer:231458.19,Node:27.21222038095238,SunLimit1:2640,SunLimit2:6060,MoonLimit1:2147,MoonEcliDenom:506,OriginAd:-7069316,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:-1,MansionCorr:-8,MansionRaw:[11,9],MansionFractPosition:11,SunAcrAvgDifList:[6e3,5e3,4e3,3e3,1800,600,-600,-1800,-3e3,-4e3,-5e3,-6e3,-6e3,-5e3,-4e3,-3e3,-1800,-600,600,1800,3e3,4e3,5e3,6e3,6e3],SunTcorrList:[0,449,823,1122,1346,1481,1526,1481,1346,1122,823,449,0,-449,-823,-1122,-1346,-1481,-1526,-1481,-1346,-1122,-823,-449,0,449],AcrTermList:[0,14.504241,29.12753,43.869866,58.73125,73.735491,88.882589,104.172545,119.605357,135.181027,150.875744,166.689509,182.622321,198.555134,214.368899,230.063616,245.639286,261.072098,276.362054,291.509152,306.513393,321.374777,336.117113,350.740402,365.244643,379.748884,394.37217285714286],MoonAcrVA:[101200,102600,104200,106e3,107800,109600,111500,113400,115300,117200,119100,120900,122300,123400],MoonAcrVB:[123400,122e3,120300,118500,116700,114900,113100,111200,109300,107400,105600,103900,102400,101200],MoonTcorrListA:[0,-830,-1556,-2154,-2618,-2947,-3142,-3188,-3106,-2881,-2515,-2014,-1386,-646],MoonTcorrListB:[0,830,1556,2162,2633,2970,3172,3218,3136,2912,2546,2037,1394,646],NightList:[27.4,27.29,26.74,26.1,25.09,23.74,22.42,21.1,19.75,18.74,18.1,17.55,17.44,17.55,18.1,18.74,19.75,21.1,22.42,23.74,25.09,26.1,26.74,27.29,27.4,27.29],SunLatiList:[115.20238095238095,114.54761904761905,112.29761904761905,108.6547619047619,103.79761904761905,97.95238095238095,91.29761904761905,84.6547619047619,78.79761904761905,73.95238095238095,70.29761904761905,68.04761904761905,67.4047619047619,68.04761904761905,70.29761904761905,73.95238095238095,78.79761904761905,84.6547619047619,91.29761904761905,97.95238095238095,103.79761904761905,108.6547619047619,112.29761904761905,114.54761904761905,115.20238095238095,114.54761904761905]},Chongxuan:{Solar:365+3301/13500,SolarNumer:4930801,Sidereal:365.2563881481482,Lunar:29+7163/13500,LunarNumer:398663,Denom:13500,Anoma:27+7486.97/13500,AnomaNumer:371986.97,Node:27.2122198,OriginAd:-53946416,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:-2,MansionCorr:-16,MansionRaw:[11,4],MansionFractPosition:11,SunAcrAvgDifList:[7740,6069,4572,3250,1977,660,-660,-1977,-3250,-4572,-6069,-7740,-7740,-6069,-4572,-3250,-1977,-660,660,1977,3250,4572,6069,7740,7740],SunTcorrList:[0,782,1395,1857,2185,2385,2452,2385,2185,1857,1395,782,0,-782,-1395,-1857,-2185,-2385,-2452,-2385,-2185,-1857,-1395,-782,0,782],AcrTermList:[0,14.645188,29.414154,44.294009,59.27179,74.343867,89.5135,104.78091,120.145877,135.605139,151.162327,166.830404,182.622259,198.414114,214.082191,229.63938,245.098642,260.463608,275.731019,290.900651,305.972728,320.950509,335.830364,350.59933,365.244519,379.88970651851855],MoonAcrV:[162945,165105,167400,169830,172260,174825,177660,180765,184275,186705,189135,191700,193995,196155,197640,195345,192915,190485,188055,185625,182655,179280,176310,173745,171180,168750,166455,164160,162945],MoonTcorrList:[0,-1319,-2469,-3447,-4246,-4863,-5294,-5480,-5195,-4724,-4074,-3234,-2217,-1032,293,1577,2687,3628,4385,4963,5349,5429,5105,4589,3892,3013,1960,737]},Qintian:{Solar:365.2445,SolarNumer:2629760.4,Sidereal:365+1844.8/7200,SiderealNumer:2629844.8,Lunar:29+3720.28/7200,LunarNumer:212620.28,Denom:7200,Anoma:27+3993.09/7200,AnomaNumer:198393.09,Node:27+1527.9756/7200,AcrTermList:[0,14.504235,29.127518,43.869848,58.731226,73.735461,88.882554,104.172503,119.60531,135.180973,150.875685,166.689443,182.62225,198.555057,214.368815,230.063527,245.63919,261.071997,276.361946,291.509039,306.513274,321.374652,336.116982,350.740265,365.2445],OriginAd:-72697496,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,WeekCorr:2,MansionCorr:-12,MansionRaw:[11,8],MansionFractPosition:11},Jiuzhi:{Solar:365.25875,SunAvgVDeg:887/900,MoonAvgVDeg:12+887/900,Sidereal:365.25875,Lunar:29+373/703,Anoma:27.5545415,MoonAcrVDeg:[0,-77,-71,-61,-47,-30,-10,10,30,47,61,71,77,77,71,61,47,30,10,-10,-30,-47,-61,-71,-77,-77],SunAcrAvgDifList:[35,32,27,22,13,5,-5,-13,-22,-27,-32,-35,-35,-32,-27,-22,-13,-5,5,13,22,27,32,35,35],OriginAd:657,CloseOriginAd:657,OriginYearSc:54,OriginMonNum:3,ZhengNum:3,OriginCorr:55,FirstCorr:32.5,AnomaCorr:15},Futian:{Solar:365.2445,Sidereal:365.2564,Lunar:29.5306,Anoma:27.55459,AcrTermList:[0,14.44651,29.033385,43.760626,58.628232,73.636205,88.784543,104.073246,119.502316,135.071751,150.781552,166.631718,182.62225,198.612782,214.462948,230.172749,245.742184,261.171254,276.459957,291.608295,306.616268,321.483874,336.211115,350.79799,365.2445],OriginAd:660,CloseOriginAd:660,OriginMonNum:2,ZhengNum:2,OriginCorr:39,FirstCorr:-9.4694,AnomaCorr:18},Yingtian:{Solar:365+2445/10002,SolarNumer:730635,Sidereal:365.2562676264747,SiderealNumer:730658.64,Lunar:29+5307/10002,LunarNumer:59073,Denom:10002,Anoma:27+5546.621/10002,AnomaNumer:55120.1242,Node:27.2122275044991,OriginAd:-4824596,CloseOriginAd:962,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,4],MansionFractPosition:11,SunAcrAvgDifList:[7142,5951,4762,3571,2143,714,-714,-2143,-3571,-4762,-5951,-7142,-7142,-5951,-4762,-3571,-2143,-714,714,2143,3571,4762,5951,7142,7142],SunTcorrList:[0,-20,529,975,1335,1606,1771,1819,1780,1605,1350,995,541,5,-549,-985,-1346,-1611,-1780,-1831,-1786,-1621,-1357,-988,-550,-20,529],AcrTermList:[0,14.504515,29.128006,43.870521,58.73205,73.736303,88.883475,104.1732,119.6061,135.181515,150.8763,166.689721,182.62235,198.554903,214.368318,230.062909,245.6386,261.071025,276.361206,291.508321,306.512612,321.374103,336.116418,350.740109,365.2445,379.74896610977805],MoonAcrVA:[1210,1227,1245,1262,1281,1301,1321,1345,1369,1390,1415,1435,1456,1470],MoonAcrVB:[1470,1453,1432,1406,1380,1358,1337,1325,1294,1274,1256,1240,1225,1210],MoonTcorrListA:[0,-988,-1852,-2574,-3135,-3526,-3776,-3831,-3732,-3465,-3300,-2424,-1659,-769],MoonTcorrListB:[0,988,1852,2564,3116,3508,3740,3795,3697,3429,2993,2397,1649,769],NightList:[27.474505098980206,27.344531093781246,26.874625074985005,26.114777044591083,25.0749850029994,23.875224955009,22.495500899820037,21.115776844631075,19.916016796640672,18.87622475504899,18.11637672465507,17.646470705858828,17.516496700659868,17.646470705858828,18.11637672465507,18.87622475504899,19.916016796640672,21.115776844631075,22.495500899820037,23.875224955009,25.0749850029994,26.114777044591083,26.874625074985005,27.344531093781246,27.474505098980206,27.344531093781246],DialList:[12.71,12.31,11.21,9.71,8.21,6.74,5.43,4.31,3.31,2.53,1.96,1.6,1.48,1.6,1.92,2.53,3.31,4.31,5.43,6.74,8.21,9.71,11.21,12.31,12.71,12.31],SunLatiList:[115.2,114.58,112.32,108.67,103.81,97.93,91.31,84.67,78.79,73.92,70.27,68.02,67.39,68.02,70.27,73.92,78.79,84.67,91.31,97.93,103.81,108.67,112.32,114.58,115.2,114.58]},Qianyuan:{Solar:365+72/294,SolarNumer:214764,Sidereal:365.2563793707483,SiderealNumer:214077.75107,Lunar:29+1560/2940,Denom:2940,Anoma:27+1630.602/2940,AnomaNumer:16200.1204,Node:27+623.9455/2940,OriginAd:-30542996,CloseOriginAd:981,OriginYearSc:1,OriginMonNum:0,WeekCorr:-2,MansionCorr:-16,ZhengNum:2,MansionRaw:[11,4],MansionFractPosition:11,SunAcrAvgDifList:[2276,1784,1344,956,581,194,-194,-581,-956,-1344,-1784,-2276,-2276,-1784,-1344,-956,-581,-194,194,581,956,1344,1784,2276,2276],SunTcorrList:[0,170,303,404,475,518,532,518,475,404,303,170,0,-170,-303,-404,-475,-518,-532,-518,-475,-404,-303,-170,0,170],AcrTermList:[0,14.444388,29.056122,43.817517,58.710884,73.731803,88.884354,104.168878,119.585034,135.128741,150.804422,166.629762,182.622449,198.615136,214.440476,230.116156,245.659864,261.07602,276.360544,291.513095,306.534014,321.427381,336.188776,350.80051,365.244898,379.6892859591837],MoonAcrV:[355,361,364,369,375,381,387,394,401,407,413,417,423,427,430,425,420,415,410,404,397,390,384,378,372,367,363,358,355],MoonTcorrList:[0,-287,-537,-750,-923,-1057,-1150,-1190,-1128,-1026,-885,-702,-481,-225,63,343,585,790,955,1081,1165,1183,1112,1e3,850,657,428,161],NightList:[27.482993197278912,27.244897959183675,26.7687074829932,25.918367346938776,24.89795918367347,23.6734693877551,22.448979591836736,21.22448979591837,20,18.979591836734695,18.16326530612245,17.653061224489797,17.517006802721088,17.653061224489797,18.16326530612245,18.979591836734695,20,21.22448979591837,22.448979591836736,23.6734693877551,24.89795918367347,25.918367346938776,26.7687074829932,27.244897959183675,27.482993197278912,27.244897959183675],DialList:[12.71,12.31,11.21,9.73,8.21,6.73,5.43,4.31,3.3,2.5,1.93,1.6,1.47,1.6,1.95,2.53,3.3,4.31,5.43,6.73,8.21,9.73,11.21,12.31,12.71,12.31],SunLatiList:[115.2,114.58,112.32,108.67,103.81,97.93,91.31,84.67,78.79,73.92,70.27,68.02,67.39,68.02,70.27,73.92,78.79,84.67,91.31,97.93,103.81,108.67,112.32,114.58,115.2,114.58]},Yitian:{Solar:365+2470/10100,SolarNumer:368897,Sidereal:365+2588.99/10100,SiderealNumer:3689088.99,Lunar:29+5359/10100,LunarNumer:298259,Denom:10100,Anoma:27.55455608910891,AnomaNumer:278301.0165,Node:27.21220078217822,OriginAd:-715496,CloseOriginAd:1001,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,2],MansionFractPosition:11,AcrTermList:[0,14.457619,29.057721,43.800305,58.685373,73.712922,88.882772,104.185793,119.616907,135.176112,150.863409,166.678797,182.622277,198.565757,214.381146,230.068443,245.627648,261.058761,276.361783,291.531632,306.559182,321.444249,336.186834,350.786935,365.244554],MoonAcrVA:[1215,1230,1249,1271,1293,1315,1338,1362,1385,1407,1429,1451,1470,1485],MoonAcrVB:[1485,1470,1451,1429,1407,1385,1362,1338,1315,1293,1271,1249,1230,1215],MoonTcorrListA:[0,-1086,-2002,-2748,-3324,-3730,-3966,-4031,-3946,-3710,-3304,-2728,-1982,-1066],MoonTcorrListB:[0,1086,2002,2748,3324,3730,3966,4031,3946,3710,3304,2728,1982,1066]},Chongtian:{Solar:365+2590/10590,SolarNumer:3867940,Sidereal:365.2563758262512,SiderealNumer:3868065.02,Lunar:29+5619/10590,LunarNumer:312729,Denom:10590,Anoma:27.554585401322,AnomaNumer:291803.0594,Node:27.212221690273843,SunLimit1:4200,SunLimit2:7e3,OriginAd:-97555316,CloseOriginAd:1024,OriginYearSc:1,WeekCorr:-3,MansionCorr:4,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7347,6021,4696,3396,2070,757,-757,-2070,-3396,-4696,-6021,-7347,-7347,-6021,-4696,-3396,-2070,-757,757,2070,3396,4696,6021,7347,7347],SunTcorrList:[0,582,1059,1431,1700,1864,1924,1864,1700,1431,1059,582,0,-582,-1059,-1431,-1700,-1864,-1924,-1864,-1700,-1431,-1059,-582,0,582],AcrTermList:[0,14.483824,29.100248,43.849171,58.728095,73.739619,88.882443,104.176666,119.60219,135.160314,150.848438,166.669061,182.622285,198.575509,214.396133,230.084256,245.64238,261.067904,276.362128,291.504952,306.516475,321.395399,336.144323,350.760747,365.24457],MoonAcrV:[1205,1217,1236,1258,1280,1303,1327,1352,1376,1399,1422,1442,1460,1468,1466,1452,1433,1412,1389,1365,1341,1317,1293,1269,1246,1228,1211,1207,1205],MoonTcorrList:[0,-1043,-1989,-2791,-3421,-3871,-4134,-4207,-4090,-3783,-3290,-2618,-1782,-811,233,1256,2170,2934,3525,3934,4154,4186,4027,3678,3147,2437,1570,578]},Mingtian:{Solar:365+9500/39e3,SolarNumer:14244500,Sidereal:365.25648189102566,SiderealNumer:2279200447,Lunar:29+20693/39e3,LunarNumer:1151693,Denom:39e3,MoonAvgVDegRel:12.36875,Anoma:27.55462077064159,AnomaNumer:29882242251,Node:27.212221634615386,AcrTermList:[0,14.538412,29.188844,43.951296,58.825769,73.812263,88.910777,104.249229,119.699701,135.262194,150.936707,166.723241,182.621795,198.520349,214.306883,229.981396,245.543889,260.994361,276.332813,291.431327,306.41782,321.292293,336.054746,350.705178,365.24359],OriginAd:-710696,CloseOriginAd:1063,OriginYearSc:1,WeekCorr:3,MansionCorr:-4,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,6],MansionFractPosition:11},Fengyuan:{Solar:365+5773/23700,SolarNumer:8656273,Sidereal:365.2564742911392,Lunar:29+12575/23700,Denom:23700,Anoma:27.554617430379746,Node:27.212216818565402,AcrTermList:[0,14.467246,29.075112,43.823599,58.712706,73.742434,88.912435,104.214178,119.642515,135.197445,150.878968,166.687084,182.621793,198.556503,214.364619,230.046142,245.601071,261.029408,276.331151,291.501152,306.53088,321.419988,336.168475,350.776341,365.243586],OriginAd:-83183996,CloseOriginAd:1074,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,4],MansionFractPosition:11},Guantian:{Solar:365+293/1203,SolarNumer:4393880,Sidereal:365.2564064837905,SiderealNumer:4394334.57,Lunar:29+6383/12030,LunarNumer:355253,Denom:12030,Anoma:27.554616699916874,AnomaNumer:331482.0389,Node:27.21213586034913,OriginAd:-5943716,CloseOriginAd:1092,WeekCorr:-1,MansionCorr:-8,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,4],MansionFractPosition:11,AcrTermList:[0,14.467244,29.075109,43.823595,58.712701,73.742428,88.912428,104.21417,119.642506,135.197434,150.878956,166.687071,182.621779,198.556487,214.364602,230.046124,245.601052,261.029388,276.33113,291.501129,306.530856,321.419963,336.168448,350.776313,365.243558],MoonAcrV:[1206,1215,1233,1251,1275,1301,1327,1354,1378,1403,1427,1446,1459,1473,1466,1454,1437,1416,1394,1368,1341,1315,1290,1264,1243,1225,1213,1206,1206],MoonTcorrList:[0,-1179,-2277,-3213,-3987,-4545,-4869,-4959,-4805,-4436,-3842,-3032,-2053,-954,270,1431,2483,3383,4094,4606,4885,4922,4724,4301,3644,2798,1796,674]},Zhantian:{Solar:365+684/2808,SolarNumer:10256040,Sidereal:365.25643903846156,Lunar:29+14899/28080,Denom:28080,Anoma:27.554626566951566,Node:27.212227126068377,AcrTermList:[0,14.467246,29.075112,43.823599,58.712707,73.742435,88.912436,104.214179,119.642516,135.197446,150.878969,166.687085,182.621795,198.556504,214.364621,230.046144,245.601074,261.02941,276.331154,291.501155,306.530883,321.419991,336.168478,350.776344,365.24359],OriginAd:-25500656,CloseOriginAd:1103,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,4],MansionFractPosition:11},Jiyuan:{Solar:365+1776/7290,SolarNumer:2662626,Sidereal:365.25723079561044,Lunar:29+3868/7290,LunarNumer:215278,Denom:7290,Anoma:27+4043.099/7290,AnomaNumer:200873.099,Node:27+1547.088/7290,SunLimit1:3400,SunLimit2:4300,OriginAd:-28612360,CloseOriginAd:1100,OriginDaySc:15,OriginYearSc:17,MansionCorr:-21,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7060,5920,4717,3451,2122,730,-730,-2122,-3451,-4717,-5920,-7060,-7060,-5920,-4717,-3451,-2122,-730,730,2122,3451,4717,5920,7060,7060],SunTcorrList:[0,385,708,965,1153,1269,1309,1369,1153,965,708,385,0,-385,-708,-965,-1153,-1269,-1309,-1369,-1153,-965,-708,-385,0,385],AcrTermList:[0,14.512484,29.138968,43.885753,58.759137,73.765421,88.910905,104.20239,119.633074,135.196658,150.886842,166.697326,182.621811,198.546295,214.356779,230.046963,245.610548,261.041232,276.332716,291.4782,306.484484,321.357869,336.104653,350.731137,365.243621],MoonAcrV:[1468,1457,1442,1422,1399,1373,1347,1321,1295,1271,1247,1228,1214,1204,1208,1219,1236,1258,1281,1307,1333,1359,1384,1408,1431,1449,1463,1472,1468],MoonTcorrList:[0,714,1368,1941,2405,2743,2939,2994,2906,2677,2317,1827,1232,562,-164,-867,-1510,-2061,-2490,-2797,-2961,-2983,-2863,-2607,-2219,-1707,-1096,-409]},Tongyuan:{Solar:365+1688/6930,SolarNumer:2531138,Sidereal:365+1776.87/6930,SiderealNumer:2531226.87,Lunar:29+3677/6930,LunarNumer:204647,Denom:6930,Anoma:27.55458243867244,AnomaNumer:190953.2563,Node:27+1470.6457/6930,OriginAd:-94250456,CloseOriginAd:1135,OriginYearSc:1,WeekCorr:3,MansionCorr:-4,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7156,5980,4771,3493,2158,730,-730,-2158,-3493,-4771,-5980,-7156,-7156,-5980,-4771,-3493,-2158,-730,730,2158,3493,4771,5980,7156,7156],SunTcorrList:[0,371,681,928,1109,1221,1259,1221,1109,928,681,371,0,-371,-681,-928,-1109,-1221,-1259,-1221,-1109,-928,-681,-371,0,371],AcrTermList:[0,14.502882,29.123365,43.864747,58.73393,73.736612,88.882095,104.173577,119.60786,135.175642,150.871224,166.687707,182.621789,198.555872,214.372354,230.067937,245.635719,261.070002,276.361484,291.506966,306.509649,321.378831,336.120214,350.740696,365.243579],MoonAcrV:[1468,1456,1438,1417,1394,1370,1346,1322,1298,1275,1252,1232,1215,1206,1208,1222,1241,1262,1285,1309,1333,1357,1381,1404,1426,1447,1461,1472,1468],MoonTcorrList:[0,680,1298,1821,2232,2525,2697,2744,2668,2468,2147,1709,1164,531,151,-820,-1418,-1917,-2303,-2570,-2711,-2731,-2627,-2399,-2551,-1588,-1021,-377]},Qiandao:{Solar:365.2436,SolarNumer:10957308,Sidereal:365.257235,SiderealNumer:10957717.05,Lunar:29.530592,LunarNumer:885917.76,Denom:3e4,Anoma:27.554591316666667,AnomaNumer:826637.7395,Node:27.212220113333334,EcliLimitA:12.89,EcliLimitD:4.92,OriginAd:-91644656,CloseOriginAd:1167,OriginYearSc:1,WeekCorr:-1,MansionCorr:-8,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7267,5981,4680,3363,2029,680,-680,-2029,-3363,-4680,-5981,-7267,-7267,-5981,-4680,-3363,-2029,-680,680,2029,3363,4680,5981,7267,7267],SunTcorrList:[0,1630,2973,4023,4778,5233,5385,5233,4778,4023,2973,1630,0,-1630,-2973,-4023,-4778,-5233,-5385,-5233,-4778,-4023,-2973,-1630,0,1630],AcrTermList:[0,14.491783,29.112167,43.86265,58.744833,73.760417,88.9109,104.197383,119.618767,135.17355,150.860033,166.676617,182.6218,198.566983,214.383567,230.07005,245.624833,261.046217,276.3327,291.483183,306.498767,321.38095,336.131433,350.751817,365.2436],MoonAcrV:[1464,1453,1438,1416,1394,1373,1347,1323,1299,1275,1254,1240,1215,1198,1213,1222,1236,1257,1278,1303,1331,1361,1387,1412,1427,1446,1462,1470,1464],MoonTcorrList:[0,2850,5453,7719,9492,10771,11579,11803,11489,10636,9245,7382,5206,2468,-650,-3433,-6014,-8280,-10076,-11399,-12162,-12297,-11758,-10636,-8953,-6934,-4488,-1683]},Chunxi:{Solar:365+1374/5640,SolarNumer:2059974,Sidereal:365.2572257683215,SiderealNumer:309007613,Lunar:29+2992.56/5640,LunarNumer:166552.56,Denom:5640,Anoma:27+3127.974/5640,AnomaNumer:155407.974,Node:27+1196.9543/5640,OriginAd:-52420796,CloseOriginAd:1176,OriginYearSc:1,WeekCorr:2,MansionCorr:-12,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7060,5920,4717,3451,2122,730,-730,-2123,-3451,-4717,-5920,-7060,-7060,-5920,-4717,-3451,-2122,-730,730,2122,3451,4717,5920,7060,7060],SunTcorrList:[0,298,548,747,892,982,1013,982,892,747,548,298,0,-298,-548,-747,-892,-982,-1013,-982,-892,-747,-548,-298,0,298],AcrTermList:[0,14.512484,29.138968,43.885752,58.759136,73.76542,88.910904,104.202388,119.633172,135.196756,150.88694,166.697424,182.621909,198.546393,214.356877,230.047061,245.610645,261.041329,276.332813,291.478297,306.484581,321.357965,336.104749,350.731233,365.243617],MoonAcrV:[1468,1457,1442,1422,1399,1373,1347,1321,1295,1271,1247,1228,1214,1204,1208,1219,1236,1258,1281,1307,1333,1359,1384,1408,1431,1449,1463,1472],MoonTcorrList:[0,553,1059,1502,1860,2122,2274,2316,2249,2071,1793,1413,953,435,-127,-671,-1169,-1595,-1928,-2164,-2291,-2308,-2215,-2017,-1717,-1320,-848,-316]},Huiyuan:{Solar:365+9432/38700,SolarNumer:14134932,Sidereal:365+9957.13/38700,Lunar:29+20534/38700,LunarNumer:1142834,Denom:38700,Anoma:27.55456669250646,AnomaNumer:1066361.731,Node:27+8213.214/38700,OriginAd:-25493576,CloseOriginAd:1191,OriginYearSc:1,OriginMonNum:0,WeekCorr:2,MansionCorr:-12,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7108,5773,4456,3159,1881,623,-623,-1881,-3159,-4456,-5773,-7108,-7108,-5773,-4556,-3159,-1881,-623,623,1881,3159,4456,5773,7108,7108],SunTcorrList:[0,2057,3729,5019,5933,6477,6658,6477,5933,5019,3729,2057,0,-2057,-3729,-5019,-5933,-6477,-6658,-6477,-5933,-5019,-3729,-2057,0,2057],AcrTermList:[0,14.507688,29.148877,43.921765,58.824353,73.854742,89.01093,104.291719,119.698307,135.232695,150.896784,166.692572,182.62186,198.551149,214.346937,230.021026,245.555414,260.962002,276.242791,291.398979,306.429367,321.331956,336.104844,350.746033,365.243721],MoonAcrV:[1467,1454,1440,1422,1401,1376,1349,1319,1292,1268,1248,1230,1217,1206,1209,1222,1238,1257,1278,1303,1332,1362,1388,1410,1430,1447,1461,1469,1467],MoonTcorrList:[0,3763,7150,10131,12592,14445,15574,15921,15400,14097,12100,9523,6426,2953,-839,-4544,-7873,-10739,-13055,-14763,-15747,-15892,-15168,-13692,-11579,-8887,-5702,-2113]},Tongtian:{SolarRaw:365.2425,SolarNumer:4382910,Sidereal:365.2575,SiderealNumer:4383090,LunarRaw:29+6368/12e3,LunarNumer:354368,Denom:12e3,Anoma:27+6655/12e3,AnomaNumer:330655,Node:27.21225,NodeNumer:326547,OriginAd:-2636,CloseOriginAd:1194,OriginCorr:-237811/12e3,FirstCorr:-21704/12e3,AnomaCorr:-188800/12e3,NodeCorr:6.6915,OriginYearSc:1,OriginMonNum:0,WeekCorr:-2,MansionCorr:-16,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7e3,5840,4630,3370,2060,700,-700,-2060,-3370,-4630,-5840,-5840,-7e3,-5840,-4630,-3370,-2060,-700,700,2060,3370,4630,5840,5840,7e3],SunTcorrList:[0,628,1152,1568,1870,2055,2118,2055,1870,1568,1152,628,0,-628,-1152,-1568,-1870,-2055,-2118,-2055,-1870,-1568,-1152,-628,0,628],AcrTermList:[0,14.518458,29.152917,43.908375,58.789833,73.802292,88.95075,104.239208,119.663667,135.219125,150.900583,166.703042,182.5055,198.423958,214.226417,229.907875,245.463333,260.887792,276.17625,291.324708,306.337167,321.218625,335.974083,350.608542,365.243],MoonAcrV:[1470,1458,1442,1423,1401,1376,1348,1319,1292,1268,1247,1229,1214,1202,1207,1219,1235,1255,1278,1304,1332,1361,1388,1412,1433,1450,1463,1471,1470],MoonTcorrList:[0,1194,2280,3222,3994,4568,4918,5017,4855,4451,3832,3024,2055,951,-260,-1427,-2486,-3401,-4137,-4667,-4963,-5008,-4793,-4335,-3662,-2800,-1786,-655]},Kaixi:{Solar:365+4108/16900,SolarNumer:6172608,Sidereal:365.2579295857988,SiderealNumer:6172859.01,Lunar:29+8967/16900,LunarNumer:499067,Denom:16900,Anoma:27.554588142011834,AnomaNumer:465672.5396,Node:27.212217899408284,NodeNumer:459886.4825,OriginAd:-7846976,CloseOriginAd:1207,OriginYearSc:1,OriginMonNum:0,WeekCorr:-2,MansionCorr:-16,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7445,5951,4524,3164,1871,645,-645,-1871,-3164,-4524,-5951,-5951,-7445,-5951,-4524,-3164,-1871,-645,645,1871,3164,4524,5951,5951,7445],SunTcorrList:[0,941,1693,2265,2665,2901,2983,2901,2665,2265,1693,941,0,-941,-1693,-2265,-2665,-2901,-2983,-2901,-2665,-2265,-1693,-941,0,941],AcrTermList:[0,14.473962,29.097323,43.863385,58.765446,73.796808,88.950769,104.233731,119.639292,135.174154,150.845015,166.658577,182.472138,198.4351,214.248662,229.919523,245.454385,260.859946,276.142908,291.296869,306.328231,321.230292,335.996354,350.619715,365.243077],MoonAcrV:[1466,1456,1440,1421,1399,1375,1349,1321,1295,1271,1249,1230,1214,1202,1209,1221,1237,1257,1280,1306,1333,1361,1387,1411,1431,1447,1459,1467,1466],MoonTcorrList:[0,1631,3135,4437,5499,6283,6763,6914,6712,6181,5347,4235,2882,1327,-379,-1997,-3463,-4727,-5738,-6459,-6851,-6902,-6599,-5967,-5031,-3843,-2452,-910]},Chunyou:{Solar:365+858/3530,Sidereal:365.25778101983,Lunar:29+1873/3530,Denom:3530,Anoma:27.55459583569405,Node:27+749.1857/3530,AcrTermList:[0,14.496961,29.126922,43.888582,58.780643,73.801804,88.950765,104.238726,119.654486,135.199347,150.874608,166.681569,182.62153,198.561491,214.368451,230.043712,245.588573,261.004334,276.292295,291.441255,306.462416,321.354477,336.116138,350.746099,365.243059],OriginAd:-32628838,CloseOriginAd:1250,WeekCorr:0,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11},Huitian:{Solar:365+2364/9740,SolarNumer:3557464,Sidereal:365.2574539527721,Lunar:29+5168/9740,LunarNumer:287628,Denom:9740,Node:27.21224138603696,Anoma:27.55458320328542,AcrTermList:[0,14.496946,29.126893,43.888539,58.780585,73.801731,88.950678,104.238624,119.65437,135.199216,150.874463,166.681409,182.621355,198.561302,214.368248,230.043494,245.58834,261.004087,276.292033,291.440979,306.462125,321.354172,336.115818,350.745764,365.24271],OriginAd:-75637730,CloseOriginAd:1253,WeekCorr:0,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11},Chengtian:{Solar:365+1801/7420,SolarNumer:2710101,Sidereal:365+1910.61/7420,SiderealNumer:2710210.61,Lunar:29+3937/7420,LunarNumer:219117,Denom:7420,Anoma:27.55460432614555,AnomaNumer:204455.1641,Node:27+1574.7051/7420,NodeNumer:201914.7051,OriginAd:-71756876,CloseOriginAd:1271,OriginYearSc:1,OriginMonNum:0,WeekCorr:-2,MansionCorr:-16,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7215,5885,4568,3264,1973,695,-695,-1973,-3264,-4568,-5885,-7215,-7215,-5885,-4568,-3264,-1973,-695,695,1973,3264,4568,5885,7215,7215],SunTcorrList:[0,400,727,981,1162,1271,1310,1271,1162,981,727,400,0,-400,-727,-981,-1162,-1271,-1310,-1271,-1162,-981,-727,-400,0,400],AcrTermList:[0,14.496947,29.126894,43.88854,58.780587,73.801734,88.950681,104.238627,119.654374,135.199221,150.874468,166.681414,182.621361,198.561308,214.368255,230.043501,245.588348,261.004095,276.292042,291.440989,306.462135,321.354182,336.115829,350.745776,365.242722],MoonAcrV:[1465,1453,1438,1420,1399,1375,1349,1320,1294,1271,1251,1233,1217,1203,1211,1223,1239,1259,1281,1305,1332,1361,1388,1410,1429,1444,1457,1467,1465],MoonTcorrList:[0,710,1354,1915,2376,2720,2931,2998,2904,2665,2299,1822,1244,578,-166,-865,-1498,-2042,-2475,-2786,-2964,-2992,-2859,-2576,-2171,-1660,-1066,-400]},Bentian:{Solar:365+1714/7060,Sidereal:365.25744769121815,Lunar:29+3746/7060,Denom:7060,Anoma:27.55459209631728,Node:27+1498.0961/7060,AcrTermList:[0,14.496949,29.126898,43.888547,58.780596,73.801745,88.950694,104.238643,119.654392,135.199241,150.87449,166.681439,182.621388,198.561337,214.368286,230.043535,245.588384,261.004133,276.292082,291.441031,306.46218,321.354229,336.115878,350.745827,365.242776],OriginAd:-73145880,CloseOriginAd:1277,OriginYearSc:1,OriginMonNum:0,WeekCorr:-2,MansionCorr:-16,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11},Yangji:{Solar:365+1274/5230,Sidereal:365.2572284703633,Lunar:29+2775/5230,Denom:5230,Anoma:27+2900.6231/5230,Node:27.21226929254302,AcrTermList:[0,14.512483,29.138966,43.885749,58.759132,73.765416,88.910899,104.202382,119.633065,135.196648,150.886831,166.697314,182.621797,198.54628,214.356764,230.046947,245.61053,261.041213,276.332696,291.478179,306.484462,321.357845,336.104628,350.731112,365.243595,379.7560776462715],SunDifAccumList:[0,.7059,1.2979,1.7697,2.115,2.3276,2.4015,2.3276,2.115,1.7697,1.2979,.7059,0,-.7059,-1.2979,-1.7697,-2.115,-2.3276,-2.4015,-2.3276,-2.115,-1.7697,-1.2979,-.7059,0,.7059],OriginAd:-43001184,CloseOriginAd:1127,WeekCorr:0,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11},NewDaming:{Solar:365+1274/5230,SolarNumer:1910224,Sidereal:365.2567978967495,SiderealNumer:1910293.053,Lunar:29+2775/5230,LunarNumer:154445,Denom:5230,Anoma:27.55460929254302,AnomaNumer:144110.6066,Node:27.21222500956023,NodeNumer:142319.9368,EcliLimitA:12.97,EcliLimitD:4.32,OriginAd:-88638476,CloseOriginAd:1180,OriginYearSc:1,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11,SunAcrAvgDifList:[7059,5920,4718,3453,2126,739,-739,-2126,-3453,-4718,-5920,-7059,-7059,-5920,-4718,-3453,-2126,-739,739,2126,3453,4718,5920,7059,7059],SunDifAccumList:[0,.7059,1.2979,1.7697,2.115,2.3276,2.4015,2.3276,2.115,1.7697,1.2979,.7059,0,-.7059,-1.2979,-1.7697,-2.115,-2.3276,-2.4015,-2.3276,-2.115,-1.7697,-1.2979,-.7059,0,.7059],SunTcorrList:[0,276,508,693,828,911,940,911,828,693,508,276,0,-276,-508,-693,-828,-911,-940,-911,-828,-693,-508,-276,0,276],AcrTermList:[0,14.512583,29.139066,43.885749,58.758932,73.764816,88.909399,104.201782,119.632865,135.196648,150.886931,166.697414,182.621797,198.54618,214.356664,230.046947,245.61073,261.041813,276.334196,291.478779,306.484662,321.357845,336.104528,350.731012,365.243595,379.7561776462715],MoonAcrV:[1468,1457,1442,1422,1399,1373,1347,1321,1295,1271,1247,1228,1214,1204,1208,1219,1236,1258,1281,1307,1333,1359,1384,1408,1431,1449,1463,1472,1468],MoonTcorrList:[0,513,982,1393,1725,1968,2109,2148,2085,1921,1663,1311,884,403,-117,-622,-1084,-1479,-1788,-2007,-2124,-2140,-2054,-1870,-1592,-1224,-786,-293],NightList:[29.979349904397708,29.780497131931167,29.231166347992353,28.39827915869981,27.34302103250478,26.12122370936903,24.798470363288722,23.561567877629063,22.431739961759085,21.459655831739962,20.69751434034417,20.19923518164436,20.020458891013384,20.19923518164436,20.69751434034417,21.459655831739962,22.431739961759085,23.561567877629063,24.798470363288722,26.12122370936903,27.34302103250478,28.39827915869981,29.231166347992353,29.780497131931167,29.979349904397708,29.780497131931167]},Yiwei:{Solar:365+5040/20690,Sidereal:365.256797897535,Lunar:29+10978/20690,Denom:20690,Anoma:27.554608424359593,AcrTermList:[0,14.512583,29.139066,43.885749,58.758933,73.764816,88.909399,104.201782,119.632865,135.196648,150.886932,166.697415,182.621798,198.546181,214.356664,230.046947,245.610731,261.041814,276.334197,291.47878,306.484663,321.357846,336.10453,350.731013,365.243596],SunDifAccumList:[0,.7059,1.2979,1.7697,2.115,2.3276,2.4015,2.3276,2.115,1.7697,1.2979,.7059,0,-.7059,-1.2979,-1.7697,-2.115,-2.3276,-2.4015,-2.3276,-2.115,-1.7697,-1.2979,-.7059,0,.7059],OriginAd:-40451840,CloseOriginAd:1180,WeekCorr:0,OriginMonNum:0,ZhengNum:2,MansionRaw:[11,7],MansionFractPosition:11},Gengwu:{Solar:365+1274/5230,SolarNumer:1910224,Sidereal:365+1342.98/5230,Lunar:29+2775/5230,LunarNumer:154445,Denom:5230,Anoma:27.55460842447419,Node:27.21222382791587,OriginAd:-20274050,SunTcorrList:[0,0],MoonTcorrList:[0],CloseOriginAd:1220,OriginYearSc:7,OriginDaySc:58,OriginMonNum:0,WeekCorr:2,MansionCorr:2,ZhengNum:2,MansionRaw:[11,6],MansionFractPosition:11,AcrTermList:[0,14.512583,29.139066,43.885749,58.758932,73.764816,88.909399,104.201782,119.632865,135.196648,150.886931,166.697414,182.621797,198.54618,214.356664,230.046947,245.61073,261.041813,276.334196,291.478779,306.484662,321.357845,336.104528,350.731012,365.243595,379.7561776462715],SunDifAccumList:[0,.7059,1.2979,1.7697,2.115,2.3276,2.4015,2.3276,2.115,1.7697,1.2979,.7059,0,-.7059,-1.2979,-1.7697,-2.115,-2.3276,-2.4015,-2.3276,-2.115,-1.7697,-1.2979,-.7059,0,.7059]},Shoushi:{OriginAd:1281,SolarRaw:365.2425,Sidereal:365.2575,Lunar:29.530593,Node:27.212224,NodeDeg:363.7934,NodeConst:26.0388,Anoma:27.5546,AnomaConst:13.0205,WinsolsConst:55.06,LeapConst:20.205,MoonAvgVDeg:13.36875,XianConst:.082,ExpanDing:513.32,ExpanPing:2.46,ExpanLi:.0031,ContracDing:487.06,ContracPing:2.21,ContracLi:.0027,FaslowDing:11.11,FaslowPing:.0281,FaslowLi:325e-6,AcrTermList:[0,14.495311,29.111126,43.853999,58.730488,73.747147,88.911421,104.221466,119.662429,135.228598,150.914265,166.713719,182.62125,198.528781,214.328235,230.013902,245.580071,261.021034,276.331079,291.495353,306.512012,321.388501,336.131374,350.747189,365.2425],ZhengNum:2,OriginMonNum:0,WeekCorr:2,MansionCorr:-12,MansionConst:315.1075,MansionRaw:[11,6],MansionFractPosition:11},Datong:{OriginAd:1384,Solar:365.2425,Sidereal:365.2575,Lunar:29.530593,Anoma:27.5546,Node:27.212224,NodeDeg:363.7934,WinsolsConst:55.0375,LeapConst:18.20708,AnomaConst:20.969,XianConst:.082,ExpanDing:513.32,ExpanPing:2.46,ExpanLi:.0031,ContracDing:487.06,ContracPing:2.21,ContracLi:.0027,FaslowDing:11.11,FaslowPing:.0281,FaslowLi:325e-6,AcrTermList:[0,14.495311,29.111126,43.853999,58.730488,73.747147,88.911421,104.221466,119.662429,135.228598,150.914265,166.713719,182.62125,198.528781,214.328235,230.013902,245.580071,261.021034,276.331079,291.495353,306.512012,321.388501,336.131374,350.747189,365.2425],ZhengNum:2,WeekCorr:2,MansionCorr:-12,OriginMonNum:0,MansionConst:313.5625,MansionRaw:[11,6],MansionFractPosition:11},West:{OriginAd:1281,SolarRaw:365.24218968,Solar:365.2425,Sidereal:365.25636042,LunarRaw:29.53058885,Anoma:27.554551,EcliLimitA:12.79,EcliLimitD:4.27,WinsolsConst:55.08125,LeapConst:20.2,AnomaConst:13.17,XianConst:.08200773809523809,ExpanDing:513.3822097763197,ExpanPing:2.455385856492031,ExpanLi:.003142755330375,ContracDing:487.10144936042093,ContracPing:2.2074819445045346,ContracLi:.0027262800048672,FaslowDing:11.11,FaslowPing:.0281,FaslowLi:325e-6,ZhengNum:2,WeekCorr:2,OriginMonNum:0,MansionConst:315.1075,MansionRaw:[11,6],MansionFractPosition:11},Huihui:{Solar:365.2421997,SiderLunar:27.32158575,Lunar:29.53059299,Denom:5230,Anoma:27.55458039,Node:27.21221996,OriginAd:599,OriginYearSc:56,Saturn:378.0930028,Jupiter:398.884523,Mars:779.9356461,Venus:583.9197207,Mercury:115.8771744}};const Yn=n=>{let i=0,e=Pn,r=V;return["Yin","Zhou","Huangdi","Lu","LuA","LuB","LuC","LuD","LuE","LuF","LuG","XiaDong","XiaYu","ZhuanxuA","ZhuanxuB","ZhuanxuC","ZhuanxuD","ZhuanxuE","ZhuanxuF","Shiji","Taichu","Qianzaodu","Easthan"].includes(n)?(e=xn,i=1):["Qianxiang","Huangchu","Jingchu","Liuzhi","Wangshuozhi","Sanji"].includes(n)?i=2:["Xuanshi","Tsrengguang","Xinghe","Tianbao","Jiayin","Tianhe","Daxiang","Kaihuang"].includes(n)?i=3:["Yuanjia","Daming","Liangwu","Daye","Wuyin"].includes(n)?i=4:(r=Zn,["Jiuzhi"].includes(n)?i=5:["Zhangmengbin","Liuxiaosun","Huangji","Linde","Shenlong"].includes(n)?i=6:["Dayan","Zhide","Wuji","Tsrengyuan","Xuanming","Qintian"].includes(n)?i=7:["Futian","Chongxuan","Yingtian","Qianyuan","Yitian","Chongtian","Mingtian","Fengyuan","Guantian","Zhantian"].includes(n)?i=8:["Jiyuan","Tongyuan","Qiandao","Chunxi","Huiyuan","Tongtian","Kaixi","Chunyou","Huitian","Chengtian","Bentian"].includes(n)?i=9:["Yangji","NewDaming","Yiwei","Gengwu"].includes(n)?i=10:["Shoushi","Datong"].includes(n)?i=11:"West"===n&&(i=20)),{AutoNewm:e,AutoPara:r,Type:i}},Wn={LuA:[[-721,-607]],LuB:[[-606,-586]],LuC:[[-585,-566]],LuD:[[-565,-547]],LuE:[[-546,-529]],LuF:[[-528,-508]],LuG:[[-507,-466]],ZhuanxuA:[[-365,-306]],ZhuanxuB:[[-305,-246]],ZhuanxuC:[[-245,-206]],ZhuanxuD:[[-205,-183]],ZhuanxuE:[[-182,-162]],ZhuanxuF:[[-161,-104]],Shiji:[[-104,85]],Taichu:[[-104,85]],Easthan:[[85,263]],Qianxiang:[[223,280]],Jingchu:[[237,444]],Yuanjia:[[445,509]],Daming:[[510,589]],Sanji:[[384,417]],Xuanshi:[[412,439],[452,522]],Tsrengguang:[[523,558]],Xinghe:[[540,550]],Tianbao:[[551,577]],Liangwu:[[559,565]],Tianhe:[[566,578]],Daxiang:[[579,583]],Kaihuang:[[584,596]],Daye:[[597,618]],Wuyin:[[619,664]],Linde:[[665,728]],Dayan:[[729,757]],Zhide:[[758,762]],Wuji:[[762,783]],Tsrengyuan:[[784,806]],Xuanming:[[807,892],[994,1136]],Chongxuan:[[893,955]],Qintian:[[956,963]],Futian:[[961,993]],Yangji:[[1127,1279]],NewDaming:[[1180,1280]],Yingtian:[[964,982]],Qianyuan:[[983,1e3]],Yitian:[[1001,1023]],Chongtian:[[1024,1064],[1068,1074]],Mingtian:[[1065,1067]],Fengyuan:[[1075,1093]],Guantian:[[1094,1102]],Zhangtian:[[1103,1105]],Jiyuan:[[1106,1135],[1136,1166]],Tongyuan:[[1136,1167]],Qiandao:[[1168,1176]],Chunxi:[[1177,1190]],Huiyuan:[[1191,1198]],Tongtian:[[1199,1207],[1208,1250]],Kaixi:[[1208,1250]],Chunyou:[[1251,1252]],Huitian:[[1253,1270]],Chengtian:[[1271,1276]],Bentian:[[1277,1279]],Shoushi:[[1281,1367]],Datong:[[1368,1662]]},qn=(n,i)=>{const e={};for(const[r,a]of Object.entries(Wn))for(const o of a){const[a,t]=[Math.max(n,o[0]),Math.min(i,o[1])];e[r]||(e[r]=[]),a<t&&e[r].push([a,t])}return e};var Jn=(n,i,e)=>{const{Type:o,AutoNewm:t,AutoPara:s}=Yn(n),u=o>=4?1:0,{OriginAd:c,ZhangRange:g,ZhengNum:m,Denom:h,OriginMonNum:d,isTermLeap:f,WinsolsWinsolsDif:p,MansionRaw:N}=s[n];let{OriginDaySc:M}=s[n];M=M||0;const A=[],L=i=>{const[e,t,s]=A,L=m-d,S=(1-m+12)%12,D=e.isLeapPost,{isLeapAdvan:O,JiScOrder:T,OriginAccum:y,NewmOrderRaw:R,NewmAcrOrderRaw:v,NewmOrderMod:E,NewmEqua:b,TermAvgRaw:F,TermAcrRaw:C,EquaDegAccumList:x,TermAvgWinsolsDif:P,TermAcrWinsolsDif:Z,AccumPrint:Y}=t;let{LeapNumTerm:W,isLeapPrev:q,isLeapThis:J,NewmSyzygyStart:j,NewmSyzygyEnd:B,TermStart:k,TermEnd:$}=t;const V=+(y-Math.floor(y)).toFixed(5);let H=0,Q=0;1===o?(f&&""===s.TermSc[1]||!f&&""===s.TermSc[S]?(Q=1,$=1,W=12,1===S&&($=0)):(f&&""===t.TermSc[1]||!f&&""===t.TermSc[S])&&(H=1,W-=1),j+=H,B+=Q,k+=H,W-=j):t.isLeapPost?(B=0,$=0):D?(q=0,L<=0?(j=-1,B=0):(j=0,B=1),$=1,J=1,W=1):s.isLeapPrev&&s.isLeapAdvan?($=1,J=1,B=1,W=12):q&&O&&(j=1,B=1,$=0,J=0,q=1);const z=[],G=[],_=[],X=[],I=[];let U=[],K=[],nn=[],en=[];const rn=[],an=[];if(o>=2){for(let i=0;i<=13;i++)if(z[i]=(F[i]%60+60)%60,G[i]=Math.floor(z[i]),X[i]=l[(i+L+d+12)%12],_[i]=a[(G[i]+u+M)%60],I[i]=(z[i]-G[i]).toFixed(4).slice(2,6),C&&(nn=(C[i]%60+60)%60,en=Math.floor(nn),U[i]=a[(en+u+M)%60],K[i]=(nn-en).toFixed(4).slice(2,6)),N){const e=bn(C[i]||F[i],x,n,Z[i]||P[i],V);rn[i]=e.MansionResult,an[i]=e.MidstarResult}if(J){for(;W>=2&&F[W]>=R[W+1]&&F[W]<R[W+1]+2.5;)W-=1;for(;W<=11&&F[W+1]<R[W+2]&&F[W+1]>=R[W+2]-2.5;)W+=1;X[W+1]="无",C&&(U[W+1]="",K[W+1]=""),_[W+1]="",I[W+1]="",N&&(rn[W+1]="",an[W+1]="");for(let i=W+2;i<=13;i++)if(z[i]=(F[i-1]%60+60)%60,G[i]=Math.floor(z[i]),X[i]=l[(i+L+d+11)%12],_[i]=a[(G[i]+u+M)%60],I[i]=(z[i]-G[i]).toFixed(4).slice(2,6),C&&(nn=(C[i-1]%60+60)%60,en=Math.floor(nn),U[i]=a[(en+u+M)%60],K[i]=(nn-en).toFixed(4).slice(2,6)),N){const e=bn(C[i-1]||F[i-1],x,n,Z[i-1]||P[i-1],V);rn[i]=e.MansionResult,an[i]=e.MidstarResult}}}W-=j;const on=[],tn=[];if(1===o)if(f)if(W&&(t.isLeapAvgThis||Q))for(let n=1;n<=13;n++)n<=W?(on[n]=(n+L+12)%12,tn[n]=w[on[n]]):n===W+1?(on[n]="氣閏",tn[n]=on[n]):(on[n]=(n+L+11)%12,tn[n]=w[on[n]]),0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);else for(let n=1;n<=12;n++)on[n]=(n+L+12)%12,tn[n]=w[on[n]],0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);else if(!t.isLeapAvgFix&&!Q||H)for(let n=1;n<=12;n++)on[n]=(n+L+12)%12,tn[n]=w[on[n]],0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);else for(let n=1;n<=13;n++)n<=12?(on[n]=(n+L+12)%12,tn[n]=w[on[n]]):(on[n]="固閏",tn[n]=on[n]),0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);else if(J)for(let n=1;n<=13;n++)n<=W?(on[n]=(n+12)%12,tn[n]=w[on[n]]):n===W+1?(on[n]="閏"+W,tn[n]="閏"+w[W]):(on[n]=(n+11)%12,tn[n]=w[on[n]]),0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);else for(let n=1;n<=12;n++)on[n]=(n+12)%12,tn[n]=w[on[n]],0===on[n]&&(on[n]=12,tn[n]=w[on[n]]);let sn=0,un=0;1===o?(sn=(E[1+j]-t.BuScOrder+60)%60,un=parseFloat(((t.NewmAvgRaw[1+j]-R[1+j])*h).toPrecision(5))):2===o||3===o?(sn=Math.round((E[1+j]-T+60)%60),un=parseFloat(((t.NewmAcrMod[1+j]-E[1+j])*h).toPrecision(5)).toFixed(2)):4===o&&(sn=(E[1+j]+60)%60,un=parseFloat(((t.NewmAcrMod[1+j]-E[1+j])*h).toPrecision(5)).toFixed(2));const cn=tn.slice(1),ln=n=>n.slice(1+j,13+B),gn=n=>n.slice(1+k,13+$),mn=ln(t.NewmWinsolsDifRaw),hn=ln(t.NewmAvgSc),dn=ln(t.NewmAvgDecimal);let fn=[],pn=[],Nn=[],Mn=[];o>=2&&(fn=ln(t.NewmSc),o<=10&&(t.NewmDecimal1||[]).length?Mn=ln(t.NewmDecimal1):11===o&&(pn=ln(t.NewmDecimal3))),o>=5&&o<=10&&(Nn=ln(t.NewmDecimal2));const An=ln(b),Ln=ln(t.SyzygySc),Sn=ln(t.SyzygyDecimal);let wn=[],Dn=[],On=[],Tn=[],Rn=[],vn=[],En=[];1===o?(wn=gn(t.TermName),Dn=gn(t.TermSc),On=gn(t.TermDecimal),vn=gn(t.TermEqua),En=gn(t.TermMidstar),12===W&&Q&&!$&&(wn.push("无"),Dn.push(""),On.push(""),vn.push(""),En.push(""))):(o>=2&&o<=4?(wn=gn(X),Dn=gn(_),On=gn(I)):(wn=gn(X),Tn=gn(U),Rn=gn(K),Dn=gn(_),On=gn(I)),vn=gn(rn),En=gn(an));let Fn=[],Cn=[],xn=[],Pn=[];if(o>1){xn=ln(t.NewmNodeAccum),Pn=ln(t.NewmAnomaAccum);const i=ln(t.NewmDecimal),e=ln(t.SyzygyNodeAccum),r=ln(t.SyzygyAnomaAccum),a=ln(t.SyzygyWinsolsDifRaw);for(let o=0;o<cn.length;o++){let t=o+1;W>0&&(o===W||o>=W+1)&&(t=o);let s={},u={};if(xn[o]<1.35||xn[o]>12.25&&xn[o]<14.96||xn[o]>25.86){s=yn(xn[o],Pn[o],i[o],mn[o],1,n,t,W);const e=s.status;let r=0,a=0,u=0;s.StartDecimal&&(a=s.StartDecimal.toFixed(4).slice(2,6)),s.Decimal&&(u=s.Decimal.toFixed(4).slice(2,6)),e&&(r=s.Magni.toFixed(2),Fn[o]=`<span class='eclipse'>S${t}</span>`,Fn[o]+="分"+r+(a?"虧"+a:"")+(u?"甚"+u:""),1===e?fn[o]+="<span class='eclipse-symbol'>●</span>":2===e?fn[o]+="<span class='eclipse-symbol'>◐</span>":3===e&&(fn[o]+="<span class='eclipse-symbol'>◔</span>"))}if(e[o]<1.35||e[o]>12.25&&e[o]<14.96||e[o]>25.86){u=yn(e[o],r[o],Sn[o],a[o],0,n,t,W);const i=u.status;let s=0,c=0,l=0;u.StartDecimal&&(c=u.StartDecimal.toFixed(4).slice(2,6),l=u.Decimal.toFixed(4).slice(2,6)),i&&(s=u.Magni.toFixed(2),Cn[o]=`<span class='eclipse'>M${t}</span>`,Cn[o]+="分"+s+(c?"虧"+c+"甚"+l:""),1===i?Ln[o]+="<span class='eclipse-symbol'>●</span>":2===i?Ln[o]+="<span class='eclipse-symbol'>◐</span>":3===i&&(Ln[o]+="<span class='eclipse-symbol'>◔</span>"))}Sn[o]=Sn[o].toFixed(4).slice(2,6)}}const Zn=a[((i-3)%60+60)%60];let Yn=i;Yn=i>0?"公元 "+i+" 年 "+Zn:"公元前 "+(1-i)+" 年 "+Zn;let Wn=`<span class='cal-name'>${r[n]}</span> 上元${i-c} `;if(1===o){let i=0;i=f?t.LeapSurAvgThis:t.LeapSurAvgFix,Wn+="Taichu"===n?`${a[t.BuScOrder]}統${t.BuYear}${t.JupiterSc}`:`${"天地人"[t.JiOrder]}紀${a[t.BuScOrder]}蔀${t.BuYear}`,Wn+=`  大${sn}小${un}冬至${parseFloat(t.WinsolsAccumMod.toPrecision(6)).toFixed(4)}`,-45.65625===p?Wn+=`立春${parseFloat(((y%60+60)%60).toPrecision(6)).toFixed(4)}`:-60.875===p&&(Wn+=`雨水${parseFloat(((y%60+60)%60).toPrecision(6)).toFixed(4)}`),Wn+=`  閏餘${i.toFixed(4)}`,t.LeapNumOriginLeapSur&&(Wn+="閏"+(t.LeapNumOriginLeapSur-j))}else T&&(Wn+=`${a[T]}紀${t.JiYear}`),(sn||un)&&(Wn+=` 大餘${sn}小餘${un}`),o<=10&&(Wn+=2===d?"雨":"冬",Wn+=`${parseFloat(((y%60+60)%60).toPrecision(6)).toFixed(4)}`),Wn+=2===o?`  平${t.LeapSurAvgThis}定${t.LeapSurAcrThis.toFixed(2)}準${t.LeapLimit}`:3===o?`  平${Math.round(t.LeapSurAvgThis*g)}定${(t.LeapSurAcrThis*g).toFixed(2)}準${Math.round(t.LeapLimit*g)}`:o<=7?`  平${parseFloat(t.LeapSurAvgThis.toPrecision(8))}定${t.LeapSurAcrThis.toFixed(2)}準${t.LeapLimit}`:`  平${t.LeapSurAvgThis.toFixed(2)}定${t.LeapSurAcrThis.toFixed(2)}準${t.LeapLimit.toFixed(2)}`;Y&&(Wn+=" "+Y);let qn=[],Jn=[];return(Fn||[]).length&&(qn=Fn.join(""),Wn+="\n"+qn),(Cn||[]).length&&(Jn="<span class='eclipse-wrap'>"+Cn.join("")+"</span>",(Fn||[]).length>0?Wn+=Jn:Wn+="\n"+Jn),{YearInfo:Wn,MonthPrint:cn,NewmAvgScPrint:hn,NewmAvgDecimalPrint:dn,NewmScPrint:fn,NewmDecimal3Print:pn,NewmDecimal2Print:Nn,NewmDecimal1Print:Mn,NewmEquaPrint:An,SyzygyScPrint:Ln,SyzygyDecimalPrint:Sn,TermNamePrint:wn,TermScPrint:Dn,TermDecimalPrint:On,TermAcrScPrint:Tn,TermAcrDecimalPrint:Rn,TermEquaPrint:vn,TermMidstarPrint:En,Era:Yn,LeapNumTermThis:W,OriginAccum:y,NewmOrderRaw:R.slice(1+j),NewmAcrOrderRaw:1===o?[]:v.slice(1+j),NewmNodeAccumPrint:1===o?[]:xn.slice(j),NewmAnomaAccumPrint:1===o?[]:Pn.slice(j)}};A[0]=t(n,i-1),A[1]=t(n,i);const S=[];void 0===e&&(e=i);for(let r=i;r<=e;r++)A[2]=t(n,r+1),S.push(L(r)),A[0]=A[1],A[1]=A[2];return S};const jn=(n,i,e)=>{const r=Math.round(((7-3*n-i+1)%9+9)%9.1),o=Math.round(((3-3*n-i+1)%9+9)%9.1),t=Math.round(((5-3*n-i+1)%9+9)%9.1),s=Math.round(((6-3*n-i+1)%9+9)%9.1),u=Math.round(((8-3*n-i+1)%9+9)%9.1),c=Math.round(((1-3*n-i+1)%9+9)%9.1),l=Math.round(((2-3*n-i+1)%9+9)%9.1),g=Math.round(((4-3*n-i+1)%9+9)%9.1),m=Math.round(((9-3*n-i+1)%9+9)%9.1),h=`<span class='${O[r]}'>`+D[r]+S[r]+"</span>",d=`<span class='${O[o]}'>`+D[o]+S[o]+"</span>",f=`<span class='${O[t]}'>`+D[t]+S[t]+"</span>",p=`<span class='${O[s]}'>`+D[s]+S[s]+"</span>",N=`<span class='${O[u]}'>`+D[u]+S[u]+"</span>",M=`<span class='${O[c]}'>`+D[c]+S[c]+"</span>",A=`<span class='${O[l]}'>`+D[l]+S[l]+"</span>",w=`<span class='${O[g]}'>`+D[g]+S[g]+"</span>",T=`<span class='${O[m]}'>`+D[m]+S[m]+"</span>";let v=[];return v.push([h,d,f]),v.push([p,N,M]),v.push([A,w,T]),{MonInfo:"<span class='eclipse'>月建</span>"+a[Math.round((e+i-1)%60.1)]+"<span class='eclipse'>宿音卦</span>"+" 翼角氐心箕女室婁昴觜鬼星"[i]+L[i]+" 泰壯夬乾姤遯否觀剝坤復臨"[i]+"<span class='eclipse'>吉時</span>"+y[(i-1)%3]+"\n<span class='eclipse'>月神</span>"+R[i],MonColor:v}},Bn=(n,i,e,r,a)=>{const o=Math.round((n%4+4)%4.1),t=3+Math.floor((n-.1)/4),s=Math.round((3*(o-1)+t)%12.1),u=Math.round((r%3+3)%3.1)*(7+Math.floor((r-.1)/3)),c=Math.ceil(n/3);let l=0,g=0;Math.round((n+2)%12.1)===e&&(g=1),1===c?4===e&&(l=1):2===c?1===e&&(l=1):3===c?10===e&&(l=1):4===c&&7===e&&(l=1);const m=Math.round(((n+1)%3+3)%3.1);let h=0;return i!==m&&e!==m||(h=1),(e===s?"往亡":"")+(a===u?"氣亡":"")+(l?"大時":"")+(g?"小時":"")+(h?"歸忌":"")+(i===1+3*(o-1)?"天李":"")+(e%6==0?"重日":"")},kn=(n,i)=>{const e=Math.round(n%6.1);let r=0,a=0;return n%3!=0||5!==i&&6!==i?e<3&&(i===e||i===e+6)?r=1:i!==e-1&&i!==e+5||(r=1):r=1,(e<=2&&i===n||6===e&&6===i||3===e&&5===i||i===n-1)&&(a=1),(r?"復一":"")+(a?"復二":"")},$n=(n,i)=>{let e=0,r=0;return 1===n?7===i?e=1:21===i&&(r=1):2===n?4===i?e=1:19===i&&(r=1):3===n?1===i?e=1:16===i&&(r=1):4===n?9===i?e=1:25===i&&(r=1):5===n?15===i?e=1:25===i&&(r=1):6===n?10===i?e=1:20===i&&(r=1):7===n?8===i?e=1:22===i&&(r=1):8===n?2===i||5===i?e=1:18!==i&&19!==i||(r=1):9===n?3===i||4===i?e=1:16!==i&&17!==i||(r=1):10===n?1===i?e=1:14===i&&(r=1):11===n?11===i?e=1:22===i&&(r=1):12===n&&(9===i?e=1:25===i&&(r=1)),(e?"長星":"")+(r?"短星":"")+(i===Math.round((13-Math.ceil((n+2)/2))%6.1)?"反支":"")},Vn=(n,i,e)=>{let r=0,a=0;return 1===n?2===i?r="血支血忌":7===i&&e<=10&&(a=1):2===n?3===i?r="血支":8===i?r="血忌":12===i&&e<=10&&(a=1):3===n?4===i?r="血支":3===i?r="血忌":9===i&&e<=10&&(a=1):4===n?5===i?r="血支":9===i?r="血忌":2===i&&e<=10&&(a=1):5===n?6===i?r="血支":4===i?r="血忌":11===i&&e<=10&&(a=1):6===n?7===i?r="血支":10===i?r="血忌":4===i&&e<=10&&(a=1):7===n?8===i?r="血支":5===i?r="血忌":1===i&&e<=10&&(a=1):8===n?9===i?r="血支":11===i?r="血忌":6===i&&e<=10&&(a=1):9===n?10===i?r="血支":6===i?r="血忌":3===i&&e<=10&&(a=1):10===n?11===i?r="血支":12===i?r="血忌":8===i&&e<=10&&(a=1):11===n?12===i?r="血支":7===i?r="血忌":5===i&&e<=10&&(a=1):12===n&&(1===i?r="血支血忌":10===i&&e<=10&&(a=1)),{Blood:r,Lin:a?"臨日":""}},Hn=n=>{let i="";return n%10==5||n%10==6?i="房內中":n>=30&&n<=34?i="房內北":n>=37&&n<=39?i="房內南":40===n?i="房內西":n>=41&&n<=44&&(i="房內東"),i},Qn=i=>{let e=0,r=0,o=0,t=0,s=0;(i=n(i)).lt(2299161)?(e=0,r=i.add(1524)):(e=i.sub(1867216.25).div(36524.25).floor(),r=i.add(e).sub(n.floor(e.div(4))).add(1525)),o=n.floor(r.sub(122.1).div(365.25)),o.lt(0)&&(o=o.add(1)),t=o.mul(365).add(n.floor(o.div(4))),s=n.floor(r.sub(t).div(30.6)),s.lt(0)&&(s=s.add(1));let u=s.sub(1).sub(n.floor(s.div(14)).mul(12)),c=o.sub(4715).sub(n.floor(u.add(7).div(10))).toNumber();c<=0&&(c=Math.abs(c),c="前 "+c);let l=r.sub(t).sub(n.floor(s.mul(30.6)));const g=i.sub(n.round(i)).add(.5).mul(24),m=n.floor(g),h=n.floor(g.sub(m).mul(60)),d=n.floor(g.sub(m).sub(h.div(60)).mul(3600)),f=n.floor(g.sub(m).sub(h.div(60)).mul(3600).sub(Math.floor(g.sub(m).sub(h.div(60)).mul(3600))).mul(1e3)),p=Math.round((Math.round(i)%60+110)%60.1);i=i.toNumber();const N=" 一二三四五六日"[Math.round((Math.round(i)%7+8)%7.1)],M=a[p]+"("+p+")";return u=u.toNumber(),l=l.round().toNumber(),0===l&&(u--,l=31),{Result:"公元 "+c+" 年 "+u+" 月 "+l+" 日 "+function(n,i,e,r){let a=n.toString(),o=i.toString(),t=e.toString(),s=r.toString();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),t.length<2&&(t="0"+t),s.length<2?s="00"+s:s.length<3&&(s="0"+s),a+":"+o+":"+t+":"+s}(m,h,d,f)+" ｜ 星期"+N+" ｜ "+M,Mmdd:u+"."+l}},zn=(n,e,r)=>{void 0===r&&(r=e);const l=(n,e)=>{const{Type:r,AutoPara:l}=Yn(n),{LunarRaw:L,Node:y,Anoma:R,SolarRaw:b,WeekCorr:F,MansionCorr:C}=l[n];let{Solar:x,Sidereal:P,Lunar:Z}=l[n];const{LeapNumTermThis:Y,OriginAccum:W,NewmAcrOrderRaw:q,NewmNodeAccumPrint:J,NewmAnomaAccumPrint:j}=Jn(n,e)[0];let{NewmOrderRaw:B}=Jn(n,e)[0];r>=6&&(B=q),x=x||b,P=P||x,Z=Z||L;const k=x/72,V=x/24;let H=x/60;const Q=en(n),z=B[0],G=+(z-W).toFixed(5),_=W-Math.floor(W);let X=[];X=r<7?m:h;let I=[],U=[];r<6?(I=d,U=f):(I=p,U=N);let K=[],nn=[],rn=[];for(let n=0;n<90;n++)rn[n]=k*n,rn[n]=parseFloat(rn[n].toPrecision(13));const an=x/5,on=x/4-an;for(let n=0;n<=10;n++){let i=an;n%2==1&&(i=on),K[n]=i}for(let n=1;n<=10;n++)K[n]+=K[n-1],K[n]=parseFloat(K[n].toPrecision(13));if(K=K.slice(-1).concat(K.slice(0,-1)),K[0]=0,["Qianxiang","Jingchu"].includes(n)){const n=7-H,i=H-n,e=(x-(28-4*n))/56;for(let r=0;r<=63;r++)nn[r]=0===r||16===r||33===r||48===r?n:15===r||31===r||47===r||63===r?i:e;for(let n=1;n<=63;n++)nn[n]+=nn[n-1],nn[n]=parseFloat(nn[n].toPrecision(13));nn=nn.slice(-1).concat(nn.slice(0,-1)),nn[0]=0;for(let n=64;n<=80;n++)nn[n]=nn[n-64]+x,nn[n]=parseFloat(nn[n].toPrecision(13))}else for(let n=0;n<75;n++)nn[n]=H*n,nn[n]=parseFloat(nn[n].toPrecision(13));const tn=((e-3)%60+60)%60,sn=a[tn],un=o.indexOf(sn[0]),gn=t.indexOf(sn[1]),mn=$(n,e),hn=$(n,e,1),dn=[],fn=[],pn=x/(x-360),Nn=Math.ceil(W/pn)*pn;for(let n=0;n<=6;n++)dn[n]=parseFloat((Nn+n*pn).toPrecision(14)),r<=6&&dn[n]===~~dn[n]&&(fn[n]=dn[n]),dn[n]=parseFloat((dn[n]-W).toPrecision(14)),fn[n]&&(fn[n]=parseFloat((fn[n]-W).toPrecision(14)));if(r>=7){const n=Z/(30-Z),i=Math.ceil(W/n)*n;for(let e=0;e<=7;e++)fn[e]=parseFloat((i+e*n-W).toPrecision(14))}let Mn="";Mn=e>0?e+" 年歲次"+sn+s[un]+u[gn]:"前 "+(1-e)+" 年歲次"+sn+s[un]+u[gn];const An=((e-604)%180+180)%180,Ln=~~(An/60),Sn=An-60*Ln,wn="上中下"[Ln]+"元"+i.encodeS(Sn+1)+"年",Dn=((n,i,e,r)=>{const a=Math.round(((7-r)%9+9)%9.1),s=Math.round(((5+r)%9+9)%9.1),u="男"+S[a]+"宮女"+S[s]+"宮";let l=4;2===i?l=11:3===i?l=6:4===i?l=1:5===i?l=5:6===i?l=9:7===i?l=7:8===i?l=2:9===i?l=3:10===i?l=10:11===i?l=8:12===i&&(l=12);const g=t[l],m=t[Math.round((i+2)%12.1)],h=t[Math.round((i+4)%12.1)],d=t[Math.round((i+5)%12.1)],f=t[Math.round((i+6)%12.1)],p=t[Math.round((i+8)%12.1)],N=t[Math.round((i+10)%12.1)],A=" 木火土金水"[Math.ceil(n/2)],L=Math.round((i+11)%12.1),w=2*Math.ceil(L/3),D=Math.round((L%3+3)%3.1)/3>.5?M[w-1]:M[w],O=Math.round(Math.ceil((i+1)/3)%4.1),y=t[Math.round((3*O+7)%12.1)],R=t[Math.round((3*O+6)%12.1)],v=t[Math.round((3*O+5)%12.1)];let E=1,b=5,F=7,C=8;2===O?(E=7,b=8,F=5,C=1):3===O?(E=5,b=1,F=8,C=7):4===O&&(E=8,b=7,F=1,C=5);const x=T[E],P=T[b],Z=T[F],Y=T[C],W=Math.round((i%4+4)%4.1);let q=3*W-1;q=W%2?q+3:q-3;const J=t[q],j=t[3*(5-W)-1];let B=6*Math.ceil(W/2)-3;B=W%2?B:B-2;const k=o[B];let $=6*Math.ceil(W/2);$=W%2?$:$-3;const V=t[$],H=3*Math.round((Math.round((6-W)%4.1)+2)%4.1)-1,Q=t[H-1],z=t[H];let G=1;2===W?G=10:3===W?G=7:4===W&&(G=4);const _=t[G],X=t[L],I=d,U=r%6+2,K=U+6;return"干"+A+"支"+D+"，納音"+c[Math.ceil(e/2)]+"。"+u+"。魁"+S[U]+"月罡"+S[K]+"月。\n太陰在"+N+"，歲德在"+d+"，歲刑在"+g+"，歲破在"+f+"；劫煞在"+V+"，災煞在"+Q+"，歲煞在"+z+"；將軍在"+y+"；白虎在"+p+"，黃幡在"+J+"，豹尾在"+j+"；奏書在"+x+"，博士在"+P+"，力士在"+Z+"，蠶室在"+Y+"；蠶官在"+v+"，蠶命在"+R+"；官符在"+h+"，大煞在"+_+"，喪門在"+m+"，病符在"+X+"，死符在"+I+"；伏兵在"+k})(un,gn,tn,An),On=(n=>{let i=[];if(n>0){const e=Math.round(((9-n)%9+9)%9.1),r=Math.round(((5-n)%9+9)%9.1),a=Math.round(((7-n)%9+9)%9.1),o=Math.round(((8-n)%9+9)%9.1),t=Math.round(((1-n)%9+9)%9.1),s=Math.round(((3-n)%9+9)%9.1),u=Math.round(((4-n)%9+9)%9.1),c=Math.round(((6-n)%9+9)%9.1),l=Math.round(((2-n)%9+9)%9.1),g=`<span class='${O[e]}'>`+D[e]+S[e]+"</span>",m=`<span class='${O[r]}'>`+D[r]+S[r]+"</span>",h=`<span class='${O[a]}'>`+D[a]+S[a]+"</span>",d=`<span class='${O[o]}'>`+D[o]+S[o]+"</span>",f=`<span class='${O[t]}'>`+D[t]+S[t]+"</span>",p=`<span class='${O[s]}'>`+D[s]+S[s]+"</span>",N=`<span class='${O[u]}'>`+D[u]+S[u]+"</span>",M=`<span class='${O[c]}'>`+D[c]+S[c]+"</span>",A=`<span class='${O[l]}'>`+D[l]+S[l]+"</span>";i.push([g,m,h]),i.push([d,f,p]),i.push([N,M,A])}return i})(An),Tn=Math.round((12*un-9)%60.1),yn=2086292+~~(365.2427*(e-1e3)),Fn=(W%60+60)%60-Math.round((Math.round(yn)%60+110)%60.1),xn=[],Pn=[],Zn=[],Wn=[],qn=[],zn=[],Gn=[],_n=[],Xn=[],In=[],Un=[],Kn=[],ni=[],ii=[],ei=[],ri=[],ai=[],oi=[],ti=[],si=[];let ui=0,ci=0,li=0,gi=0,mi=z-Math.floor(W),hi=mi,di=0,fi=0,pi=0,Ni=0,Mi=0,Ai=0,Li=0,Si=0;for(let i=1;i<=12+(Y>0?1:0);i++){let e=i;Y>0&&(i===Y+1||i>=Y+2)&&(e=i-1),xn[i]=w[e]+"月",Y>0&&i===Y+1&&(xn[i]="閏"+w[Y]+"月"),xn[i]+=B[i]-B[i-1]==29?"小":"大";const s=jn(An,e,Tn);Pn[i]=s.MonInfo,Zn[i]=s.MonColor,Wn[i]=[],qn[i]=[],zn[i]=[],Gn[i]=[],ni[i]=[],ii[i]=[],ei[i]=[],_n[i]=[],Xn[i]=[],In[i]=[],Un[i]=[],Kn[i]=[],ri[i]=[],ai[i]=[],oi[i]=[],ti[i]=[],si[i]=[];for(let s=1;s<=B[i]-B[i-1];s++){const u=G+ui,l=z-Math.floor(W)+ui,m=u+.5;ui++;let h=0,f=0,p=0,N=0,L=0,w=0,D=0;if(1===r)r<11?(h=u%P,f=h+W,p=Rn(h,n).Equa2Eclp,N=p+W):(p=u%P,N=p+W,h=Rn(p,n).Eclp2Equa,f=h+W),D=(W+u)*Q;else{let e=(J[i-1]+s-1)%y;const a=(j[i-1]+s-1)%R;e+=cn(a,u,n,e).NodeAccumCorr;const o=ln(a,u,n).SunDifAccum,t=ln(a,m,n).SunDifAccum;r<11?(h=u+o,f=h+W,p=Rn(h,n).Equa2Eclp,N=p+W,L=m+t):(p=u+o,N=p+W,h=Rn(p,n).Eclp2Equa,f=h+W,w=m+t),D=u*Q+W;const c=En(11===r?p:h,e,n);Kn[i][s]=Cn(e,u%x,n)+c.MoonEclpLati.toFixed(3)+"度"}const O=bn(f,mn,n,h,_);_n[i][s]=O.MansionResult,In[i][s]=O.MidstarResult,Xn[i][s]=bn(N,hn,n).MansionResult;const T=vn(11===r?w:L,_,n);ei[i][s]=T.Lati.toFixed(3)+"度",ni[i][s]=T.Sunrise.toFixed(3)+"刻",ii[i][s]=T.Dial?T.Dial.toFixed(3)+"尺":0;const b=bn(D,hn,n),Z=b.MansionOrder;let Y="";r>=2&&r<=7&&(5===Z||26===Z)&&(Y="<span class='MoonMansionNote'>忌刑</span>"),Un[i][s]=b.MansionResult+Y;const q=(z%60+60+ui)%60;Wn[i][s]=a[q],qn[i][s]=parseInt(yn+Fn+l+1),qn[i][s]+=" "+Qn(qn[i][s]).Mmdd;const k=o.indexOf(Wn[i][s][0]),$=t.indexOf(Wn[i][s][1]),H=Math.round((Math.ceil(~~(u/V)/2)+11)%12.1),en=~~((u-(2*H+1)*V+_+x)%x);if(r>=6){const n=Math.round(((B[i-1]+s-1)%7+5+(F||0))%7.1),e=Math.round(((B[i-1]+s-1)%28+23+(C||0)+28)%28.1);Gn[i][s]=" 月火水木金土日"[n]+S[n]+A[e]+" 蛟龍貉兔狐虎豹獬牛蝠鼠燕豬㺄狼狗雉雞烏猴猿犴羊獐馬鹿蛇蚓"[e]}for(let n=Ai;n<90;n++){if(rn[n]>=u&&rn[n]<u+1){Ai=n%72;const e=Ai%3?-1:Math.round(Ai/3)%24;ri[i][s]=e>=0?`<span class='term'>${g[e]}</span>`:"",r>=3?ri[i][s]+=X[Ai]+(rn[n]+W-Math.floor(rn[n]+W)).toFixed(4).slice(2,6):e>=0&&(ri[i][s]+=(rn[n]+W-Math.floor(rn[n]+W)).toFixed(4).slice(2,6)),n%6==3&&(ci=ui),36===n?li=ui:45===n&&(gi=ui);break}ri[i][s]=""}if(1===ui){const n=l+1-12*~~((l+1-(z-Math.floor(W)-V+ui))/12)-$;di=n+2,fi=n+12}mi++,hi++,ui===ci&&(mi--,hi--),ui===ci+1&&9!==Ai&&hi--;const an="建除滿平定執破危成收開閉"[((mi-di)%12+12)%12],on=E[((hi-fi)%12+12)%12];li&&!Ni&&(pi=li+(17-k)%10+20,Ni=pi+10),gi&&!Mi&&(Mi=gi+(17-k)%10);let tn="";ui===pi?tn="<span class='sanfu'>初伏</span>":ui===Ni?tn="<span class='sanfu'>中伏</span>":ui===Mi&&(tn="<span class='sanfu'>末伏</span>"),zn[i][s]=c[Math.ceil(q/2)]+an+on,ri[i][s]+=tn;for(let n=0;n<7;n++){if(fn[n]>=u&&fn[n]<u+1){ri[i][s]+="<span class='momie'>滅</span>"+(fn[n]+W-Math.floor(fn[n]+W)).toFixed(4).slice(2,6);break}if(dn[n]>=u&&dn[n]<u+1){ri[i][s]+="<span class='momie'>沒</span>"+(dn[n]+W-Math.floor(dn[n]+W)).toFixed(4).slice(2,6);break}}for(let n=0;n<10;n++)if(u>=K[n]&&u<K[n]+1){Li=n%8;const e=(u-K[n]).toFixed(4).slice(2,6);oi[i][s]="<span class='FiveNameSymbol'>"+M[Li]+"</span>"+e;break}if(r<11)for(let n=Si;n<80;n++){if(u>=nn[n]&&u<nn[n]+1){Si=n%(I===d?64:60);const e=(u-nn[n]).toFixed(4).slice(2,6);ai[i][s]=I[Si]+"<span class='HexagramSymbol'>"+U[Si]+"</span>"+e;break}ai[i][s]=""}const sn=Bn(e,k,$,H,en),un=kn(e,k),gn=$n(e,s),pn=Vn(e,$,s),Nn=pn.Blood,Mn=pn.Lin,An=Hn(q);si[i][s]=(sn||"")+(un||"")+(Mn||"")+(gn||""),ti[i][s]=v[s]+(Nn||"")+(An||""),Wn[i][s]=S[s]+"日"+Wn[i][s]}}return ui="凡"+i.encodeS(ui)+"日　"+wn,{Era:Mn,DayAccum:ui,YearGod:Dn,YearColor:On,MonName:xn,MonInfo:Pn,MonColor:Zn,Sc:Wn,Jd:qn,Nayin:zn,Week:Gn,Equa:_n,Eclp:Xn,Lati:ei,Sunrise:ni,Midstar:In,Dial:ii,MoonEclp:Un,MoonEclpLati:Kn,HouName:ri,HexagramName:ai,FiveName:oi,ManGod:ti,Luck:si}},L=[];for(let i=e;i<=r;i++)L.push(l(n,i));return L},Gn=n=>{const{YearInfo:i,MonthPrint:e,NewmAvgScPrint:r,NewmScPrint:a,NewmAvgDecimalPrint:o,NewmDecimal3Print:t,NewmDecimal2Print:s,NewmDecimal1Print:u,NewmEquaPrint:c,SyzygyScPrint:l,SyzygyDecimalPrint:g,TermNamePrint:m,TermAcrScPrint:h,TermAcrDecimalPrint:d,TermScPrint:f,TermDecimalPrint:p,TermEquaPrint:N,TermMidstarPrint:M}=n;let A=i;return A+="\n**月** "+e.join(" ")+"\n",a.length>0?(A+="**定朔** "+a.join(" ")+"\n",t.length>0&&(A+="**三次** "+t.join(" ")+"\n"),s.length>0&&(A+="**二次** "+s.join(" ")+"\n"),u.length>0&&(A+="**線性** "+u.join(" ")+"\n"),A+="**平朔** "+r.join(" ")+"\n**分** "+o.join(" ")+"\n"):A+="**平朔** "+r.join(" ")+"\n**分** "+o.join(" ")+"\n",(c||[]).length>0&&(A+="**赤度** "+c.join(" ")+"\n"),A+="**望** "+l.join(" ")+"\n**分** "+g.join(" ")+"\n**中氣** "+m.join(" ")+"\n",A+="**平氣** "+f.join(" ")+"\n**分** "+p.join(" ")+"\n",h.length>0&&(A+="**定氣** "+h.join(" ")+"\n**分** "+d.join(" ")+"\n"),(M||[]).length>0&&(A+="**氣赤**"+N.join(" ")+"\n",A+="**昏中** "+M.join(" ")+"\n"),A+"\n"},_n=n=>{const i=[];return Object.entries(n).forEach((([e,r])=>{for(let a=1;a<n.Sc.length;a++)i[a]||(i[a]=[]),Array.isArray(r)&&Array.isArray(r[a])&&r[a].length>0&&r[a].forEach(((n,r)=>{n&&(i[a][r]||(i[a][r]={}),i[a][r][e]=n)}))})),i};addEventListener("message",(n=>{const{eventName:i,YearStart:e,YearEnd:r,AutoMode:a,calendars:o}=n.data;let t=null;"print"===i&&(t=((n,i,e,r,a)=>{const o=[];if(i=parseInt(i),e=parseInt(e),a.forEach((n=>{let r=i;Jn(n,i,e).forEach(((n,e)=>{r=i+e;const a=n.Era;o[e]||(o[e]=[a]),o[e].push(Gn(n))}))})),r){const n=qn(i,e);Object.entries(n).forEach((([n,e])=>{for(const r of e)for(let e=r[0];e<=r[1];e++){const r=e-i;if(o[r][n])continue;const a=Jn(n,e),t=a.Era;o[r]||(o[r]=[t]),o[r].push(Gn(a))}}))}return o})(0,e,r,a,o),postMessage(new Blob([t]))),"display"===i&&(t=((n,i,e,r)=>{const a=[];if(n=parseInt(n),i=parseInt(i),r.forEach((e=>{let r=n;Jn(e,n,i).forEach(((i,o)=>{r=n+o,a[o]||(a[o]=[]),i.id=e+r,a[o].push(i)}))})),e){const e=qn(n,i);Object.entries(e).forEach((([i,e])=>{for(const r of e)for(let e=r[0];e<=r[1];e++){const r=e-n;a[r][i]||(a[r]||(a[r]=[]),result.id=i+e,a[r].push(Jn(i,e)))}}))}return a})(e,r,a,o),postMessage(t)),"Day"===i&&(t=((n,i)=>{const[e]=zn(i,n),{Era:r,YearColor:a,DayAccum:o,YearGod:t,MonName:s,MonInfo:u,MonColor:c,...l}=e;return{Era:r,YearColor:a,DayAccum:o,YearGod:t,MonName:s,MonInfo:u,MonColor:c,DayData:_n(l)}})(e,o[0]),postMessage(t))}))}()}();