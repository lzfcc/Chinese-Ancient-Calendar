## 方程模塊說明

### 隙積術　芻童垛

「芻童」卽長方稜臺。上有寬 a 個、長 b 個，下有寬 c 個、長 d 個，共 n 層，每層長寬各多 1 個。

### 四角垛　方垛

卽自然數平方級數求和。1+4+9+...+n^2 = 1/3 n (n+1) (n+1/2)=1/6 n (n+1) (2n+1)

### 三角垛　落一形垛

源於七乘方圖。p = 2 時，1+3+6+10+...+n (n+1) /2 = 1/6 n (n+1) (n+2)。通項公式：1/(p+1)! n (n+1) (n+2) ... (n+p)

### 招差術

在「數列」框中輸入一組離散値，數量 = 次數 + 1，以第一個數爲起算點。「次數」爲進行幾次內插，卽幾次多項式。n 爲所求的數，第一個離散値的 n 爲 1。內插公式的一般形式：f(x<sub>0</sub>+x) = f(x<sub>0</sub>) + Δ<sup>1</sup>x + Δ<sup>2</sup> 1/2! x (x-1) +...+ Δ<sup>p</sup> 1/p! x (x-1) ... (x-p+1)。初始値爲<v>大衍曆</v>晷影五次差分表

已知差分<n>由低次到高次排列</n>，求 y(n)。次數爲差分的個數。第一個數的 n 是 0，上面的是 1。

### 拉格朗日內插

數列中依次輸入各組 x, y 値。拉格朗日不等間距內插公式：y = Σ(n,1) yiLi, Li = Π(n,j=1,j≠i) (x-xj)/(xi-xj)

### 二分迭代解方程

需要預先估計根所在的範圍，正負皆可。也可用來高次開方。

### 會圓術

輸入圓的半徑 r、弓形的高「矢」h、週天度。會圓術求法：半弦長 <code>c = sqrt (r^2 - (r-h)^2)</code>。尤其需要注意的是，會圓術的標準是週天度 365.25，直徑 121.75，卽「週三徑一」，這個單位系是以 3 爲標準，而非圓周率 π（鄧可卉《授時曆中的弧矢割圓術再探》，《自然科學史研究》2007(2)），所以在與三角函數對照時，需要進行參照系轉換，詳見源代碼。可以發現，弧-矢之間的轉換誤差大約在 1 度以內，而弦長誤差多達 5 度餘，這是單位系不同造成的。在弧矢割圓術中，以弧作爲入口，用會圓術轉換爲弦長，最後再以弧作爲出口，將弦長轉換爲弧長，單獨來看，弦長的誤差相當大，但是在同一個單位系之中，這是自洽的。

### 三斜求積術

輸入三角形三邊邊長，求面積。秦九韶三斜求積術與希倫公式等價。